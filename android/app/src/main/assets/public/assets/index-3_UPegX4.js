var Vj=Object.defineProperty;var v1=t=>{throw TypeError(t)};var Fj=(t,e,n)=>e in t?Vj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oa=(t,e,n)=>Fj(t,typeof e!="symbol"?e+"":e,n),Ep=(t,e,n)=>e.has(t)||v1("Cannot "+n);var $=(t,e,n)=>(Ep(t,e,"read from private field"),n?n.call(t):e.get(t)),Te=(t,e,n)=>e.has(t)?v1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Ep(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Vt=(t,e,n)=>(Ep(t,e,"access private method"),n);var Md=(t,e,n,r)=>({set _(s){de(t,e,s,n)},get _(){return $(t,e,r)}});function Uj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function LS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VS={exports:{}},im={},FS={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=Symbol.for("react.element"),Bj=Symbol.for("react.portal"),$j=Symbol.for("react.fragment"),zj=Symbol.for("react.strict_mode"),Wj=Symbol.for("react.profiler"),Hj=Symbol.for("react.provider"),qj=Symbol.for("react.context"),Gj=Symbol.for("react.forward_ref"),Kj=Symbol.for("react.suspense"),Qj=Symbol.for("react.memo"),Yj=Symbol.for("react.lazy"),x1=Symbol.iterator;function Xj(t){return t===null||typeof t!="object"?null:(t=x1&&t[x1]||t["@@iterator"],typeof t=="function"?t:null)}var US={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BS=Object.assign,$S={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=$S,this.updater=n||US}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zS(){}zS.prototype=Tl.prototype;function zv(t,e,n){this.props=t,this.context=e,this.refs=$S,this.updater=n||US}var Wv=zv.prototype=new zS;Wv.constructor=zv;BS(Wv,Tl.prototype);Wv.isPureReactComponent=!0;var w1=Array.isArray,WS=Object.prototype.hasOwnProperty,Hv={current:null},HS={key:!0,ref:!0,__self:!0,__source:!0};function qS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)WS.call(e,r)&&!HS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ku,type:t,key:i,ref:o,props:s,_owner:Hv.current}}function Jj(t,e){return{$$typeof:Ku,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ku}function Zj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _1=/\/+/g;function Tp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zj(""+t.key):e.toString(36)}function mh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ku:case Bj:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Tp(o,0):r,w1(s)?(n="",t!=null&&(n=t.replace(_1,"$&/")+"/"),mh(s,e,n,"",function(u){return u})):s!=null&&(qv(s)&&(s=Jj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_1,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",w1(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Tp(i,a);o+=mh(i,e,n,l,s)}else if(l=Xj(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Tp(i,a++),o+=mh(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Od(t,e,n){if(t==null)return t;var r=[],s=0;return mh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function eD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},ph={transition:null},tD={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ph,ReactCurrentOwner:Hv};function GS(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Od,forEach:function(t,e,n){Od(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Od(t,function(){e++}),e},toArray:function(t){return Od(t,function(e){return e})||[]},only:function(t){if(!qv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Tl;we.Fragment=$j;we.Profiler=Wj;we.PureComponent=zv;we.StrictMode=zj;we.Suspense=Kj;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tD;we.act=GS;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Hv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WS.call(e,l)&&!HS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ku,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:qj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hj,_context:t},t.Consumer=t};we.createElement=qS;we.createFactory=function(t){var e=qS.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:Gj,render:t}};we.isValidElement=qv;we.lazy=function(t){return{$$typeof:Yj,_payload:{_status:-1,_result:t},_init:eD}};we.memo=function(t,e){return{$$typeof:Qj,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=ph.transition;ph.transition={};try{t()}finally{ph.transition=e}};we.unstable_act=GS;we.useCallback=function(t,e){return sn.current.useCallback(t,e)};we.useContext=function(t){return sn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};we.useEffect=function(t,e){return sn.current.useEffect(t,e)};we.useId=function(){return sn.current.useId()};we.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return sn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};we.useRef=function(t){return sn.current.useRef(t)};we.useState=function(t){return sn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return sn.current.useTransition()};we.version="18.3.1";FS.exports=we;var w=FS.exports;const K=LS(w),KS=Uj({__proto__:null,default:K},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD=w,rD=Symbol.for("react.element"),sD=Symbol.for("react.fragment"),iD=Object.prototype.hasOwnProperty,oD=nD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aD={key:!0,ref:!0,__self:!0,__source:!0};function QS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iD.call(e,r)&&!aD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rD,type:t,key:i,ref:o,props:s,_owner:oD.current}}im.Fragment=sD;im.jsx=QS;im.jsxs=QS;VS.exports=im;var c=VS.exports,YS={exports:{}},kn={},XS={exports:{}},JS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var H=O.length;O.push(L);e:for(;0<H;){var oe=H-1>>>1,se=O[oe];if(0<s(se,L))O[oe]=L,O[H]=se,H=oe;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],H=O.pop();if(H!==L){O[0]=H;e:for(var oe=0,se=O.length,ye=se>>>1;oe<ye;){var pe=2*(oe+1)-1,We=O[pe],it=pe+1,Se=O[it];if(0>s(We,H))it<se&&0>s(Se,We)?(O[oe]=Se,O[it]=H,oe=it):(O[oe]=We,O[pe]=H,oe=pe);else if(it<se&&0>s(Se,H))O[oe]=Se,O[it]=H,oe=it;else break e}}return L}function s(O,L){var H=O.sortIndex-L.sortIndex;return H!==0?H:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,m=3,p=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=O)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function N(O){if(y=!1,x(O),!v)if(n(l)!==null)v=!0,ne(C);else{var L=n(u);L!==null&&F(N,L.startTime-O)}}function C(O,L){v=!1,y&&(y=!1,_(S),S=-1),p=!0;var H=m;try{for(x(L),f=n(l);f!==null&&(!(f.expirationTime>L)||O&&!D());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,m=f.priorityLevel;var se=oe(f.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(l)&&r(l),x(L)}else r(l);f=n(l)}if(f!==null)var ye=!0;else{var pe=n(u);pe!==null&&F(N,pe.startTime-L),ye=!1}return ye}finally{f=null,m=H,p=!1}}var j=!1,I=null,S=-1,k=5,R=-1;function D(){return!(t.unstable_now()-R<k)}function M(){if(I!==null){var O=t.unstable_now();R=O;var L=!0;try{L=I(!0,O)}finally{L?A():(j=!1,I=null)}}else j=!1}var A;if(typeof T=="function")A=function(){T(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=M,A=function(){J.postMessage(null)}}else A=function(){b(M,0)};function ne(O){I=O,j||(j=!0,A())}function F(O,L){S=b(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,ne(C))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var H=m;m=L;try{return O()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=m;m=O;try{return L()}finally{m=H}},t.unstable_scheduleCallback=function(O,L,H){var oe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?oe+H:oe):H=oe,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=H+se,O={id:h++,callback:L,priorityLevel:O,startTime:H,expirationTime:se,sortIndex:-1},H>oe?(O.sortIndex=H,e(u,O),n(l)===null&&O===n(u)&&(y?(_(S),S=-1):y=!0,F(N,H-oe))):(O.sortIndex=se,e(l,O),v||p||(v=!0,ne(C))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var L=m;return function(){var H=m;m=L;try{return O.apply(this,arguments)}finally{m=H}}}})(JS);XS.exports=JS;var lD=XS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=w,An=lD;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZS=new Set,su={};function Go(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(su[t]=e,t=0;t<e.length;t++)ZS.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mg=Object.prototype.hasOwnProperty,uD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},E1={};function dD(t){return Mg.call(E1,t)?!0:Mg.call(b1,t)?!1:uD.test(t)?E1[t]=!0:(b1[t]=!0,!1)}function hD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fD(t,e,n,r){if(e===null||typeof e>"u"||hD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gv=/[\-:]([a-z])/g;function Kv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gv,Kv);Ot[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gv,Kv);Ot[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gv,Kv);Ot[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qv(t,e,n,r){var s=Ot.hasOwnProperty(e)?Ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fD(e,n,s,r)&&(n=null),r||s===null?dD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ns=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),Yv=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),Xv=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),Jv=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),nC=Symbol.for("react.offscreen"),T1=Symbol.iterator;function lc(t){return t===null||typeof t!="object"?null:(t=T1&&t[T1]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,Sp;function bc(t){if(Sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sp=e&&e[1]||""}return`
`+Sp+t}var Cp=!1;function Ip(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bc(t):""}function mD(t){switch(t.tag){case 5:return bc(t.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return t=Ip(t.type,!1),t;case 11:return t=Ip(t.type.render,!1),t;case 1:return t=Ip(t.type,!0),t;default:return""}}function Fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ma:return"Fragment";case fa:return"Portal";case Og:return"Profiler";case Yv:return"StrictMode";case Lg:return"Suspense";case Vg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tC:return(t.displayName||"Context")+".Consumer";case eC:return(t._context.displayName||"Context")+".Provider";case Xv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jv:return e=t.displayName||null,e!==null?e:Fg(t.type)||"Memo";case Ks:e=t._payload,t=t._init;try{return Fg(t(e))}catch{}}return null}function pD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(e);case 8:return e===Yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gD(t){var e=rC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vd(t){t._valueTracker||(t._valueTracker=gD(t))}function sC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ug(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function S1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iC(t,e){e=e.checked,e!=null&&Qv(t,"checked",e,!1)}function Bg(t,e){iC(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$g(t,e.type,n):e.hasOwnProperty("defaultValue")&&$g(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function C1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $g(t,e,n){(e!=="number"||Hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ec=Array.isArray;function Da(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function I1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ec(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function oC(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function A1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fd,lC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fd=Fd||document.createElement("div"),Fd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yD=["Webkit","ms","Moz","O"];Object.keys(Oc).forEach(function(t){yD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oc[e]=Oc[t]})});function cC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oc.hasOwnProperty(t)&&Oc[t]?(""+e).trim():e+"px"}function uC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vD=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hg(t,e){if(e){if(vD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function qg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gg=null;function Zv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kg=null,Ma=null,Oa=null;function k1(t){if(t=Xu(t)){if(typeof Kg!="function")throw Error(G(280));var e=t.stateNode;e&&(e=um(e),Kg(t.stateNode,t.type,e))}}function dC(t){Ma?Oa?Oa.push(t):Oa=[t]:Ma=t}function hC(){if(Ma){var t=Ma,e=Oa;if(Oa=Ma=null,k1(t),e)for(t=0;t<e.length;t++)k1(e[t])}}function fC(t,e){return t(e)}function mC(){}var Ap=!1;function pC(t,e,n){if(Ap)return t(e,n);Ap=!0;try{return fC(t,e,n)}finally{Ap=!1,(Ma!==null||Oa!==null)&&(mC(),hC())}}function ou(t,e){var n=t.stateNode;if(n===null)return null;var r=um(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Qg=!1;if(ys)try{var cc={};Object.defineProperty(cc,"passive",{get:function(){Qg=!0}}),window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{Qg=!1}function xD(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Lc=!1,qh=null,Gh=!1,Yg=null,wD={onError:function(t){Lc=!0,qh=t}};function _D(t,e,n,r,s,i,o,a,l){Lc=!1,qh=null,xD.apply(wD,arguments)}function bD(t,e,n,r,s,i,o,a,l){if(_D.apply(this,arguments),Lc){if(Lc){var u=qh;Lc=!1,qh=null}else throw Error(G(198));Gh||(Gh=!0,Yg=u)}}function Ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N1(t){if(Ko(t)!==t)throw Error(G(188))}function ED(t){var e=t.alternate;if(!e){if(e=Ko(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return N1(s),t;if(i===r)return N1(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function yC(t){return t=ED(t),t!==null?vC(t):null}function vC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vC(t);if(e!==null)return e;t=t.sibling}return null}var xC=An.unstable_scheduleCallback,P1=An.unstable_cancelCallback,TD=An.unstable_shouldYield,SD=An.unstable_requestPaint,rt=An.unstable_now,CD=An.unstable_getCurrentPriorityLevel,e0=An.unstable_ImmediatePriority,wC=An.unstable_UserBlockingPriority,Kh=An.unstable_NormalPriority,ID=An.unstable_LowPriority,_C=An.unstable_IdlePriority,om=null,Fr=null;function AD(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(om,t,void 0,(t.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:PD,kD=Math.log,ND=Math.LN2;function PD(t){return t>>>=0,t===0?32:31-(kD(t)/ND|0)|0}var Ud=64,Bd=4194304;function Tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Tc(a):(i&=o,i!==0&&(r=Tc(i)))}else o=n&~s,o!==0?r=Tc(o):i!==0&&(r=Tc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ur(e),s=1<<n,r|=t[n],e&=~s;return r}function RD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ur(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=RD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bC(){var t=Ud;return Ud<<=1,!(Ud&4194240)&&(Ud=64),t}function kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ur(e),t[e]=n}function DD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ur(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function t0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ur(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function EC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TC,n0,SC,CC,IC,Jg=!1,$d=[],mi=null,pi=null,gi=null,au=new Map,lu=new Map,Ys=[],MD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R1(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function uc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xu(e),e!==null&&n0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function OD(t,e,n,r,s){switch(e){case"focusin":return mi=uc(mi,t,e,n,r,s),!0;case"dragenter":return pi=uc(pi,t,e,n,r,s),!0;case"mouseover":return gi=uc(gi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return au.set(i,uc(au.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,lu.set(i,uc(lu.get(i)||null,t,e,n,r,s)),!0}return!1}function AC(t){var e=go(t.target);if(e!==null){var n=Ko(e);if(n!==null){if(e=n.tag,e===13){if(e=gC(n),e!==null){t.blockedOn=e,IC(t.priority,function(){SC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gg=r,n.target.dispatchEvent(r),Gg=null}else return e=Xu(n),e!==null&&n0(e),t.blockedOn=n,!1;e.shift()}return!0}function j1(t,e,n){gh(t)&&n.delete(e)}function LD(){Jg=!1,mi!==null&&gh(mi)&&(mi=null),pi!==null&&gh(pi)&&(pi=null),gi!==null&&gh(gi)&&(gi=null),au.forEach(j1),lu.forEach(j1)}function dc(t,e){t.blockedOn===e&&(t.blockedOn=null,Jg||(Jg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,LD)))}function cu(t){function e(s){return dc(s,t)}if(0<$d.length){dc($d[0],t);for(var n=1;n<$d.length;n++){var r=$d[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mi!==null&&dc(mi,t),pi!==null&&dc(pi,t),gi!==null&&dc(gi,t),au.forEach(e),lu.forEach(e),n=0;n<Ys.length;n++)r=Ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)AC(n),n.blockedOn===null&&Ys.shift()}var La=Ns.ReactCurrentBatchConfig,Yh=!0;function VD(t,e,n,r){var s=Re,i=La.transition;La.transition=null;try{Re=1,r0(t,e,n,r)}finally{Re=s,La.transition=i}}function FD(t,e,n,r){var s=Re,i=La.transition;La.transition=null;try{Re=4,r0(t,e,n,r)}finally{Re=s,La.transition=i}}function r0(t,e,n,r){if(Yh){var s=Zg(t,e,n,r);if(s===null)Fp(t,e,r,Xh,n),R1(t,r);else if(OD(s,t,e,n,r))r.stopPropagation();else if(R1(t,r),e&4&&-1<MD.indexOf(t)){for(;s!==null;){var i=Xu(s);if(i!==null&&TC(i),i=Zg(t,e,n,r),i===null&&Fp(t,e,r,Xh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Fp(t,e,r,null,n)}}var Xh=null;function Zg(t,e,n,r){if(Xh=null,t=Zv(r),t=go(t),t!==null)if(e=Ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xh=t,null}function kC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CD()){case e0:return 1;case wC:return 4;case Kh:case ID:return 16;case _C:return 536870912;default:return 16}default:return 16}}var li=null,s0=null,yh=null;function NC(){if(yh)return yh;var t,e=s0,n=e.length,r,s="value"in li?li.value:li.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return yh=s.slice(t,1<r?1-r:void 0)}function vh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zd(){return!0}function D1(){return!1}function Nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zd:D1,this.isPropagationStopped=D1,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zd)},persist:function(){},isPersistent:zd}),e}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i0=Nn(Sl),Yu=Xe({},Sl,{view:0,detail:0}),UD=Nn(Yu),Np,Pp,hc,am=Xe({},Yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hc&&(hc&&t.type==="mousemove"?(Np=t.screenX-hc.screenX,Pp=t.screenY-hc.screenY):Pp=Np=0,hc=t),Np)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),M1=Nn(am),BD=Xe({},am,{dataTransfer:0}),$D=Nn(BD),zD=Xe({},Yu,{relatedTarget:0}),Rp=Nn(zD),WD=Xe({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),HD=Nn(WD),qD=Xe({},Sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GD=Nn(qD),KD=Xe({},Sl,{data:0}),O1=Nn(KD),QD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XD[t])?!!e[t]:!1}function o0(){return JD}var ZD=Xe({},Yu,{key:function(t){if(t.key){var e=QD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(t){return t.type==="keypress"?vh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eM=Nn(ZD),tM=Xe({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L1=Nn(tM),nM=Xe({},Yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),rM=Nn(nM),sM=Xe({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),iM=Nn(sM),oM=Xe({},am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aM=Nn(oM),lM=[9,13,27,32],a0=ys&&"CompositionEvent"in window,Vc=null;ys&&"documentMode"in document&&(Vc=document.documentMode);var cM=ys&&"TextEvent"in window&&!Vc,PC=ys&&(!a0||Vc&&8<Vc&&11>=Vc),V1=" ",F1=!1;function RC(t,e){switch(t){case"keyup":return lM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function uM(t,e){switch(t){case"compositionend":return jC(e);case"keypress":return e.which!==32?null:(F1=!0,V1);case"textInput":return t=e.data,t===V1&&F1?null:t;default:return null}}function dM(t,e){if(pa)return t==="compositionend"||!a0&&RC(t,e)?(t=NC(),yh=s0=li=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PC&&e.locale!=="ko"?null:e.data;default:return null}}var hM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hM[t.type]:e==="textarea"}function DC(t,e,n,r){dC(r),e=Jh(e,"onChange"),0<e.length&&(n=new i0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fc=null,uu=null;function fM(t){HC(t,0)}function lm(t){var e=va(t);if(sC(e))return t}function mM(t,e){if(t==="change")return e}var MC=!1;if(ys){var jp;if(ys){var Dp="oninput"in document;if(!Dp){var B1=document.createElement("div");B1.setAttribute("oninput","return;"),Dp=typeof B1.oninput=="function"}jp=Dp}else jp=!1;MC=jp&&(!document.documentMode||9<document.documentMode)}function $1(){Fc&&(Fc.detachEvent("onpropertychange",OC),uu=Fc=null)}function OC(t){if(t.propertyName==="value"&&lm(uu)){var e=[];DC(e,uu,t,Zv(t)),pC(fM,e)}}function pM(t,e,n){t==="focusin"?($1(),Fc=e,uu=n,Fc.attachEvent("onpropertychange",OC)):t==="focusout"&&$1()}function gM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lm(uu)}function yM(t,e){if(t==="click")return lm(e)}function vM(t,e){if(t==="input"||t==="change")return lm(e)}function xM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:xM;function du(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mg.call(e,s)||!fr(t[s],e[s]))return!1}return!0}function z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W1(t,e){var n=z1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z1(n)}}function LC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VC(){for(var t=window,e=Hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hh(t.document)}return e}function l0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wM(t){var e=VC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LC(n.ownerDocument.documentElement,n)){if(r!==null&&l0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=W1(n,i);var o=W1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _M=ys&&"documentMode"in document&&11>=document.documentMode,ga=null,ey=null,Uc=null,ty=!1;function H1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ty||ga==null||ga!==Hh(r)||(r=ga,"selectionStart"in r&&l0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uc&&du(Uc,r)||(Uc=r,r=Jh(ey,"onSelect"),0<r.length&&(e=new i0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function Wd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},Mp={},FC={};ys&&(FC=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function cm(t){if(Mp[t])return Mp[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FC)return Mp[t]=e[n];return t}var UC=cm("animationend"),BC=cm("animationiteration"),$C=cm("animationstart"),zC=cm("transitionend"),WC=new Map,q1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(t,e){WC.set(t,e),Go(e,[t])}for(var Op=0;Op<q1.length;Op++){var Lp=q1[Op],bM=Lp.toLowerCase(),EM=Lp[0].toUpperCase()+Lp.slice(1);Hi(bM,"on"+EM)}Hi(UC,"onAnimationEnd");Hi(BC,"onAnimationIteration");Hi($C,"onAnimationStart");Hi("dblclick","onDoubleClick");Hi("focusin","onFocus");Hi("focusout","onBlur");Hi(zC,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sc));function G1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bD(r,e,void 0,t),t.currentTarget=null}function HC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;G1(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;G1(s,a,u),i=l}}}if(Gh)throw t=Yg,Gh=!1,Yg=null,t}function Be(t,e){var n=e[oy];n===void 0&&(n=e[oy]=new Set);var r=t+"__bubble";n.has(r)||(qC(e,t,2,!1),n.add(r))}function Vp(t,e,n){var r=0;e&&(r|=4),qC(n,t,r,e)}var Hd="_reactListening"+Math.random().toString(36).slice(2);function hu(t){if(!t[Hd]){t[Hd]=!0,ZS.forEach(function(n){n!=="selectionchange"&&(TM.has(n)||Vp(n,!1,t),Vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hd]||(e[Hd]=!0,Vp("selectionchange",!1,e))}}function qC(t,e,n,r){switch(kC(e)){case 1:var s=VD;break;case 4:s=FD;break;default:s=r0}n=s.bind(null,e,n,t),s=void 0,!Qg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Fp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}pC(function(){var u=i,h=Zv(n),f=[];e:{var m=WC.get(t);if(m!==void 0){var p=i0,v=t;switch(t){case"keypress":if(vh(n)===0)break e;case"keydown":case"keyup":p=eM;break;case"focusin":v="focus",p=Rp;break;case"focusout":v="blur",p=Rp;break;case"beforeblur":case"afterblur":p=Rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=M1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rM;break;case UC:case BC:case $C:p=HD;break;case zC:p=iM;break;case"scroll":p=UD;break;case"wheel":p=aM;break;case"copy":case"cut":case"paste":p=GD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=L1}var y=(e&4)!==0,b=!y&&t==="scroll",_=y?m!==null?m+"Capture":null:m;y=[];for(var T=u,x;T!==null;){x=T;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,_!==null&&(N=ou(T,_),N!=null&&y.push(fu(T,N,x)))),b)break;T=T.return}0<y.length&&(m=new p(m,v,null,n,h),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Gg&&(v=n.relatedTarget||n.fromElement)&&(go(v)||v[vs]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?go(v):null,v!==null&&(b=Ko(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=M1,N="onMouseLeave",_="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(y=L1,N="onPointerLeave",_="onPointerEnter",T="pointer"),b=p==null?m:va(p),x=v==null?m:va(v),m=new y(N,T+"leave",p,n,h),m.target=b,m.relatedTarget=x,N=null,go(h)===u&&(y=new y(_,T+"enter",v,n,h),y.target=x,y.relatedTarget=b,N=y),b=N,p&&v)t:{for(y=p,_=v,T=0,x=y;x;x=aa(x))T++;for(x=0,N=_;N;N=aa(N))x++;for(;0<T-x;)y=aa(y),T--;for(;0<x-T;)_=aa(_),x--;for(;T--;){if(y===_||_!==null&&y===_.alternate)break t;y=aa(y),_=aa(_)}y=null}else y=null;p!==null&&K1(f,m,p,y,!1),v!==null&&b!==null&&K1(f,b,v,y,!0)}}e:{if(m=u?va(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=mM;else if(U1(m))if(MC)C=vM;else{C=gM;var j=pM}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=yM);if(C&&(C=C(t,u))){DC(f,C,n,h);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&$g(m,"number",m.value)}switch(j=u?va(u):window,t){case"focusin":(U1(j)||j.contentEditable==="true")&&(ga=j,ey=u,Uc=null);break;case"focusout":Uc=ey=ga=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,H1(f,n,h);break;case"selectionchange":if(_M)break;case"keydown":case"keyup":H1(f,n,h)}var I;if(a0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else pa?RC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(PC&&n.locale!=="ko"&&(pa||S!=="onCompositionStart"?S==="onCompositionEnd"&&pa&&(I=NC()):(li=h,s0="value"in li?li.value:li.textContent,pa=!0)),j=Jh(u,S),0<j.length&&(S=new O1(S,t,null,n,h),f.push({event:S,listeners:j}),I?S.data=I:(I=jC(n),I!==null&&(S.data=I)))),(I=cM?uM(t,n):dM(t,n))&&(u=Jh(u,"onBeforeInput"),0<u.length&&(h=new O1("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}HC(f,e)})}function fu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ou(t,n),i!=null&&r.unshift(fu(t,i,s)),i=ou(t,e),i!=null&&r.push(fu(t,i,s))),t=t.return}return r}function aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=ou(n,i),l!=null&&o.unshift(fu(n,l,a))):s||(l=ou(n,i),l!=null&&o.push(fu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SM=/\r\n?/g,CM=/\u0000|\uFFFD/g;function Q1(t){return(typeof t=="string"?t:""+t).replace(SM,`
`).replace(CM,"")}function qd(t,e,n){if(e=Q1(e),Q1(t)!==e&&n)throw Error(G(425))}function Zh(){}var ny=null,ry=null;function sy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,IM=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,AM=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(t){return Y1.resolve(null).then(t).catch(kM)}:iy;function kM(t){setTimeout(function(){throw t})}function Up(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),cu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);cu(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),Or="__reactFiber$"+Cl,mu="__reactProps$"+Cl,vs="__reactContainer$"+Cl,oy="__reactEvents$"+Cl,NM="__reactListeners$"+Cl,PM="__reactHandles$"+Cl;function go(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vs]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X1(t);t!==null;){if(n=t[Or])return n;t=X1(t)}return e}t=n,n=t.parentNode}return null}function Xu(t){return t=t[Or]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function um(t){return t[mu]||null}var ay=[],xa=-1;function qi(t){return{current:t}}function $e(t){0>xa||(t.current=ay[xa],ay[xa]=null,xa--)}function Le(t,e){xa++,ay[xa]=t.current,t.current=e}var Ni={},Kt=qi(Ni),pn=qi(!1),Ro=Ni;function il(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function ef(){$e(pn),$e(Kt)}function J1(t,e,n){if(Kt.current!==Ni)throw Error(G(168));Le(Kt,e),Le(pn,n)}function GC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,pD(t)||"Unknown",s));return Xe({},n,r)}function tf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,Ro=Kt.current,Le(Kt,t),Le(pn,pn.current),!0}function Z1(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=GC(t,e,Ro),r.__reactInternalMemoizedMergedChildContext=t,$e(pn),$e(Kt),Le(Kt,t)):$e(pn),Le(pn,n)}var as=null,dm=!1,Bp=!1;function KC(t){as===null?as=[t]:as.push(t)}function RM(t){dm=!0,KC(t)}function Gi(){if(!Bp&&as!==null){Bp=!0;var t=0,e=Re;try{var n=as;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,dm=!1}catch(s){throw as!==null&&(as=as.slice(t+1)),xC(e0,Gi),s}finally{Re=e,Bp=!1}}return null}var wa=[],_a=0,nf=null,rf=0,Ln=[],Vn=0,jo=null,cs=1,us="";function uo(t,e){wa[_a++]=rf,wa[_a++]=nf,nf=t,rf=e}function QC(t,e,n){Ln[Vn++]=cs,Ln[Vn++]=us,Ln[Vn++]=jo,jo=t;var r=cs;t=us;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var i=32-ur(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cs=1<<32-ur(e)+s|n<<s|r,us=i+t}else cs=1<<i|n<<s|r,us=t}function c0(t){t.return!==null&&(uo(t,1),QC(t,1,0))}function u0(t){for(;t===nf;)nf=wa[--_a],wa[_a]=null,rf=wa[--_a],wa[_a]=null;for(;t===jo;)jo=Ln[--Vn],Ln[Vn]=null,us=Ln[--Vn],Ln[Vn]=null,cs=Ln[--Vn],Ln[Vn]=null}var Sn=null,En=null,He=!1,lr=null;function YC(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,En=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=jo!==null?{id:cs,overflow:us}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,En=null,!0):!1;default:return!1}}function ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cy(t){if(He){var e=En;if(e){var n=e;if(!e_(t,e)){if(ly(t))throw Error(G(418));e=yi(n.nextSibling);var r=Sn;e&&e_(t,e)?YC(r,n):(t.flags=t.flags&-4097|2,He=!1,Sn=t)}}else{if(ly(t))throw Error(G(418));t.flags=t.flags&-4097|2,He=!1,Sn=t}}}function t_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Gd(t){if(t!==Sn)return!1;if(!He)return t_(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sy(t.type,t.memoizedProps)),e&&(e=En)){if(ly(t))throw XC(),Error(G(418));for(;e;)YC(t,e),e=yi(e.nextSibling)}if(t_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Sn?yi(t.stateNode.nextSibling):null;return!0}function XC(){for(var t=En;t;)t=yi(t.nextSibling)}function ol(){En=Sn=null,He=!1}function d0(t){lr===null?lr=[t]:lr.push(t)}var jM=Ns.ReactCurrentBatchConfig;function fc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Kd(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n_(t){var e=t._init;return e(t._payload)}function JC(t){function e(_,T){if(t){var x=_.deletions;x===null?(_.deletions=[T],_.flags|=16):x.push(T)}}function n(_,T){if(!t)return null;for(;T!==null;)e(_,T),T=T.sibling;return null}function r(_,T){for(_=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function s(_,T){return _=_i(_,T),_.index=0,_.sibling=null,_}function i(_,T,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<T?(_.flags|=2,T):x):(_.flags|=2,T)):(_.flags|=1048576,T)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,T,x,N){return T===null||T.tag!==6?(T=Kp(x,_.mode,N),T.return=_,T):(T=s(T,x),T.return=_,T)}function l(_,T,x,N){var C=x.type;return C===ma?h(_,T,x.props.children,N,x.key):T!==null&&(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&n_(C)===T.type)?(N=s(T,x.props),N.ref=fc(_,T,x),N.return=_,N):(N=Sh(x.type,x.key,x.props,null,_.mode,N),N.ref=fc(_,T,x),N.return=_,N)}function u(_,T,x,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==x.containerInfo||T.stateNode.implementation!==x.implementation?(T=Qp(x,_.mode,N),T.return=_,T):(T=s(T,x.children||[]),T.return=_,T)}function h(_,T,x,N,C){return T===null||T.tag!==7?(T=ko(x,_.mode,N,C),T.return=_,T):(T=s(T,x),T.return=_,T)}function f(_,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Kp(""+T,_.mode,x),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ld:return x=Sh(T.type,T.key,T.props,null,_.mode,x),x.ref=fc(_,null,T),x.return=_,x;case fa:return T=Qp(T,_.mode,x),T.return=_,T;case Ks:var N=T._init;return f(_,N(T._payload),x)}if(Ec(T)||lc(T))return T=ko(T,_.mode,x,null),T.return=_,T;Kd(_,T)}return null}function m(_,T,x,N){var C=T!==null?T.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(_,T,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ld:return x.key===C?l(_,T,x,N):null;case fa:return x.key===C?u(_,T,x,N):null;case Ks:return C=x._init,m(_,T,C(x._payload),N)}if(Ec(x)||lc(x))return C!==null?null:h(_,T,x,N,null);Kd(_,x)}return null}function p(_,T,x,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(x)||null,a(T,_,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ld:return _=_.get(N.key===null?x:N.key)||null,l(T,_,N,C);case fa:return _=_.get(N.key===null?x:N.key)||null,u(T,_,N,C);case Ks:var j=N._init;return p(_,T,x,j(N._payload),C)}if(Ec(N)||lc(N))return _=_.get(x)||null,h(T,_,N,C,null);Kd(T,N)}return null}function v(_,T,x,N){for(var C=null,j=null,I=T,S=T=0,k=null;I!==null&&S<x.length;S++){I.index>S?(k=I,I=null):k=I.sibling;var R=m(_,I,x[S],N);if(R===null){I===null&&(I=k);break}t&&I&&R.alternate===null&&e(_,I),T=i(R,T,S),j===null?C=R:j.sibling=R,j=R,I=k}if(S===x.length)return n(_,I),He&&uo(_,S),C;if(I===null){for(;S<x.length;S++)I=f(_,x[S],N),I!==null&&(T=i(I,T,S),j===null?C=I:j.sibling=I,j=I);return He&&uo(_,S),C}for(I=r(_,I);S<x.length;S++)k=p(I,_,S,x[S],N),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),T=i(k,T,S),j===null?C=k:j.sibling=k,j=k);return t&&I.forEach(function(D){return e(_,D)}),He&&uo(_,S),C}function y(_,T,x,N){var C=lc(x);if(typeof C!="function")throw Error(G(150));if(x=C.call(x),x==null)throw Error(G(151));for(var j=C=null,I=T,S=T=0,k=null,R=x.next();I!==null&&!R.done;S++,R=x.next()){I.index>S?(k=I,I=null):k=I.sibling;var D=m(_,I,R.value,N);if(D===null){I===null&&(I=k);break}t&&I&&D.alternate===null&&e(_,I),T=i(D,T,S),j===null?C=D:j.sibling=D,j=D,I=k}if(R.done)return n(_,I),He&&uo(_,S),C;if(I===null){for(;!R.done;S++,R=x.next())R=f(_,R.value,N),R!==null&&(T=i(R,T,S),j===null?C=R:j.sibling=R,j=R);return He&&uo(_,S),C}for(I=r(_,I);!R.done;S++,R=x.next())R=p(I,_,S,R.value,N),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?S:R.key),T=i(R,T,S),j===null?C=R:j.sibling=R,j=R);return t&&I.forEach(function(M){return e(_,M)}),He&&uo(_,S),C}function b(_,T,x,N){if(typeof x=="object"&&x!==null&&x.type===ma&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ld:e:{for(var C=x.key,j=T;j!==null;){if(j.key===C){if(C=x.type,C===ma){if(j.tag===7){n(_,j.sibling),T=s(j,x.props.children),T.return=_,_=T;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&n_(C)===j.type){n(_,j.sibling),T=s(j,x.props),T.ref=fc(_,j,x),T.return=_,_=T;break e}n(_,j);break}else e(_,j);j=j.sibling}x.type===ma?(T=ko(x.props.children,_.mode,N,x.key),T.return=_,_=T):(N=Sh(x.type,x.key,x.props,null,_.mode,N),N.ref=fc(_,T,x),N.return=_,_=N)}return o(_);case fa:e:{for(j=x.key;T!==null;){if(T.key===j)if(T.tag===4&&T.stateNode.containerInfo===x.containerInfo&&T.stateNode.implementation===x.implementation){n(_,T.sibling),T=s(T,x.children||[]),T.return=_,_=T;break e}else{n(_,T);break}else e(_,T);T=T.sibling}T=Qp(x,_.mode,N),T.return=_,_=T}return o(_);case Ks:return j=x._init,b(_,T,j(x._payload),N)}if(Ec(x))return v(_,T,x,N);if(lc(x))return y(_,T,x,N);Kd(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,T!==null&&T.tag===6?(n(_,T.sibling),T=s(T,x),T.return=_,_=T):(n(_,T),T=Kp(x,_.mode,N),T.return=_,_=T),o(_)):n(_,T)}return b}var al=JC(!0),ZC=JC(!1),sf=qi(null),of=null,ba=null,h0=null;function f0(){h0=ba=of=null}function m0(t){var e=sf.current;$e(sf),t._currentValue=e}function uy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Va(t,e){of=t,h0=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(h0!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(of===null)throw Error(G(308));ba=t,of.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var yo=null;function p0(t){yo===null?yo=[t]:yo.push(t)}function eI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,p0(e)):(n.next=s.next,s.next=n),e.interleaved=n,xs(t,r)}function xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qs=!1;function g0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,xs(t,n)}return s=r.interleaved,s===null?(e.next=e,p0(r)):(e.next=s.next,s.next=e),r.interleaved=e,xs(t,n)}function xh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t0(t,n)}}function r_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function af(t,e,n,r){var s=t.updateQueue;Qs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(m=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(p,f,m);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(p,f,m):v,m==null)break e;f=Xe({},f,m);break e;case 2:Qs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=f):h=h.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=f}}function s_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Ju={},Ur=qi(Ju),pu=qi(Ju),gu=qi(Ju);function vo(t){if(t===Ju)throw Error(G(174));return t}function y0(t,e){switch(Le(gu,e),Le(pu,t),Le(Ur,Ju),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wg(e,t)}$e(Ur),Le(Ur,e)}function ll(){$e(Ur),$e(pu),$e(gu)}function nI(t){vo(gu.current);var e=vo(Ur.current),n=Wg(e,t.type);e!==n&&(Le(pu,t),Le(Ur,n))}function v0(t){pu.current===t&&($e(Ur),$e(pu))}var Ke=qi(0);function lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function x0(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var wh=Ns.ReactCurrentDispatcher,zp=Ns.ReactCurrentBatchConfig,Do=0,Ye=null,pt=null,Ct=null,cf=!1,Bc=!1,yu=0,DM=0;function Ft(){throw Error(G(321))}function w0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function _0(t,e,n,r,s,i){if(Do=i,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wh.current=t===null||t.memoizedState===null?VM:FM,t=n(r,s),Bc){i=0;do{if(Bc=!1,yu=0,25<=i)throw Error(G(301));i+=1,Ct=pt=null,e.updateQueue=null,wh.current=UM,t=n(r,s)}while(Bc)}if(wh.current=uf,e=pt!==null&&pt.next!==null,Do=0,Ct=pt=Ye=null,cf=!1,e)throw Error(G(300));return t}function b0(){var t=yu!==0;return yu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ye.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Qn(){if(pt===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Ct===null?Ye.memoizedState:Ct.next;if(e!==null)Ct=e,pt=t;else{if(t===null)throw Error(G(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ct===null?Ye.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function vu(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=pt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((Do&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ye.lanes|=h,Mo|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,fr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ye.lanes|=i,Mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hp(t){var e=Qn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fr(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rI(){}function sI(t,e){var n=Ye,r=Qn(),s=e(),i=!fr(r.memoizedState,s);if(i&&(r.memoizedState=s,mn=!0),r=r.queue,E0(aI.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,xu(9,oI.bind(null,n,r,s,e),void 0,null),It===null)throw Error(G(349));Do&30||iI(n,e,s)}return s}function iI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oI(t,e,n,r){e.value=n,e.getSnapshot=r,lI(e)&&cI(t)}function aI(t,e,n){return n(function(){lI(e)&&cI(t)})}function lI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function cI(t){var e=xs(t,1);e!==null&&dr(e,t,1,-1)}function i_(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:t},e.queue=t,t=t.dispatch=LM.bind(null,Ye,t),[e.memoizedState,t]}function xu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uI(){return Qn().memoizedState}function _h(t,e,n,r){var s=Pr();Ye.flags|=t,s.memoizedState=xu(1|e,n,void 0,r===void 0?null:r)}function hm(t,e,n,r){var s=Qn();r=r===void 0?null:r;var i=void 0;if(pt!==null){var o=pt.memoizedState;if(i=o.destroy,r!==null&&w0(r,o.deps)){s.memoizedState=xu(e,n,i,r);return}}Ye.flags|=t,s.memoizedState=xu(1|e,n,i,r)}function o_(t,e){return _h(8390656,8,t,e)}function E0(t,e){return hm(2048,8,t,e)}function dI(t,e){return hm(4,2,t,e)}function hI(t,e){return hm(4,4,t,e)}function fI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mI(t,e,n){return n=n!=null?n.concat([t]):null,hm(4,4,fI.bind(null,e,t),n)}function T0(){}function pI(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gI(t,e){var n=Qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&w0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yI(t,e,n){return Do&21?(fr(n,e)||(n=bC(),Ye.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function MM(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=zp.transition;zp.transition={};try{t(!1),e()}finally{Re=n,zp.transition=r}}function vI(){return Qn().memoizedState}function OM(t,e,n){var r=wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xI(t))wI(e,n);else if(n=eI(t,e,n,r),n!==null){var s=nn();dr(n,t,r,s),_I(n,e,r)}}function LM(t,e,n){var r=wi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xI(t))wI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fr(a,o)){var l=e.interleaved;l===null?(s.next=s,p0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=eI(t,e,s,r),n!==null&&(s=nn(),dr(n,t,r,s),_I(n,e,r))}}function xI(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function wI(t,e){Bc=cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _I(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,t0(t,n)}}var uf={readContext:Kn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},VM={readContext:Kn,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:o_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_h(4194308,4,fI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _h(4194308,4,t,e)},useInsertionEffect:function(t,e){return _h(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OM.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:i_,useDebugValue:T0,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=i_(!1),e=t[0];return t=MM.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=Pr();if(He){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),It===null)throw Error(G(349));Do&30||iI(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,o_(aI.bind(null,r,i,t),[t]),r.flags|=2048,xu(9,oI.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pr(),e=It.identifierPrefix;if(He){var n=us,r=cs;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FM={readContext:Kn,useCallback:pI,useContext:Kn,useEffect:E0,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:hI,useMemo:gI,useReducer:Wp,useRef:uI,useState:function(){return Wp(vu)},useDebugValue:T0,useDeferredValue:function(t){var e=Qn();return yI(e,pt.memoizedState,t)},useTransition:function(){var t=Wp(vu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:sI,useId:vI,unstable_isNewReconciler:!1},UM={readContext:Kn,useCallback:pI,useContext:Kn,useEffect:E0,useImperativeHandle:mI,useInsertionEffect:dI,useLayoutEffect:hI,useMemo:gI,useReducer:Hp,useRef:uI,useState:function(){return Hp(vu)},useDebugValue:T0,useDeferredValue:function(t){var e=Qn();return pt===null?e.memoizedState=t:yI(e,pt.memoizedState,t)},useTransition:function(){var t=Hp(vu)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:rI,useSyncExternalStore:sI,useId:vI,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fm={isMounted:function(t){return(t=t._reactInternals)?Ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=wi(t),i=fs(r,s);i.payload=e,n!=null&&(i.callback=n),e=vi(t,i,s),e!==null&&(dr(e,t,s,r),xh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=wi(t),i=fs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vi(t,i,s),e!==null&&(dr(e,t,s,r),xh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=wi(t),s=fs(n,r);s.tag=2,e!=null&&(s.callback=e),e=vi(t,s,r),e!==null&&(dr(e,t,r,n),xh(e,t,r))}};function a_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!du(n,r)||!du(s,i):!0}function bI(t,e,n){var r=!1,s=Ni,i=e.contextType;return typeof i=="object"&&i!==null?i=Kn(i):(s=gn(e)?Ro:Kt.current,r=e.contextTypes,i=(r=r!=null)?il(t,s):Ni),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function l_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function hy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},g0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Kn(i):(i=gn(e)?Ro:Kt.current,s.context=il(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fm.enqueueReplaceState(s,s.state,null),af(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function cl(t,e){try{var n="",r=e;do n+=mD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BM=typeof WeakMap=="function"?WeakMap:Map;function EI(t,e,n){n=fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hf||(hf=!0,Ey=r),fy(t,e)},n}function TI(t,e,n){n=fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){fy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){fy(t,e),typeof r!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function c_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=t4.bind(null,t,e,n),e.then(t,t))}function u_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fs(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var $M=Ns.ReactCurrentOwner,mn=!1;function Jt(t,e,n,r){e.child=t===null?ZC(e,null,n,r):al(e,t.child,n,r)}function h_(t,e,n,r,s){n=n.render;var i=e.ref;return Va(e,s),r=_0(t,e,n,r,i,s),n=b0(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ws(t,e,s)):(He&&n&&c0(e),e.flags|=1,Jt(t,e,r,s),e.child)}function f_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!R0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,SI(t,e,i,r,s)):(t=Sh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:du,n(o,r)&&t.ref===e.ref)return ws(t,e,s)}return e.flags|=1,t=_i(i,r),t.ref=e.ref,t.return=e,e.child=t}function SI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(du(i,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,ws(t,e,s)}return my(t,e,n,r,s)}function CI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ta,_n),_n|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Ta,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(Ta,_n),_n|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(Ta,_n),_n|=r;return Jt(t,e,s,n),e.child}function II(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function my(t,e,n,r,s){var i=gn(n)?Ro:Kt.current;return i=il(e,i),Va(e,s),n=_0(t,e,n,r,i,s),r=b0(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ws(t,e,s)):(He&&r&&c0(e),e.flags|=1,Jt(t,e,n,s),e.child)}function m_(t,e,n,r,s){if(gn(n)){var i=!0;tf(e)}else i=!1;if(Va(e,s),e.stateNode===null)bh(t,e),bI(e,n,r),hy(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=gn(n)?Ro:Kt.current,u=il(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&l_(e,o,r,u),Qs=!1;var m=e.memoizedState;o.state=m,af(e,r,o,s),l=e.memoizedState,a!==r||m!==l||pn.current||Qs?(typeof h=="function"&&(dy(e,n,h,r),l=e.memoizedState),(a=Qs||a_(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:rr(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=gn(n)?Ro:Kt.current,l=il(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&l_(e,o,r,l),Qs=!1,m=e.memoizedState,o.state=m,af(e,r,o,s);var v=e.memoizedState;a!==f||m!==v||pn.current||Qs?(typeof p=="function"&&(dy(e,n,p,r),v=e.memoizedState),(u=Qs||a_(e,n,u,r,m,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return py(t,e,n,r,i,s)}function py(t,e,n,r,s,i){II(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Z1(e,n,!1),ws(t,e,i);r=e.stateNode,$M.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=al(e,t.child,null,i),e.child=al(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&Z1(e,n,!0),e.child}function AI(t){var e=t.stateNode;e.pendingContext?J1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J1(t,e.context,!1),y0(t,e.containerInfo)}function p_(t,e,n,r,s){return ol(),d0(s),e.flags|=256,Jt(t,e,n,r),e.child}var gy={dehydrated:null,treeContext:null,retryLane:0};function yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function kI(t,e,n){var r=e.pendingProps,s=Ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ke,s&1),t===null)return cy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=gm(o,r,0,null),t=ko(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yy(n),e.memoizedState=gy,t):S0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return zM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_i(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_i(a,i):(i=ko(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gy,r}return i=t.child,t=i.sibling,r=_i(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function S0(t,e){return e=gm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qd(t,e,n,r){return r!==null&&d0(r),al(e,t.child,null,n),t=S0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qp(Error(G(422))),Qd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=gm({mode:"visible",children:r.children},s,0,null),i=ko(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&al(e,t.child,null,o),e.child.memoizedState=yy(o),e.memoizedState=gy,i);if(!(e.mode&1))return Qd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=qp(i,r,void 0),Qd(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=It,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xs(t,s),dr(r,t,s,-1))}return P0(),r=qp(Error(G(421))),Qd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=n4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,En=yi(s.nextSibling),Sn=e,He=!0,lr=null,t!==null&&(Ln[Vn++]=cs,Ln[Vn++]=us,Ln[Vn++]=jo,cs=t.id,us=t.overflow,jo=e),e=S0(e,r.children),e.flags|=4096,e)}function g_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uy(t.return,e,n)}function Gp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function NI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g_(t,n,e);else if(t.tag===19)g_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&lf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Gp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&lf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Gp(e,!0,n,null,i);break;case"together":Gp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ws(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WM(t,e,n){switch(e.tag){case 3:AI(e),ol();break;case 5:nI(e);break;case 1:gn(e.type)&&tf(e);break;case 4:y0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(sf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?kI(t,e,n):(Le(Ke,Ke.current&1),t=ws(t,e,n),t!==null?t.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,CI(t,e,n)}return ws(t,e,n)}var PI,vy,RI,jI;PI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vy=function(){};RI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vo(Ur.current);var i=null;switch(n){case"input":s=Ug(t,s),r=Ug(t,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=zg(t,s),r=zg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zh)}Hg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(su.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(su.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};jI=function(t,e,n,r){n!==r&&(e.flags|=4)};function mc(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HM(t,e,n){var r=e.pendingProps;switch(u0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return gn(e.type)&&ef(),Ut(e),null;case 3:return r=e.stateNode,ll(),$e(pn),$e(Kt),x0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lr!==null&&(Cy(lr),lr=null))),vy(t,e),Ut(e),null;case 5:v0(e);var s=vo(gu.current);if(n=e.type,t!==null&&e.stateNode!=null)RI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ut(e),null}if(t=vo(Ur.current),Gd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Or]=e,r[mu]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<Sc.length;s++)Be(Sc[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":S1(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":I1(r,i),Be("invalid",r)}Hg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&qd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&qd(r.textContent,a,t),s=["children",""+a]):su.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Vd(r),C1(r,i,!0);break;case"textarea":Vd(r),A1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[mu]=r,PI(t,e,!1,!1),e.stateNode=t;e:{switch(o=qg(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Sc.length;s++)Be(Sc[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":S1(t,r),s=Ug(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Be("invalid",t);break;case"textarea":I1(t,r),s=zg(t,r),Be("invalid",t);break;default:s=r}Hg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&iu(t,l):typeof l=="number"&&iu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(su.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&Qv(t,i,l,o))}switch(n){case"input":Vd(t),C1(t,r,!1);break;case"textarea":Vd(t),A1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Da(t,!!r.multiple,i,!1):r.defaultValue!=null&&Da(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)jI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=vo(gu.current),vo(Ur.current),Gd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(i=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:qd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Ut(e),null;case 13:if($e(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&En!==null&&e.mode&1&&!(e.flags&128))XC(),ol(),e.flags|=98560,i=!1;else if(i=Gd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Or]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else lr!==null&&(Cy(lr),lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?yt===0&&(yt=3):P0())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return ll(),vy(t,e),t===null&&hu(e.stateNode.containerInfo),Ut(e),null;case 10:return m0(e.type._context),Ut(e),null;case 17:return gn(e.type)&&ef(),Ut(e),null;case 19:if($e(Ke),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mc(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lf(t),o!==null){for(e.flags|=128,mc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ke,Ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&rt()>ul&&(e.flags|=128,r=!0,mc(i,!1),e.lanes=4194304)}else{if(!r)if(t=lf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!He)return Ut(e),null}else 2*rt()-i.renderingStartTime>ul&&n!==1073741824&&(e.flags|=128,r=!0,mc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=rt(),e.sibling=null,n=Ke.current,Le(Ke,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return N0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_n&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function qM(t,e){switch(u0(e),e.tag){case 1:return gn(e.type)&&ef(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ll(),$e(pn),$e(Kt),x0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return v0(e),null;case 13:if($e(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ke),null;case 4:return ll(),null;case 10:return m0(e.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var Yd=!1,Wt=!1,GM=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function xy(t,e,n){try{n()}catch(r){tt(t,e,r)}}var y_=!1;function KM(t,e){if(ny=Yh,t=VC(),l0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++h===r&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ry={focusedElem:t,selectionRange:n},Yh=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,_=e.stateNode,T=_.getSnapshotBeforeUpdate(e.elementType===e.type?y:rr(e.type,y),b);_.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(N){tt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return v=y_,y_=!1,v}function $c(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xy(e,n,i)}s=s.next}while(s!==r)}}function mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DI(t){var e=t.alternate;e!==null&&(t.alternate=null,DI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[mu],delete e[oy],delete e[NM],delete e[PM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MI(t){return t.tag===5||t.tag===3||t.tag===4}function v_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _y(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zh));else if(r!==4&&(t=t.child,t!==null))for(_y(t,e,n),t=t.sibling;t!==null;)_y(t,e,n),t=t.sibling}function by(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(by(t,e,n),t=t.sibling;t!==null;)by(t,e,n),t=t.sibling}var kt=null,ar=!1;function Bs(t,e,n){for(n=n.child;n!==null;)OI(t,e,n),n=n.sibling}function OI(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(om,n)}catch{}switch(n.tag){case 5:Wt||Ea(n,e);case 6:var r=kt,s=ar;kt=null,Bs(t,e,n),kt=r,ar=s,kt!==null&&(ar?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(ar?(t=kt,n=n.stateNode,t.nodeType===8?Up(t.parentNode,n):t.nodeType===1&&Up(t,n),cu(t)):Up(kt,n.stateNode));break;case 4:r=kt,s=ar,kt=n.stateNode.containerInfo,ar=!0,Bs(t,e,n),kt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xy(n,e,o),s=s.next}while(s!==r)}Bs(t,e,n);break;case 1:if(!Wt&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Bs(t,e,n);break;case 21:Bs(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Bs(t,e,n),Wt=r):Bs(t,e,n);break;default:Bs(t,e,n)}}function x_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GM),e.forEach(function(r){var s=r4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,ar=!1;break e;case 3:kt=a.stateNode.containerInfo,ar=!0;break e;case 4:kt=a.stateNode.containerInfo,ar=!0;break e}a=a.return}if(kt===null)throw Error(G(160));OI(i,o,s),kt=null,ar=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){tt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LI(e,t),e=e.sibling}function LI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),Nr(t),r&4){try{$c(3,t,t.return),mm(3,t)}catch(y){tt(t,t.return,y)}try{$c(5,t,t.return)}catch(y){tt(t,t.return,y)}}break;case 1:Zn(e,t),Nr(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(Zn(e,t),Nr(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var s=t.stateNode;try{iu(s,"")}catch(y){tt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iC(s,i),qg(a,o);var u=qg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?uC(s,f):h==="dangerouslySetInnerHTML"?lC(s,f):h==="children"?iu(s,f):Qv(s,h,f,u)}switch(a){case"input":Bg(s,i);break;case"textarea":oC(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Da(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Da(s,!!i.multiple,i.defaultValue,!0):Da(s,!!i.multiple,i.multiple?[]:"",!1))}s[mu]=i}catch(y){tt(t,t.return,y)}}break;case 6:if(Zn(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){tt(t,t.return,y)}}break;case 3:if(Zn(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cu(e.containerInfo)}catch(y){tt(t,t.return,y)}break;case 4:Zn(e,t),Nr(t);break;case 13:Zn(e,t),Nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(A0=rt())),r&4&&x_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||h,Zn(e,t),Wt=u):Zn(e,t),Nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ee=t,h=t.child;h!==null;){for(f=ee=h;ee!==null;){switch(m=ee,p=m.child,m.tag){case 0:case 11:case 14:case 15:$c(4,m,m.return);break;case 1:Ea(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){tt(r,n,y)}}break;case 5:Ea(m,m.return);break;case 22:if(m.memoizedState!==null){__(f);continue}}p!==null?(p.return=m,ee=p):__(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cC("display",o))}catch(y){tt(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){tt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),Nr(t),r&4&&x_(t);break;case 21:break;default:Zn(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MI(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(iu(s,""),r.flags&=-33);var i=v_(t);by(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v_(t);_y(t,a,o);break;default:throw Error(G(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QM(t,e,n){ee=t,VI(t)}function VI(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Yd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Yd;var u=Wt;if(Yd=o,(Wt=l)&&!u)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?b_(s):l!==null?(l.return=o,ee=l):b_(s);for(;i!==null;)ee=i,VI(i),i=i.sibling;ee=s,Yd=a,Wt=u}w_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):w_(t)}}function w_(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&s_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}s_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&cu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Wt||e.flags&512&&wy(e)}catch(m){tt(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function __(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function b_(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mm(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){tt(e,s,l)}}var i=e.return;try{wy(e)}catch(l){tt(e,i,l)}break;case 5:var o=e.return;try{wy(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var YM=Math.ceil,df=Ns.ReactCurrentDispatcher,C0=Ns.ReactCurrentOwner,Wn=Ns.ReactCurrentBatchConfig,Ie=0,It=null,lt=null,Dt=0,_n=0,Ta=qi(0),yt=0,wu=null,Mo=0,pm=0,I0=0,zc=null,dn=null,A0=0,ul=1/0,os=null,hf=!1,Ey=null,xi=null,Xd=!1,ci=null,ff=0,Wc=0,Ty=null,Eh=-1,Th=0;function nn(){return Ie&6?rt():Eh!==-1?Eh:Eh=rt()}function wi(t){return t.mode&1?Ie&2&&Dt!==0?Dt&-Dt:jM.transition!==null?(Th===0&&(Th=bC()),Th):(t=Re,t!==0||(t=window.event,t=t===void 0?16:kC(t.type)),t):1}function dr(t,e,n,r){if(50<Wc)throw Wc=0,Ty=null,Error(G(185));Qu(t,n,r),(!(Ie&2)||t!==It)&&(t===It&&(!(Ie&2)&&(pm|=n),yt===4&&Xs(t,Dt)),yn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(ul=rt()+500,dm&&Gi()))}function yn(t,e){var n=t.callbackNode;jD(t,e);var r=Qh(t,t===It?Dt:0);if(r===0)n!==null&&P1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&P1(n),e===1)t.tag===0?RM(E_.bind(null,t)):KC(E_.bind(null,t)),AM(function(){!(Ie&6)&&Gi()}),n=null;else{switch(EC(r)){case 1:n=e0;break;case 4:n=wC;break;case 16:n=Kh;break;case 536870912:n=_C;break;default:n=Kh}n=qI(n,FI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FI(t,e){if(Eh=-1,Th=0,Ie&6)throw Error(G(327));var n=t.callbackNode;if(Fa()&&t.callbackNode!==n)return null;var r=Qh(t,t===It?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mf(t,r);else{e=r;var s=Ie;Ie|=2;var i=BI();(It!==t||Dt!==e)&&(os=null,ul=rt()+500,Ao(t,e));do try{ZM();break}catch(a){UI(t,a)}while(!0);f0(),df.current=i,Ie=s,lt!==null?e=0:(It=null,Dt=0,e=yt)}if(e!==0){if(e===2&&(s=Xg(t),s!==0&&(r=s,e=Sy(t,s))),e===1)throw n=wu,Ao(t,0),Xs(t,r),yn(t,rt()),n;if(e===6)Xs(t,r);else{if(s=t.current.alternate,!(r&30)&&!XM(s)&&(e=mf(t,r),e===2&&(i=Xg(t),i!==0&&(r=i,e=Sy(t,i))),e===1))throw n=wu,Ao(t,0),Xs(t,r),yn(t,rt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ho(t,dn,os);break;case 3:if(Xs(t,r),(r&130023424)===r&&(e=A0+500-rt(),10<e)){if(Qh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=iy(ho.bind(null,t,dn,os),e);break}ho(t,dn,os);break;case 4:if(Xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ur(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YM(r/1960))-r,10<r){t.timeoutHandle=iy(ho.bind(null,t,dn,os),r);break}ho(t,dn,os);break;case 5:ho(t,dn,os);break;default:throw Error(G(329))}}}return yn(t,rt()),t.callbackNode===n?FI.bind(null,t):null}function Sy(t,e){var n=zc;return t.current.memoizedState.isDehydrated&&(Ao(t,e).flags|=256),t=mf(t,e),t!==2&&(e=dn,dn=n,e!==null&&Cy(e)),t}function Cy(t){dn===null?dn=t:dn.push.apply(dn,t)}function XM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~I0,e&=~pm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ur(e),r=1<<n;t[n]=-1,e&=~r}}function E_(t){if(Ie&6)throw Error(G(327));Fa();var e=Qh(t,0);if(!(e&1))return yn(t,rt()),null;var n=mf(t,e);if(t.tag!==0&&n===2){var r=Xg(t);r!==0&&(e=r,n=Sy(t,r))}if(n===1)throw n=wu,Ao(t,0),Xs(t,e),yn(t,rt()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ho(t,dn,os),yn(t,rt()),null}function k0(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(ul=rt()+500,dm&&Gi())}}function Oo(t){ci!==null&&ci.tag===0&&!(Ie&6)&&Fa();var e=Ie;Ie|=1;var n=Wn.transition,r=Re;try{if(Wn.transition=null,Re=1,t)return t()}finally{Re=r,Wn.transition=n,Ie=e,!(Ie&6)&&Gi()}}function N0(){_n=Ta.current,$e(Ta)}function Ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IM(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(u0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ef();break;case 3:ll(),$e(pn),$e(Kt),x0();break;case 5:v0(r);break;case 4:ll();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:m0(r.type._context);break;case 22:case 23:N0()}n=n.return}if(It=t,lt=t=_i(t.current,null),Dt=_n=e,yt=0,wu=null,I0=pm=Mo=0,dn=zc=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yo=null}return t}function UI(t,e){do{var n=lt;try{if(f0(),wh.current=uf,cf){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cf=!1}if(Do=0,Ct=pt=Ye=null,Bc=!1,yu=0,C0.current=null,n===null||n.return===null){yt=1,wu=e,lt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=u_(o);if(p!==null){p.flags&=-257,d_(p,o,a,i,e),p.mode&1&&c_(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){c_(i,u,e),P0();break e}l=Error(G(426))}}else if(He&&a.mode&1){var b=u_(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),d_(b,o,a,i,e),d0(cl(l,a));break e}}i=l=cl(l,a),yt!==4&&(yt=2),zc===null?zc=[i]:zc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=EI(i,l,e);r_(i,_);break e;case 1:a=l;var T=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xi===null||!xi.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=TI(i,a,e);r_(i,N);break e}}i=i.return}while(i!==null)}zI(n)}catch(C){e=C,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function BI(){var t=df.current;return df.current=uf,t===null?uf:t}function P0(){(yt===0||yt===3||yt===2)&&(yt=4),It===null||!(Mo&268435455)&&!(pm&268435455)||Xs(It,Dt)}function mf(t,e){var n=Ie;Ie|=2;var r=BI();(It!==t||Dt!==e)&&(os=null,Ao(t,e));do try{JM();break}catch(s){UI(t,s)}while(!0);if(f0(),Ie=n,df.current=r,lt!==null)throw Error(G(261));return It=null,Dt=0,yt}function JM(){for(;lt!==null;)$I(lt)}function ZM(){for(;lt!==null&&!TD();)$I(lt)}function $I(t){var e=HI(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?zI(t):lt=e,C0.current=null}function zI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qM(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,lt=null;return}}else if(n=HM(n,e,_n),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);yt===0&&(yt=5)}function ho(t,e,n){var r=Re,s=Wn.transition;try{Wn.transition=null,Re=1,e4(t,e,n,r)}finally{Wn.transition=s,Re=r}return null}function e4(t,e,n,r){do Fa();while(ci!==null);if(Ie&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(DD(t,i),t===It&&(lt=It=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xd||(Xd=!0,qI(Kh,function(){return Fa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wn.transition,Wn.transition=null;var o=Re;Re=1;var a=Ie;Ie|=4,C0.current=null,KM(t,n),LI(n,t),wM(ry),Yh=!!ny,ry=ny=null,t.current=n,QM(n),SD(),Ie=a,Re=o,Wn.transition=i}else t.current=n;if(Xd&&(Xd=!1,ci=t,ff=s),i=t.pendingLanes,i===0&&(xi=null),AD(n.stateNode),yn(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hf)throw hf=!1,t=Ey,Ey=null,t;return ff&1&&t.tag!==0&&Fa(),i=t.pendingLanes,i&1?t===Ty?Wc++:(Wc=0,Ty=t):Wc=0,Gi(),null}function Fa(){if(ci!==null){var t=EC(ff),e=Wn.transition,n=Re;try{if(Wn.transition=null,Re=16>t?16:t,ci===null)var r=!1;else{if(t=ci,ci=null,ff=0,Ie&6)throw Error(G(331));var s=Ie;for(Ie|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var h=ee;switch(h.tag){case 0:case 11:case 15:$c(8,h,i)}var f=h.child;if(f!==null)f.return=h,ee=f;else for(;ee!==null;){h=ee;var m=h.sibling,p=h.return;if(DI(h),h===u){ee=null;break}if(m!==null){m.return=p,ee=m;break}ee=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$c(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var T=t.current;for(ee=T;ee!==null;){o=ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ee=x;else e:for(o=T;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mm(9,a)}}catch(C){tt(a,a.return,C)}if(a===o){ee=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ee=N;break e}ee=a.return}}if(Ie=s,Gi(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(om,t)}catch{}r=!0}return r}finally{Re=n,Wn.transition=e}}return!1}function T_(t,e,n){e=cl(n,e),e=EI(t,e,1),t=vi(t,e,1),e=nn(),t!==null&&(Qu(t,1,e),yn(t,e))}function tt(t,e,n){if(t.tag===3)T_(t,t,n);else for(;e!==null;){if(e.tag===3){T_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xi===null||!xi.has(r))){t=cl(n,t),t=TI(e,t,1),e=vi(e,t,1),t=nn(),e!==null&&(Qu(e,1,t),yn(e,t));break}}e=e.return}}function t4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Dt&n)===n&&(yt===4||yt===3&&(Dt&130023424)===Dt&&500>rt()-A0?Ao(t,0):I0|=n),yn(t,e)}function WI(t,e){e===0&&(t.mode&1?(e=Bd,Bd<<=1,!(Bd&130023424)&&(Bd=4194304)):e=1);var n=nn();t=xs(t,e),t!==null&&(Qu(t,e,n),yn(t,n))}function n4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WI(t,n)}function r4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),WI(t,n)}var HI;HI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,WM(t,e,n);mn=!!(t.flags&131072)}else mn=!1,He&&e.flags&1048576&&QC(e,rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bh(t,e),t=e.pendingProps;var s=il(e,Kt.current);Va(e,n),s=_0(null,e,r,t,s,n);var i=b0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,tf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,g0(e),s.updater=fm,e.stateNode=s,s._reactInternals=e,hy(e,r,t,n),e=py(null,e,r,!0,i,n)):(e.tag=0,He&&i&&c0(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=i4(r),t=rr(r,t),s){case 0:e=my(null,e,r,t,n);break e;case 1:e=m_(null,e,r,t,n);break e;case 11:e=h_(null,e,r,t,n);break e;case 14:e=f_(null,e,r,rr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),my(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),m_(t,e,r,s,n);case 3:e:{if(AI(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tI(t,e),af(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=cl(Error(G(423)),e),e=p_(t,e,r,n,s);break e}else if(r!==s){s=cl(Error(G(424)),e),e=p_(t,e,r,n,s);break e}else for(En=yi(e.stateNode.containerInfo.firstChild),Sn=e,He=!0,lr=null,n=ZC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===s){e=ws(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return nI(e),t===null&&cy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sy(r,s)?o=null:i!==null&&sy(r,i)&&(e.flags|=32),II(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&cy(e),null;case 13:return kI(t,e,n);case 4:return y0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=al(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),h_(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(sf,r._currentValue),r._currentValue=o,i!==null)if(fr(i.value,o)){if(i.children===s.children&&!pn.current){e=ws(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=fs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Va(e,n),s=Kn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=rr(r,e.pendingProps),s=rr(r.type,s),f_(t,e,r,s,n);case 15:return SI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),bh(t,e),e.tag=1,gn(r)?(t=!0,tf(e)):t=!1,Va(e,n),bI(e,r,s),hy(e,r,s,n),py(null,e,r,!0,t,n);case 19:return NI(t,e,n);case 22:return CI(t,e,n)}throw Error(G(156,e.tag))};function qI(t,e){return xC(t,e)}function s4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new s4(t,e,n,r)}function R0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function i4(t){if(typeof t=="function")return R0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xv)return 11;if(t===Jv)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")R0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ma:return ko(n.children,s,i,e);case Yv:o=8,s|=8;break;case Og:return t=Bn(12,n,e,s|2),t.elementType=Og,t.lanes=i,t;case Lg:return t=Bn(13,n,e,s),t.elementType=Lg,t.lanes=i,t;case Vg:return t=Bn(19,n,e,s),t.elementType=Vg,t.lanes=i,t;case nC:return gm(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eC:o=10;break e;case tC:o=9;break e;case Xv:o=11;break e;case Jv:o=14;break e;case Ks:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Bn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ko(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function gm(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=nC,t.lanes=n,t.stateNode={isHidden:!1},t}function Kp(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Qp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function j0(t,e,n,r,s,i,o,a,l){return t=new o4(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Bn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g0(i),t}function a4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GI(t){if(!t)return Ni;t=t._reactInternals;e:{if(Ko(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(gn(n))return GC(t,n,e)}return e}function KI(t,e,n,r,s,i,o,a,l){return t=j0(n,r,!0,t,s,i,o,a,l),t.context=GI(null),n=t.current,r=nn(),s=wi(n),i=fs(r,s),i.callback=e??null,vi(n,i,s),t.current.lanes=s,Qu(t,s,r),yn(t,r),t}function ym(t,e,n,r){var s=e.current,i=nn(),o=wi(s);return n=GI(n),e.context===null?e.context=n:e.pendingContext=n,e=fs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(s,e,o),t!==null&&(dr(t,s,o,i),xh(t,s,o)),o}function pf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D0(t,e){S_(t,e),(t=t.alternate)&&S_(t,e)}function l4(){return null}var QI=typeof reportError=="function"?reportError:function(t){console.error(t)};function M0(t){this._internalRoot=t}vm.prototype.render=M0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));ym(t,e,null,null)};vm.prototype.unmount=M0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){ym(null,t,null,null)}),e[vs]=null}};function vm(t){this._internalRoot=t}vm.prototype.unstable_scheduleHydration=function(t){if(t){var e=CC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&AC(t)}};function O0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C_(){}function c4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pf(o);i.call(u)}}var o=KI(e,r,t,0,null,!1,!1,"",C_);return t._reactRootContainer=o,t[vs]=o.current,hu(t.nodeType===8?t.parentNode:t),Oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pf(l);a.call(u)}}var l=j0(t,0,!1,null,null,!1,!1,"",C_);return t._reactRootContainer=l,t[vs]=l.current,hu(t.nodeType===8?t.parentNode:t),Oo(function(){ym(e,l,n,r)}),l}function wm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=pf(o);a.call(l)}}ym(e,o,t,s)}else o=c4(n,e,t,s,r);return pf(o)}TC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tc(e.pendingLanes);n!==0&&(t0(e,n|1),yn(e,rt()),!(Ie&6)&&(ul=rt()+500,Gi()))}break;case 13:Oo(function(){var r=xs(t,1);if(r!==null){var s=nn();dr(r,t,1,s)}}),D0(t,1)}};n0=function(t){if(t.tag===13){var e=xs(t,134217728);if(e!==null){var n=nn();dr(e,t,134217728,n)}D0(t,134217728)}};SC=function(t){if(t.tag===13){var e=wi(t),n=xs(t,e);if(n!==null){var r=nn();dr(n,t,e,r)}D0(t,e)}};CC=function(){return Re};IC=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Kg=function(t,e,n){switch(e){case"input":if(Bg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=um(r);if(!s)throw Error(G(90));sC(r),Bg(r,s)}}}break;case"textarea":oC(t,n);break;case"select":e=n.value,e!=null&&Da(t,!!n.multiple,e,!1)}};fC=k0;mC=Oo;var u4={usingClientEntryPoint:!1,Events:[Xu,va,um,dC,hC,k0]},pc={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d4={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yC(t),t===null?null:t.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||l4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{om=Jd.inject(d4),Fr=Jd}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u4;kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(e))throw Error(G(200));return a4(t,e,null,n)};kn.createRoot=function(t,e){if(!O0(t))throw Error(G(299));var n=!1,r="",s=QI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=j0(t,1,!1,null,null,n,!1,r,s),t[vs]=e.current,hu(t.nodeType===8?t.parentNode:t),new M0(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=yC(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Oo(t)};kn.hydrate=function(t,e,n){if(!xm(e))throw Error(G(200));return wm(null,t,e,!0,n)};kn.hydrateRoot=function(t,e,n){if(!O0(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=QI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KI(e,null,t,1,n??null,s,!1,i,o),t[vs]=e.current,hu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vm(e)};kn.render=function(t,e,n){if(!xm(e))throw Error(G(200));return wm(null,t,e,!1,n)};kn.unmountComponentAtNode=function(t){if(!xm(t))throw Error(G(40));return t._reactRootContainer?(Oo(function(){wm(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};kn.unstable_batchedUpdates=k0;kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xm(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return wm(t,e,n,!1,r)};kn.version="18.3.1-next-f1338f8080-20240426";function YI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YI)}catch(t){console.error(t)}}YI(),YS.exports=kn;var Zu=YS.exports;const XI=LS(Zu);var JI,I_=Zu;JI=I_.createRoot,I_.hydrateRoot;const h4=1,f4=1e6;let Yp=0;function m4(){return Yp=(Yp+1)%Number.MAX_SAFE_INTEGER,Yp.toString()}const Xp=new Map,A_=t=>{if(Xp.has(t))return;const e=setTimeout(()=>{Xp.delete(t),Hc({type:"REMOVE_TOAST",toastId:t})},f4);Xp.set(t,e)},p4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,h4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?A_(n):t.toasts.forEach(r=>{A_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Ch=[];let Ih={toasts:[]};function Hc(t){Ih=p4(Ih,t),Ch.forEach(e=>{e(Ih)})}function g4({...t}){const e=m4(),n=s=>Hc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Hc({type:"DISMISS_TOAST",toastId:e});return Hc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function y4(){const[t,e]=w.useState(Ih);return w.useEffect(()=>(Ch.push(e),()=>{const n=Ch.indexOf(e);n>-1&&Ch.splice(n,1)}),[t]),{...t,toast:g4,dismiss:n=>Hc({type:"DISMISS_TOAST",toastId:n})}}function gt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function k_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ZI(...t){return e=>{let n=!1;const r=t.map(s=>{const i=k_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():k_(t[s],null)}}}}function mr(...t){return w.useCallback(ZI(...t),t)}function ed(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),l=n.length;n=[...n,o];const u=f=>{var _;const{scope:m,children:p,...v}=f,y=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,b=w.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:b,children:p})};u.displayName=i+"Provider";function h(f,m){var y;const p=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,v=w.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,v4(s,...e)]}function v4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function gf(t){const e=w4(t),n=w.forwardRef((r,s)=>{const{children:i,...o}=r,a=w.Children.toArray(i),l=a.find(b4);if(l){const u=l.props.children,h=a.map(f=>f===l?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return c.jsx(e,{...o,ref:s,children:w.isValidElement(u)?w.cloneElement(u,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var x4=gf("Slot");function w4(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=T4(s),a=E4(i,s.props);return s.type!==w.Fragment&&(a.ref=r?ZI(r,o):o),w.cloneElement(s,a)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eA=Symbol("radix.slottable");function _4(t){const e=({children:n})=>c.jsx(c.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=eA,e}function b4(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eA}function E4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function T4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function S4(t){const e=t+"CollectionProvider",[n,r]=ed(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:_}=y,T=K.useRef(null),x=K.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:x,collectionRef:T,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=gf(a),u=K.forwardRef((y,b)=>{const{scope:_,children:T}=y,x=i(a,_),N=mr(b,x.collectionRef);return c.jsx(l,{ref:N,children:T})});u.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=gf(h),p=K.forwardRef((y,b)=>{const{scope:_,children:T,...x}=y,N=K.useRef(null),C=mr(b,N),j=i(h,_);return K.useEffect(()=>(j.itemMap.set(N,{ref:N,...x}),()=>void j.itemMap.delete(N))),c.jsx(m,{[f]:"",ref:C,children:T})});p.displayName=h;function v(y){const b=i(t+"CollectionConsumer",y);return K.useCallback(()=>{const T=b.collectionRef.current;if(!T)return[];const x=Array.from(T.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,I)=>x.indexOf(j.ref.current)-x.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,r]}var C4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yt=C4.reduce((t,e)=>{const n=gf(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function tA(t,e){t&&Zu.flushSync(()=>t.dispatchEvent(e))}function Pi(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function I4(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var A4="DismissableLayer",Iy="dismissableLayer.update",k4="dismissableLayer.pointerDownOutside",N4="dismissableLayer.focusOutside",N_,nA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L0=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=w.useContext(nA),[h,f]=w.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),v=mr(e,I=>f(I)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(b),T=h?y.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,N=T>=_,C=R4(I=>{const S=I.target,k=[...u.branches].some(R=>R.contains(S));!N||k||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},m),j=j4(I=>{const S=I.target;[...u.branches].some(R=>R.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},m);return I4(I=>{T===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},m),w.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(N_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),P_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=N_)}},[h,m,n,u]),w.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),P_())},[h,u]),w.useEffect(()=>{const I=()=>p({});return document.addEventListener(Iy,I),()=>document.removeEventListener(Iy,I)},[]),c.jsx(Yt.div,{...l,ref:v,style:{pointerEvents:x?N?"auto":"none":void 0,...t.style},onFocusCapture:gt(t.onFocusCapture,j.onFocusCapture),onBlurCapture:gt(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:gt(t.onPointerDownCapture,C.onPointerDownCapture)})});L0.displayName=A4;var P4="DismissableLayerBranch",rA=w.forwardRef((t,e)=>{const n=w.useContext(nA),r=w.useRef(null),s=mr(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(Yt.div,{...t,ref:s})});rA.displayName=P4;function R4(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){sA(k4,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function j4(t,e=globalThis==null?void 0:globalThis.document){const n=Pi(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&sA(N4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function P_(){const t=new CustomEvent(Iy);document.dispatchEvent(t)}function sA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tA(s,i):s.dispatchEvent(i)}var D4=L0,M4=rA,Ri=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},O4="Portal",iA=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);Ri(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XI.createPortal(c.jsx(Yt.div,{...r,ref:e}),o):null});iA.displayName=O4;function L4(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var V0=t=>{const{present:e,children:n}=t,r=V4(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=mr(r.ref,F4(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};V0.displayName="Presence";function V4(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,l]=L4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Zd(r.current);i.current=a==="mounted"?u:"none"},[a]),Ri(()=>{const u=r.current,h=s.current;if(h!==t){const m=i.current,p=Zd(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ri(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=p=>{const y=Zd(r.current).includes(p.animationName);if(p.target===e&&y&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=p=>{p.target===e&&(i.current=Zd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Zd(t){return(t==null?void 0:t.animationName)||"none"}function F4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var U4=KS[" useInsertionEffect ".trim().toString()]||Ri;function B4({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=$4({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=w.useRef(t!==void 0);w.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const u=w.useCallback(h=>{var f;if(a){const m=z4(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,u]}function $4({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return U4(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function z4(t){return typeof t=="function"}var W4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),H4="VisuallyHidden",_m=w.forwardRef((t,e)=>c.jsx(Yt.span,{...t,ref:e,style:{...W4,...t.style}}));_m.displayName=H4;var q4=_m,F0="ToastProvider",[U0,G4,K4]=S4("Toast"),[oA,jQ]=ed("Toast",[K4]),[Q4,bm]=oA(F0),aA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=w.useState(null),[u,h]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${F0}\`. Expected non-empty \`string\`.`),c.jsx(U0.Provider,{scope:e,children:c.jsx(Q4,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>h(p=>p+1),[]),onToastRemove:w.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};aA.displayName=F0;var lA="ToastViewport",Y4=["F8"],Ay="toast.viewportPause",ky="toast.viewportResume",cA=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Y4,label:s="Notifications ({hotkey})",...i}=t,o=bm(lA,n),a=G4(n),l=w.useRef(null),u=w.useRef(null),h=w.useRef(null),f=w.useRef(null),m=mr(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;w.useEffect(()=>{const b=_=>{var x;r.length!==0&&r.every(N=>_[N]||_.code===N)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=l.current,_=f.current;if(v&&b&&_){const T=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Ay);_.dispatchEvent(j),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(ky);_.dispatchEvent(j),o.isClosePausedRef.current=!1}},N=j=>{!b.contains(j.relatedTarget)&&x()},C=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",T),b.addEventListener("focusout",N),b.addEventListener("pointermove",T),b.addEventListener("pointerleave",C),window.addEventListener("blur",T),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",T),b.removeEventListener("focusout",N),b.removeEventListener("pointermove",T),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",T),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const y=w.useCallback(({tabbingDirection:b})=>{const T=a().map(x=>{const N=x.ref.current,C=[N,...cO(N)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?T.reverse():T).flat()},[a]);return w.useEffect(()=>{const b=f.current;if(b){const _=T=>{var C,j,I;const x=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!x){const S=document.activeElement,k=T.shiftKey;if(T.target===b&&k){(C=u.current)==null||C.focus();return}const M=y({tabbingDirection:k?"backwards":"forwards"}),A=M.findIndex(B=>B===S);Jp(M.slice(A+1))?T.preventDefault():k?(j=u.current)==null||j.focus():(I=h.current)==null||I.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,y]),c.jsxs(M4,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(Ny,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Jp(b)}}),c.jsx(U0.Slot,{scope:n,children:c.jsx(Yt.ol,{tabIndex:-1,...i,ref:m})}),v&&c.jsx(Ny,{ref:h,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Jp(b)}})]})});cA.displayName=lA;var uA="ToastFocusProxy",Ny=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=bm(uA,n);return c.jsx(_m,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Ny.displayName=uA;var td="Toast",X4="toast.swipeStart",J4="toast.swipeMove",Z4="toast.swipeCancel",eO="toast.swipeEnd",dA=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=B4({prop:r,defaultProp:s??!0,onChange:i,caller:td});return c.jsx(V0,{present:n||a,children:c.jsx(rO,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Pi(t.onPause),onResume:Pi(t.onResume),onSwipeStart:gt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gt(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:gt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gt(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});dA.displayName=td;var[tO,nO]=oA(td,{onClose(){}}),rO=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...v}=t,y=bm(td,n),[b,_]=w.useState(null),T=mr(e,B=>_(B)),x=w.useRef(null),N=w.useRef(null),C=s||y.duration,j=w.useRef(0),I=w.useRef(C),S=w.useRef(0),{onToastAdd:k,onToastRemove:R}=y,D=Pi(()=>{var J;(b==null?void 0:b.contains(document.activeElement))&&((J=y.viewport)==null||J.focus()),o()}),M=w.useCallback(B=>{!B||B===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(D,B))},[D]);w.useEffect(()=>{const B=y.viewport;if(B){const J=()=>{M(I.current),u==null||u()},ne=()=>{const F=new Date().getTime()-j.current;I.current=I.current-F,window.clearTimeout(S.current),l==null||l()};return B.addEventListener(Ay,ne),B.addEventListener(ky,J),()=>{B.removeEventListener(Ay,ne),B.removeEventListener(ky,J)}}},[y.viewport,C,l,u,M]),w.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(C)},[i,C,y.isClosePausedRef,M]),w.useEffect(()=>(k(),()=>R()),[k,R]);const A=w.useMemo(()=>b?vA(b):null,[b]);return y.viewport?c.jsxs(c.Fragment,{children:[A&&c.jsx(sO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),c.jsx(tO,{scope:n,onClose:D,children:Zu.createPortal(c.jsx(U0.ItemSlot,{scope:n,children:c.jsx(D4,{asChild:!0,onEscapeKeyDown:gt(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:gt(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:gt(t.onPointerDown,B=>{B.button===0&&(x.current={x:B.clientX,y:B.clientY})}),onPointerMove:gt(t.onPointerMove,B=>{if(!x.current)return;const J=B.clientX-x.current.x,ne=B.clientY-x.current.y,F=!!N.current,O=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,H=O?L(0,J):0,oe=O?0:L(0,ne),se=B.pointerType==="touch"?10:2,ye={x:H,y:oe},pe={originalEvent:B,delta:ye};F?(N.current=ye,eh(J4,f,pe,{discrete:!1})):R_(ye,y.swipeDirection,se)?(N.current=ye,eh(X4,h,pe,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(J)>se||Math.abs(ne)>se)&&(x.current=null)}),onPointerUp:gt(t.onPointerUp,B=>{const J=N.current,ne=B.target;if(ne.hasPointerCapture(B.pointerId)&&ne.releasePointerCapture(B.pointerId),N.current=null,x.current=null,J){const F=B.currentTarget,O={originalEvent:B,delta:J};R_(J,y.swipeDirection,y.swipeThreshold)?eh(eO,p,O,{discrete:!0}):eh(Z4,m,O,{discrete:!0}),F.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),sO=t=>{const{__scopeToast:e,children:n,...r}=t,s=bm(td,e),[i,o]=w.useState(!1),[a,l]=w.useState(!1);return aO(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx(iA,{asChild:!0,children:c.jsx(_m,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},iO="ToastTitle",hA=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Yt.div,{...r,ref:e})});hA.displayName=iO;var oO="ToastDescription",fA=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(Yt.div,{...r,ref:e})});fA.displayName=oO;var mA="ToastAction",pA=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(yA,{altText:n,asChild:!0,children:c.jsx(B0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${mA}\`. Expected non-empty \`string\`.`),null)});pA.displayName=mA;var gA="ToastClose",B0=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=nO(gA,n);return c.jsx(yA,{asChild:!0,children:c.jsx(Yt.button,{type:"button",...r,ref:e,onClick:gt(t.onClick,s.onClose)})})});B0.displayName=gA;var yA=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(Yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function vA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),lO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...vA(r))}}),e}function eh(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tA(s,i):s.dispatchEvent(i)}var R_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function aO(t=()=>{}){const e=Pi(t);Ri(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function lO(t){return t.nodeType===t.ELEMENT_NODE}function cO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var uO=aA,xA=cA,wA=dA,_A=hA,bA=fA,EA=pA,TA=B0;function SA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=SA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=SA(t))&&(r&&(r+=" "),r+=e);return r}const j_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,D_=CA,IA=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return D_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const m=j_(h)||j_(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...u,f,m]:u},[]);return D_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>w.createElement("svg",{ref:l,...hO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:AA("lucide",s),...a},[...o.map(([u,h])=>w.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(fO,{ref:i,iconNode:e,className:AA(`lucide-${dO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ae("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=ae("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ae("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=ae("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ae("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ae("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ae("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ae("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ae("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ae("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ae("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ae("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),q0="-",NO=t=>{const e=RO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(q0);return a[0]===""&&a.length!==1&&a.shift(),MA(a,e)||PO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},MA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?MA(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(q0);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},V_=/^\[(.+)\]$/,PO=t=>{if(V_.test(t)){const e=V_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},RO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return DO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Dy(o,r,i,e)}),r},Dy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:F_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(jO(s)){Dy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Dy(o,F_(e,i),n,r)})})},F_=(t,e)=>{let n=t;return e.split(q0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jO=t=>t.isThemeGetter,DO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,MO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},OA="!",OO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,f;for(let b=0;b<a.length;b++){let _=a[b];if(u===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(h,b)),h=b+i;continue}if(_==="/"){f=b;continue}}_==="["?u++:_==="]"&&u--}const m=l.length===0?a:a.substring(h),p=m.startsWith(OA),v=p?m.substring(1):m,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},LO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},VO=t=>({cache:MO(t.cacheSize),parseClassName:OO(t),...NO(t)}),FO=/\s+/,UO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(FO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let v=!!p,y=r(v?m.substring(0,p):m);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const b=LO(h).join(":"),_=f?b+OA:b,T=_+y;if(i.includes(T))continue;i.push(T);const x=s(y,v);for(let N=0;N<x.length;++N){const C=x[N];i.push(_+C)}a=u+(a.length>0?" "+a:a)}return a};function BO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=LA(e))&&(r&&(r+=" "),r+=n);return r}const LA=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=LA(t[r]))&&(n&&(n+=" "),n+=e);return n};function $O(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,f)=>f(h),t());return n=VO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=UO(l,n);return s(l,h),h}return function(){return i(BO.apply(null,arguments))}}const Ue=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},VA=/^\[(?:([a-z-]+):)?(.+)\]$/i,zO=/^\d+\/\d+$/,WO=new Set(["px","full","screen"]),HO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,KO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,QO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>Ua(t)||WO.has(t)||zO.test(t),$s=t=>kl(t,"length",rL),Ua=t=>!!t&&!Number.isNaN(Number(t)),tg=t=>kl(t,"number",Ua),gc=t=>!!t&&Number.isInteger(Number(t)),YO=t=>t.endsWith("%")&&Ua(t.slice(0,-1)),ge=t=>VA.test(t),zs=t=>HO.test(t),XO=new Set(["length","size","percentage"]),JO=t=>kl(t,XO,FA),ZO=t=>kl(t,"position",FA),eL=new Set(["image","url"]),tL=t=>kl(t,eL,iL),nL=t=>kl(t,"",sL),yc=()=>!0,kl=(t,e,n)=>{const r=VA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},rL=t=>qO.test(t)&&!GO.test(t),FA=()=>!1,sL=t=>KO.test(t),iL=t=>QO.test(t),oL=()=>{const t=Ue("colors"),e=Ue("spacing"),n=Ue("blur"),r=Ue("brightness"),s=Ue("borderColor"),i=Ue("borderRadius"),o=Ue("borderSpacing"),a=Ue("borderWidth"),l=Ue("contrast"),u=Ue("grayscale"),h=Ue("hueRotate"),f=Ue("invert"),m=Ue("gap"),p=Ue("gradientColorStops"),v=Ue("gradientColorStopPositions"),y=Ue("inset"),b=Ue("margin"),_=Ue("opacity"),T=Ue("padding"),x=Ue("saturate"),N=Ue("scale"),C=Ue("sepia"),j=Ue("skew"),I=Ue("space"),S=Ue("translate"),k=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ge,e],M=()=>[ge,e],A=()=>["",ss,$s],B=()=>["auto",Ua,ge],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ge],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Ua,ge];return{cacheSize:500,separator:":",theme:{colors:[yc],spacing:[ss,$s],blur:["none","",zs,ge],brightness:oe(),borderColor:[t],borderRadius:["none","","full",zs,ge],borderSpacing:M(),borderWidth:A(),contrast:oe(),grayscale:L(),hueRotate:oe(),invert:L(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[YO,$s],inset:D(),margin:D(),opacity:oe(),padding:M(),saturate:oe(),scale:oe(),sepia:L(),skew:oe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[zs]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),ge]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gc,ge]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",gc,ge]}],"grid-cols":[{"grid-cols":[yc]}],"col-start-end":[{col:["auto",{span:["full",gc,ge]},ge]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[yc]}],"row-start-end":[{row:["auto",{span:[gc,ge]},ge]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ge,e]}],"min-w":[{"min-w":[ge,e,"min","max","fit"]}],"max-w":[{"max-w":[ge,e,"none","full","min","max","fit","prose",{screen:[zs]},zs]}],h:[{h:[ge,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ge,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ge,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tg]}],"font-family":[{font:[yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Ua,tg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,ge]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,$s]}],"underline-offset":[{"underline-offset":["auto",ss,ge]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),ZO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[ss,ge]}],"outline-w":[{outline:[ss,$s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ss,$s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",zs,nL]}],"shadow-color":[{shadow:[yc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",zs,ge]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[gc,ge]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ss,$s,tg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},aL=$O(oL);function rn(...t){return aL(CA(t))}const lL=uO,UA=w.forwardRef(({className:t,...e},n)=>c.jsx(xA,{ref:n,className:rn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));UA.displayName=xA.displayName;const cL=IA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),BA=w.forwardRef(({className:t,variant:e,...n},r)=>c.jsx(wA,{ref:r,className:rn(cL({variant:e}),t),...n}));BA.displayName=wA.displayName;const uL=w.forwardRef(({className:t,...e},n)=>c.jsx(EA,{ref:n,className:rn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));uL.displayName=EA.displayName;const $A=w.forwardRef(({className:t,...e},n)=>c.jsx(TA,{ref:n,className:rn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(vn,{className:"h-4 w-4"})}));$A.displayName=TA.displayName;const zA=w.forwardRef(({className:t,...e},n)=>c.jsx(_A,{ref:n,className:rn("text-sm font-semibold",t),...e}));zA.displayName=_A.displayName;const WA=w.forwardRef(({className:t,...e},n)=>c.jsx(bA,{ref:n,className:rn("text-sm opacity-90",t),...e}));WA.displayName=bA.displayName;function dL(){const{toasts:t}=y4();return c.jsxs(lL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(BA,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(zA,{children:n}),r&&c.jsx(WA,{children:r})]}),s,c.jsx($A,{})]},e)}),c.jsx(UA,{})]})}var vf=["light","dark"],G0="(prefers-color-scheme: dark)",hL=typeof window>"u",K0=w.createContext(void 0),fL={setTheme:t=>{},themes:[]},HA=()=>{var t;return(t=w.useContext(K0))!=null?t:fL},mL=t=>w.useContext(K0)?t.children:w.createElement(gL,{...t}),pL=["light","dark"],gL=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=pL,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:h})=>{let[f,m]=w.useState(()=>U_(s,o)),[p,v]=w.useState(()=>U_(s)),y=l?Object.values(l):i,b=w.useCallback(N=>{let C=N;if(!C)return;N==="system"&&n&&(C=B_());let j=l?l[C]:C,I=e?vL():null,S=document.documentElement;if(a==="class"?(S.classList.remove(...y),j&&S.classList.add(j)):j?S.setAttribute(a,j):S.removeAttribute(a),r){let k=vf.includes(o)?o:null,R=vf.includes(C)?C:k;S.style.colorScheme=R}I==null||I()},[]),_=w.useCallback(N=>{let C=typeof N=="function"?N(N):N;m(C);try{localStorage.setItem(s,C)}catch{}},[t]),T=w.useCallback(N=>{let C=B_(N);v(C),f==="system"&&n&&!t&&b("system")},[f,t]);w.useEffect(()=>{let N=window.matchMedia(G0);return N.addListener(T),T(N),()=>N.removeListener(T)},[T]),w.useEffect(()=>{let N=C=>{if(C.key!==s)return;let j=C.newValue||o;_(j)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[_]),w.useEffect(()=>{b(t??f)},[t,f]);let x=w.useMemo(()=>({theme:f,setTheme:_,forcedTheme:t,resolvedTheme:f==="system"?p:f,themes:n?[...i,"system"]:i,systemTheme:n?p:void 0}),[f,_,t,p,n,i]);return w.createElement(K0.Provider,{value:x},w.createElement(yL,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:u,attrs:y,nonce:h}),u)},yL=w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?vf.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,y=!1,b=!0)=>{let _=o?o[v]:v,T=y?v+"|| ''":`'${_}'`,x="";return s&&b&&!y&&vf.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),n==="class"?y||_?x+=`c.add(${T})`:x+="null":_&&(x+=`d[s](n,${T})`),x},p=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${G0}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})}),U_=(t,e)=>{if(hL)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},vL=()=>{let t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},B_=t=>(t||(t=window.matchMedia(G0)),t.matches?"dark":"light"),xL=t=>{switch(t){case"success":return bL;case"info":return TL;case"warning":return EL;case"error":return SL;default:return null}},wL=Array(12).fill(0),_L=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},wL.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),SL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CL=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),IL=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},My=1,AL=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:My++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],K.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(NL(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||My++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cn=new AL,kL=(t,e)=>{let n=(e==null?void 0:e.id)||My++;return cn.addToast({title:t,...e,id:n}),n},NL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",PL=kL,RL=()=>cn.toasts,jL=()=>cn.getActiveToasts(),q=Object.assign(PL,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:RL,getToasts:jL});function DL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}DL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function th(t){return t.label!==void 0}var ML=3,OL="32px",LL="16px",$_=4e3,VL=356,FL=14,UL=20,BL=200;function er(...t){return t.filter(Boolean).join(" ")}function $L(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var zL=t=>{var e,n,r,s,i,o,a,l,u,h,f;let{invert:m,toast:p,unstyled:v,interacting:y,setHeights:b,visibleToasts:_,heights:T,index:x,toasts:N,expanded:C,removeToast:j,defaultRichColors:I,closeButton:S,style:k,cancelButtonStyle:R,actionButtonStyle:D,className:M="",descriptionClassName:A="",duration:B,position:J,gap:ne,loadingIcon:F,expandByDefault:O,classNames:L,icons:H,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:se}=t,[ye,pe]=K.useState(null),[We,it]=K.useState(null),[Se,br]=K.useState(!1),[Yn,es]=K.useState(!1),[Er,ts]=K.useState(!1),[jn,to]=K.useState(!1),[Gl,Rs]=K.useState(!1),[no,js]=K.useState(0),[qe,wt]=K.useState(0),Tr=K.useRef(p.duration||B||$_),bd=K.useRef(null),Sr=K.useRef(null),ap=x===0,ro=x+1<=_,Xt=p.type,ns=p.dismissible!==!1,Kl=p.className||"",lp=p.descriptionClassName||"",ta=K.useMemo(()=>T.findIndex(le=>le.toastId===p.id)||0,[T,p.id]),Ed=K.useMemo(()=>{var le;return(le=p.closeButton)!=null?le:S},[p.closeButton,S]),Ql=K.useMemo(()=>p.duration||B||$_,[p.duration,B]),rs=K.useRef(0),Cr=K.useRef(0),na=K.useRef(0),an=K.useRef(null),[Td,ra]=J.split("-"),Yl=K.useMemo(()=>T.reduce((le,Ae,De)=>De>=ta?le:le+Ae.height,0),[T,ta]),Ds=IL(),Sd=p.invert||m,ht=Xt==="loading";Cr.current=K.useMemo(()=>ta*ne+Yl,[ta,Yl]),K.useEffect(()=>{Tr.current=Ql},[Ql]),K.useEffect(()=>{br(!0)},[]),K.useEffect(()=>{let le=Sr.current;if(le){let Ae=le.getBoundingClientRect().height;return wt(Ae),b(De=>[{toastId:p.id,height:Ae,position:p.position},...De]),()=>b(De=>De.filter(_t=>_t.toastId!==p.id))}},[b,p.id]),K.useLayoutEffect(()=>{if(!Se)return;let le=Sr.current,Ae=le.style.height;le.style.height="auto";let De=le.getBoundingClientRect().height;le.style.height=Ae,wt(De),b(_t=>_t.find(xn=>xn.toastId===p.id)?_t.map(xn=>xn.toastId===p.id?{...xn,height:De}:xn):[{toastId:p.id,height:De,position:p.position},..._t])},[Se,p.title,p.description,b,p.id]);let Xn=K.useCallback(()=>{es(!0),js(Cr.current),b(le=>le.filter(Ae=>Ae.toastId!==p.id)),setTimeout(()=>{j(p)},BL)},[p,j,b,Cr]);K.useEffect(()=>{if(p.promise&&Xt==="loading"||p.duration===1/0||p.type==="loading")return;let le;return C||y||se&&Ds?(()=>{if(na.current<rs.current){let Ae=new Date().getTime()-rs.current;Tr.current=Tr.current-Ae}na.current=new Date().getTime()})():Tr.current!==1/0&&(rs.current=new Date().getTime(),le=setTimeout(()=>{var Ae;(Ae=p.onAutoClose)==null||Ae.call(p,p),Xn()},Tr.current)),()=>clearTimeout(le)},[C,y,p,Xt,se,Ds,Xn]),K.useEffect(()=>{p.delete&&Xn()},[Xn,p.delete]);function so(){var le,Ae,De;return H!=null&&H.loading?K.createElement("div",{className:er(L==null?void 0:L.loader,(le=p==null?void 0:p.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Xt==="loading"},H.loading):F?K.createElement("div",{className:er(L==null?void 0:L.loader,(Ae=p==null?void 0:p.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Xt==="loading"},F):K.createElement(_L,{className:er(L==null?void 0:L.loader,(De=p==null?void 0:p.classNames)==null?void 0:De.loader),visible:Xt==="loading"})}return K.createElement("li",{tabIndex:0,ref:Sr,className:er(M,Kl,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Xt],(n=p==null?void 0:p.classNames)==null?void 0:n[Xt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:I,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":Se,"data-promise":!!p.promise,"data-swiped":Gl,"data-removed":Yn,"data-visible":ro,"data-y-position":Td,"data-x-position":ra,"data-index":x,"data-front":ap,"data-swiping":Er,"data-dismissible":ns,"data-type":Xt,"data-invert":Sd,"data-swipe-out":jn,"data-swipe-direction":We,"data-expanded":!!(C||O&&Se),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${Yn?no:Cr.current}px`,"--initial-height":O?"auto":`${qe}px`,...k,...p.style},onDragEnd:()=>{ts(!1),pe(null),an.current=null},onPointerDown:le=>{ht||!ns||(bd.current=new Date,js(Cr.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(ts(!0),an.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,Ae,De,_t;if(jn||!ns)return;an.current=null;let xn=Number(((le=Sr.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ir=Number(((Ae=Sr.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dn=new Date().getTime()-((De=bd.current)==null?void 0:De.getTime()),ln=ye==="x"?xn:Ir,Jn=Math.abs(ln)/Dn;if(Math.abs(ln)>=UL||Jn>.11){js(Cr.current),(_t=p.onDismiss)==null||_t.call(p,p),it(ye==="x"?xn>0?"right":"left":Ir>0?"down":"up"),Xn(),to(!0),Rs(!1);return}ts(!1),pe(null)},onPointerMove:le=>{var Ae,De,_t,xn;if(!an.current||!ns||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;let Ir=le.clientY-an.current.y,Dn=le.clientX-an.current.x,ln=(De=t.swipeDirections)!=null?De:$L(J);!ye&&(Math.abs(Dn)>1||Math.abs(Ir)>1)&&pe(Math.abs(Dn)>Math.abs(Ir)?"x":"y");let Jn={x:0,y:0};ye==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&Ir<0||ln.includes("bottom")&&Ir>0)&&(Jn.y=Ir):ye==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&Dn<0||ln.includes("right")&&Dn>0)&&(Jn.x=Dn),(Math.abs(Jn.x)>0||Math.abs(Jn.y)>0)&&Rs(!0),(_t=Sr.current)==null||_t.style.setProperty("--swipe-amount-x",`${Jn.x}px`),(xn=Sr.current)==null||xn.style.setProperty("--swipe-amount-y",`${Jn.y}px`)}},Ed&&!p.jsx?K.createElement("button",{"aria-label":oe,"data-disabled":ht,"data-close-button":!0,onClick:ht||!ns?()=>{}:()=>{var le;Xn(),(le=p.onDismiss)==null||le.call(p,p)},className:er(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:CL):null,p.jsx||w.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:K.createElement(K.Fragment,null,Xt||p.icon||p.promise?K.createElement("div",{"data-icon":"",className:er(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||so():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Xt])||xL(Xt):null):null,K.createElement("div",{"data-content":"",className:er(L==null?void 0:L.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:er(L==null?void 0:L.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?K.createElement("div",{"data-description":"",className:er(A,lp,L==null?void 0:L.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),w.isValidElement(p.cancel)?p.cancel:p.cancel&&th(p.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:le=>{var Ae,De;th(p.cancel)&&ns&&((De=(Ae=p.cancel).onClick)==null||De.call(Ae,le),Xn())},className:er(L==null?void 0:L.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,w.isValidElement(p.action)?p.action:p.action&&th(p.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:le=>{var Ae,De;th(p.action)&&((De=(Ae=p.action).onClick)==null||De.call(Ae,le),!le.defaultPrevented&&Xn())},className:er(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function z_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function WL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?LL:OL;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var HL=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:v=ML,toastOptions:y,dir:b=z_(),gap:_=FL,loadingIcon:T,icons:x,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:C}=t,[j,I]=K.useState([]),S=K.useMemo(()=>Array.from(new Set([r].concat(j.filter(se=>se.position).map(se=>se.position)))),[j,r]),[k,R]=K.useState([]),[D,M]=K.useState(!1),[A,B]=K.useState(!1),[J,ne]=K.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=K.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=K.useRef(null),H=K.useRef(!1),oe=K.useCallback(se=>{I(ye=>{var pe;return(pe=ye.find(We=>We.id===se.id))!=null&&pe.delete||cn.dismiss(se.id),ye.filter(({id:We})=>We!==se.id)})},[]);return K.useEffect(()=>cn.subscribe(se=>{if(se.dismiss){I(ye=>ye.map(pe=>pe.id===se.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{XI.flushSync(()=>{I(ye=>{let pe=ye.findIndex(We=>We.id===se.id);return pe!==-1?[...ye.slice(0,pe),{...ye[pe],...se},...ye.slice(pe+1)]:[se,...ye]})})})}),[]),K.useEffect(()=>{if(h!=="system"){ne(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:ye})=>{ne(ye?"dark":"light")})}catch{se.addListener(({matches:pe})=>{try{ne(pe?"dark":"light")}catch(We){console.error(We)}})}},[h]),K.useEffect(()=>{j.length<=1&&M(!1)},[j]),K.useEffect(()=>{let se=ye=>{var pe,We;s.every(it=>ye[it]||ye.code===it)&&(M(!0),(pe=F.current)==null||pe.focus()),ye.code==="Escape"&&(document.activeElement===F.current||(We=F.current)!=null&&We.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[s]),K.useEffect(()=>{if(F.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[F.current]),K.createElement("section",{ref:e,"aria-label":`${N} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((se,ye)=>{var pe;let[We,it]=se.split("-");return j.length?K.createElement("ol",{key:se,dir:b==="auto"?z_():b,tabIndex:-1,ref:F,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":We,"data-lifted":D&&j.length>1&&!i,"data-x-position":it,style:{"--front-toast-height":`${((pe=k[0])==null?void 0:pe.height)||0}px`,"--width":`${VL}px`,"--gap":`${_}px`,...p,...WL(l,u)},onBlur:Se=>{H.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=Se.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{A||M(!1)},onDragEnd:()=>M(!1),onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},j.filter(Se=>!Se.position&&ye===0||Se.position===se).map((Se,br)=>{var Yn,es;return K.createElement(zL,{key:Se.id,icons:x,index:br,toast:Se,defaultRichColors:f,duration:(Yn=y==null?void 0:y.duration)!=null?Yn:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:v,closeButton:(es=y==null?void 0:y.closeButton)!=null?es:o,interacting:A,position:se,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:oe,toasts:j.filter(Er=>Er.position==Se.position),heights:k.filter(Er=>Er.position==Se.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:T,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const qL=({...t})=>{const{theme:e="system"}=HA();return c.jsx(HL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},GL=["top","right","bottom","left"],Mi=Math.min,bn=Math.max,xf=Math.round,nh=Math.floor,Br=t=>({x:t,y:t}),KL={left:"right",right:"left",bottom:"top",top:"bottom"},QL={start:"end",end:"start"};function Oy(t,e,n){return bn(t,Mi(e,n))}function _s(t,e){return typeof t=="function"?t(e):t}function bs(t){return t.split("-")[0]}function Nl(t){return t.split("-")[1]}function Q0(t){return t==="x"?"y":"x"}function Y0(t){return t==="y"?"height":"width"}const YL=new Set(["top","bottom"]);function Lr(t){return YL.has(bs(t))?"y":"x"}function X0(t){return Q0(Lr(t))}function XL(t,e,n){n===void 0&&(n=!1);const r=Nl(t),s=X0(t),i=Y0(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=wf(o)),[o,wf(o)]}function JL(t){const e=wf(t);return[Ly(t),e,Ly(e)]}function Ly(t){return t.replace(/start|end/g,e=>QL[e])}const W_=["left","right"],H_=["right","left"],ZL=["top","bottom"],eV=["bottom","top"];function tV(t,e,n){switch(t){case"top":case"bottom":return n?e?H_:W_:e?W_:H_;case"left":case"right":return e?ZL:eV;default:return[]}}function nV(t,e,n,r){const s=Nl(t);let i=tV(bs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ly)))),i}function wf(t){return t.replace(/left|right|bottom|top/g,e=>KL[e])}function rV(t){return{top:0,right:0,bottom:0,left:0,...t}}function qA(t){return typeof t!="number"?rV(t):{top:t,right:t,bottom:t,left:t}}function _f(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function q_(t,e,n){let{reference:r,floating:s}=t;const i=Lr(e),o=X0(e),a=Y0(o),l=bs(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Nl(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const sV=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=q_(u,r,l),m=r,p={},v=0;for(let y=0;y<a.length;y++){const{name:b,fn:_}=a[y],{x:T,y:x,data:N,reset:C}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});h=T??h,f=x??f,p={...p,[b]:{...p[b],...N}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(m=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:h,y:f}=q_(u,m,l)),y=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Eu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=_s(e,t),v=qA(p),b=a[m?f==="floating"?"reference":"floating":f],_=_f(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),T=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=_f(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:T,offsetParent:x,strategy:l}):T);return{top:(_.top-C.top+v.top)/N.y,bottom:(C.bottom-_.bottom+v.bottom)/N.y,left:(_.left-C.left+v.left)/N.x,right:(C.right-_.right+v.right)/N.x}}const iV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=_s(t,e)||{};if(u==null)return{};const f=qA(h),m={x:n,y:r},p=X0(s),v=Y0(p),y=await o.getDimensions(u),b=p==="y",_=b?"top":"left",T=b?"bottom":"right",x=b?"clientHeight":"clientWidth",N=i.reference[v]+i.reference[p]-m[p]-i.floating[v],C=m[p]-i.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=j?j[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(j)))&&(I=a.floating[x]||i.floating[v]);const S=N/2-C/2,k=I/2-y[v]/2-1,R=Mi(f[_],k),D=Mi(f[T],k),M=R,A=I-y[v]-D,B=I/2-y[v]/2+S,J=Oy(M,B,A),ne=!l.arrow&&Nl(s)!=null&&B!==J&&i.reference[v]/2-(B<M?R:D)-y[v]/2<0,F=ne?B<M?B-M:B-A:0;return{[p]:m[p]+F,data:{[p]:J,centerOffset:B-J-F,...ne&&{alignmentOffset:F}},reset:ne}}}),oV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=_s(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=bs(s),T=Lr(a),x=bs(a)===a,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=m||(x||!y?[wf(a)]:JL(a)),j=v!=="none";!m&&j&&C.push(...nV(a,y,v,N));const I=[a,...C],S=await Eu(e,b),k=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&k.push(S[_]),f){const B=XL(s,o,N);k.push(S[B[0]],S[B[1]])}if(R=[...R,{placement:s,overflows:k}],!k.every(B=>B<=0)){var D,M;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,J=I[B];if(J&&(!(f==="alignment"?T!==Lr(J):!1)||R.every(O=>O.overflows[0]>0&&Lr(O.placement)===T)))return{data:{index:B,overflows:R},reset:{placement:J}};let ne=(M=R.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(p){case"bestFit":{var A;const F=(A=R.filter(O=>{if(j){const L=Lr(O.placement);return L===T||L==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((O,L)=>O[1]-L[1])[0])==null?void 0:A[0];F&&(ne=F);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function G_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function K_(t){return GL.some(e=>t[e]>=0)}const aV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_s(t,e);switch(r){case"referenceHidden":{const i=await Eu(e,{...s,elementContext:"reference"}),o=G_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:K_(o)}}}case"escaped":{const i=await Eu(e,{...s,altBoundary:!0}),o=G_(i,n.floating);return{data:{escapedOffsets:o,escaped:K_(o)}}}default:return{}}}}},GA=new Set(["left","top"]);async function lV(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=bs(n),a=Nl(n),l=Lr(n)==="y",u=GA.has(o)?-1:1,h=i&&l?-1:1,f=_s(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*h,y:m*u}:{x:m*u,y:p*h}}const cV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await lV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},uV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:T}=b;return{x:_,y:T}}},...l}=_s(t,e),u={x:n,y:r},h=await Eu(e,l),f=Lr(bs(s)),m=Q0(f);let p=u[m],v=u[f];if(i){const b=m==="y"?"top":"left",_=m==="y"?"bottom":"right",T=p+h[b],x=p-h[_];p=Oy(T,p,x)}if(o){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",T=v+h[b],x=v-h[_];v=Oy(T,v,x)}const y=a.fn({...e,[m]:p,[f]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[f]:o}}}}}},dV=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=_s(t,e),h={x:n,y:r},f=Lr(s),m=Q0(f);let p=h[m],v=h[f];const y=_s(a,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=m==="y"?"height":"width",N=i.reference[m]-i.floating[x]+b.mainAxis,C=i.reference[m]+i.reference[x]-b.mainAxis;p<N?p=N:p>C&&(p=C)}if(u){var _,T;const x=m==="y"?"width":"height",N=GA.has(bs(s)),C=i.reference[f]-i.floating[x]+(N&&((_=o.offset)==null?void 0:_[f])||0)+(N?0:b.crossAxis),j=i.reference[f]+i.reference[x]+(N?0:((T=o.offset)==null?void 0:T[f])||0)-(N?b.crossAxis:0);v<C?v=C:v>j&&(v=j)}return{[m]:p,[f]:v}}}},hV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=_s(t,e),h=await Eu(e,u),f=bs(s),m=Nl(s),p=Lr(s)==="y",{width:v,height:y}=i.floating;let b,_;f==="top"||f==="bottom"?(b=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,b=m==="end"?"top":"bottom");const T=y-h.top-h.bottom,x=v-h.left-h.right,N=Mi(y-h[b],T),C=Mi(v-h[_],x),j=!e.middlewareData.shift;let I=N,S=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=T),j&&!m){const R=bn(h.left,0),D=bn(h.right,0),M=bn(h.top,0),A=bn(h.bottom,0);p?S=v-2*(R!==0||D!==0?R+D:bn(h.left,h.right)):I=y-2*(M!==0||A!==0?M+A:bn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:I});const k=await o.getDimensions(a.floating);return v!==k.width||y!==k.height?{reset:{rects:!0}}:{}}}};function Sm(){return typeof window<"u"}function Pl(t){return KA(t)?(t.nodeName||"").toLowerCase():"#document"}function Cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(t){var e;return(e=(KA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KA(t){return Sm()?t instanceof Node||t instanceof Cn(t).Node:!1}function pr(t){return Sm()?t instanceof Element||t instanceof Cn(t).Element:!1}function Yr(t){return Sm()?t instanceof HTMLElement||t instanceof Cn(t).HTMLElement:!1}function Q_(t){return!Sm()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cn(t).ShadowRoot}const fV=new Set(["inline","contents"]);function sd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!fV.has(s)}const mV=new Set(["table","td","th"]);function pV(t){return mV.has(Pl(t))}const gV=[":popover-open",":modal"];function Cm(t){return gV.some(e=>{try{return t.matches(e)}catch{return!1}})}const yV=["transform","translate","scale","rotate","perspective"],vV=["transform","translate","scale","rotate","perspective","filter"],xV=["paint","layout","strict","content"];function J0(t){const e=Z0(),n=pr(t)?gr(t):t;return yV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vV.some(r=>(n.willChange||"").includes(r))||xV.some(r=>(n.contain||"").includes(r))}function wV(t){let e=Oi(t);for(;Yr(e)&&!hl(e);){if(J0(e))return e;if(Cm(e))return null;e=Oi(e)}return null}function Z0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _V=new Set(["html","body","#document"]);function hl(t){return _V.has(Pl(t))}function gr(t){return Cn(t).getComputedStyle(t)}function Im(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oi(t){if(Pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q_(t)&&t.host||Zr(t);return Q_(e)?e.host:e}function QA(t){const e=Oi(t);return hl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yr(e)&&sd(e)?e:QA(e)}function Tu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=QA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Cn(s);if(i){const a=Vy(o);return e.concat(o,o.visualViewport||[],sd(s)?s:[],a&&n?Tu(a):[])}return e.concat(s,Tu(s,[],n))}function Vy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function YA(t){const e=gr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Yr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=xf(n)!==i||xf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ex(t){return pr(t)?t:t.contextElement}function Ba(t){const e=ex(t);if(!Yr(e))return Br(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=YA(e);let o=(i?xf(n.width):n.width)/r,a=(i?xf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const bV=Br(0);function XA(t){const e=Cn(t);return!Z0()||!e.visualViewport?bV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Cn(t)?!1:e}function Lo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ex(t);let o=Br(1);e&&(r?pr(r)&&(o=Ba(r)):o=Ba(t));const a=EV(i,n,r)?XA(i):Br(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Cn(i),p=r&&pr(r)?Cn(r):r;let v=m,y=Vy(v);for(;y&&r&&p!==v;){const b=Ba(y),_=y.getBoundingClientRect(),T=gr(y),x=_.left+(y.clientLeft+parseFloat(T.paddingLeft))*b.x,N=_.top+(y.clientTop+parseFloat(T.paddingTop))*b.y;l*=b.x,u*=b.y,h*=b.x,f*=b.y,l+=x,u+=N,v=Cn(y),y=Vy(v)}}return _f({width:h,height:f,x:l,y:u})}function tx(t,e){const n=Im(t).scrollLeft;return e?e.left+n:Lo(Zr(t)).left+n}function JA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:tx(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function TV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Zr(r),a=e?Cm(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Br(1);const h=Br(0),f=Yr(r);if((f||!f&&!i)&&((Pl(r)!=="body"||sd(o))&&(l=Im(r)),Yr(r))){const p=Lo(r);u=Ba(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=o&&!f&&!i?JA(o,l,!0):Br(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-l.scrollTop*u.y+h.y+m.y}}function SV(t){return Array.from(t.getClientRects())}function CV(t){const e=Zr(t),n=Im(t),r=t.ownerDocument.body,s=bn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=bn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tx(t);const a=-n.scrollTop;return gr(r).direction==="rtl"&&(o+=bn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function IV(t,e){const n=Cn(t),r=Zr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Z0();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const AV=new Set(["absolute","fixed"]);function kV(t,e){const n=Lo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Yr(t)?Ba(t):Br(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Y_(t,e,n){let r;if(e==="viewport")r=IV(t,n);else if(e==="document")r=CV(Zr(t));else if(pr(e))r=kV(e,n);else{const s=XA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return _f(r)}function ZA(t,e){const n=Oi(t);return n===e||!pr(n)||hl(n)?!1:gr(n).position==="fixed"||ZA(n,e)}function NV(t,e){const n=e.get(t);if(n)return n;let r=Tu(t,[],!1).filter(a=>pr(a)&&Pl(a)!=="body"),s=null;const i=gr(t).position==="fixed";let o=i?Oi(t):t;for(;pr(o)&&!hl(o);){const a=gr(o),l=J0(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&AV.has(s.position)||sd(o)&&!l&&ZA(t,o))?r=r.filter(h=>h!==o):s=a,o=Oi(o)}return e.set(t,r),r}function PV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Cm(e)?[]:NV(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const f=Y_(e,h,s);return u.top=bn(f.top,u.top),u.right=Mi(f.right,u.right),u.bottom=Mi(f.bottom,u.bottom),u.left=bn(f.left,u.left),u},Y_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function RV(t){const{width:e,height:n}=YA(t);return{width:e,height:n}}function jV(t,e,n){const r=Yr(e),s=Zr(e),i=n==="fixed",o=Lo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Br(0);function u(){l.x=tx(s)}if(r||!r&&!i)if((Pl(e)!=="body"||sd(s))&&(a=Im(e)),r){const p=Lo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const h=s&&!r&&!i?JA(s,a):Br(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function ng(t){return gr(t).position==="static"}function X_(t,e){if(!Yr(t)||gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zr(t)===n&&(n=n.ownerDocument.body),n}function ek(t,e){const n=Cn(t);if(Cm(t))return n;if(!Yr(t)){let s=Oi(t);for(;s&&!hl(s);){if(pr(s)&&!ng(s))return s;s=Oi(s)}return n}let r=X_(t,e);for(;r&&pV(r)&&ng(r);)r=X_(r,e);return r&&hl(r)&&ng(r)&&!J0(r)?n:r||wV(t)||n}const DV=async function(t){const e=this.getOffsetParent||ek,n=this.getDimensions,r=await n(t.floating);return{reference:jV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MV(t){return gr(t).direction==="rtl"}const OV={convertOffsetParentRelativeRectToViewportRelativeRect:TV,getDocumentElement:Zr,getClippingRect:PV,getOffsetParent:ek,getElementRects:DV,getClientRects:SV,getDimensions:RV,getScale:Ba,isElement:pr,isRTL:MV};function tk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LV(t,e){let n=null,r;const s=Zr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=t.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=u;if(a||e(),!m||!p)return;const v=nh(f),y=nh(s.clientWidth-(h+m)),b=nh(s.clientHeight-(f+p)),_=nh(h),x={rootMargin:-v+"px "+-y+"px "+-b+"px "+-_+"px",threshold:bn(0,Mi(1,l))||1};let N=!0;function C(j){const I=j[0].intersectionRatio;if(I!==l){if(!N)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!tk(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(t)}return o(!0),i}function VV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=ex(t),h=s||i?[...u?Tu(u):[],...Tu(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=u&&a?LV(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[T]=_;T&&T.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let v,y=l?Lo(t):null;l&&b();function b(){const _=Lo(t);y&&!tk(y,_)&&n(),y=_,v=requestAnimationFrame(b)}return n(),()=>{var _;h.forEach(T=>{s&&T.removeEventListener("scroll",n),i&&T.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const FV=cV,UV=uV,BV=oV,$V=hV,zV=aV,J_=iV,WV=dV,HV=(t,e,n)=>{const r=new Map,s={platform:OV,...n},i={...s.platform,_c:r};return sV(t,e,{...s,platform:i})};var qV=typeof document<"u",GV=function(){},Ah=qV?w.useLayoutEffect:GV;function bf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!bf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function nk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(t,e){const n=nk(t);return Math.round(e*n)/n}function rg(t){const e=w.useRef(t);return Ah(()=>{e.current=t}),e}function KV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=w.useState(r);bf(m,r)||p(r);const[v,y]=w.useState(null),[b,_]=w.useState(null),T=w.useCallback(O=>{O!==j.current&&(j.current=O,y(O))},[]),x=w.useCallback(O=>{O!==I.current&&(I.current=O,_(O))},[]),N=i||v,C=o||b,j=w.useRef(null),I=w.useRef(null),S=w.useRef(h),k=l!=null,R=rg(l),D=rg(s),M=rg(u),A=w.useCallback(()=>{if(!j.current||!I.current)return;const O={placement:e,strategy:n,middleware:m};D.current&&(O.platform=D.current),HV(j.current,I.current,O).then(L=>{const H={...L,isPositioned:M.current!==!1};B.current&&!bf(S.current,H)&&(S.current=H,Zu.flushSync(()=>{f(H)}))})},[m,e,n,D,M]);Ah(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const B=w.useRef(!1);Ah(()=>(B.current=!0,()=>{B.current=!1}),[]),Ah(()=>{if(N&&(j.current=N),C&&(I.current=C),N&&C){if(R.current)return R.current(N,C,A);A()}},[N,C,A,R,k]);const J=w.useMemo(()=>({reference:j,floating:I,setReference:T,setFloating:x}),[T,x]),ne=w.useMemo(()=>({reference:N,floating:C}),[N,C]),F=w.useMemo(()=>{const O={position:n,left:0,top:0};if(!ne.floating)return O;const L=Z_(ne.floating,h.x),H=Z_(ne.floating,h.y);return a?{...O,transform:"translate("+L+"px, "+H+"px)",...nk(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,a,ne.floating,h.x,h.y]);return w.useMemo(()=>({...h,update:A,refs:J,elements:ne,floatingStyles:F}),[h,A,J,ne,F])}const QV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J_({element:r.current,padding:s}).fn(n):{}:r?J_({element:r,padding:s}).fn(n):{}}}},YV=(t,e)=>({...FV(t),options:[t,e]}),XV=(t,e)=>({...UV(t),options:[t,e]}),JV=(t,e)=>({...WV(t),options:[t,e]}),ZV=(t,e)=>({...BV(t),options:[t,e]}),eF=(t,e)=>({...$V(t),options:[t,e]}),tF=(t,e)=>({...zV(t),options:[t,e]}),nF=(t,e)=>({...QV(t),options:[t,e]});var rF="Arrow",rk=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(Yt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});rk.displayName=rF;var sF=rk;function iF(t){const[e,n]=w.useState(void 0);return Ri(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sk="Popper",[ik,ok]=ed(sk),[DQ,ak]=ik(sk),lk="PopperAnchor",ck=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=ak(lk,n),o=w.useRef(null),a=mr(e,o);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(Yt.div,{...s,ref:a})});ck.displayName=lk;var nx="PopperContent",[oF,aF]=ik(nx),uk=w.forwardRef((t,e)=>{var Se,br,Yn,es,Er,ts;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:v,...y}=t,b=ak(nx,n),[_,T]=w.useState(null),x=mr(e,jn=>T(jn)),[N,C]=w.useState(null),j=iF(N),I=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,k=r+(i!=="center"?"-"+i:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(u)?u:[u],M=D.length>0,A={padding:R,boundary:D.filter(cF),altBoundary:M},{refs:B,floatingStyles:J,placement:ne,isPositioned:F,middlewareData:O}=KV({strategy:"fixed",placement:k,whileElementsMounted:(...jn)=>VV(...jn,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[YV({mainAxis:s+S,alignmentAxis:o}),l&&XV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?JV():void 0,...A}),l&&ZV({...A}),eF({...A,apply:({elements:jn,rects:to,availableWidth:Gl,availableHeight:Rs})=>{const{width:no,height:js}=to.reference,qe=jn.floating.style;qe.setProperty("--radix-popper-available-width",`${Gl}px`),qe.setProperty("--radix-popper-available-height",`${Rs}px`),qe.setProperty("--radix-popper-anchor-width",`${no}px`),qe.setProperty("--radix-popper-anchor-height",`${js}px`)}}),N&&nF({element:N,padding:a}),uF({arrowWidth:I,arrowHeight:S}),m&&tF({strategy:"referenceHidden",...A})]}),[L,H]=fk(ne),oe=Pi(v);Ri(()=>{F&&(oe==null||oe())},[F,oe]);const se=(Se=O.arrow)==null?void 0:Se.x,ye=(br=O.arrow)==null?void 0:br.y,pe=((Yn=O.arrow)==null?void 0:Yn.centerOffset)!==0,[We,it]=w.useState();return Ri(()=>{_&&it(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:F?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(es=O.transformOrigin)==null?void 0:es.x,(Er=O.transformOrigin)==null?void 0:Er.y].join(" "),...((ts=O.hide)==null?void 0:ts.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(oF,{scope:n,placedSide:L,onArrowChange:C,arrowX:se,arrowY:ye,shouldHideArrow:pe,children:c.jsx(Yt.div,{"data-side":L,"data-align":H,...y,ref:x,style:{...y.style,animation:F?void 0:"none"}})})})});uk.displayName=nx;var dk="PopperArrow",lF={top:"bottom",right:"left",bottom:"top",left:"right"},hk=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=aF(dk,r),o=lF[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(sF,{...s,ref:n,style:{...s.style,display:"block"}})})});hk.displayName=dk;function cF(t){return t!==null}var uF=t=>({name:"transformOrigin",options:t,fn(e){var b,_,T;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=fk(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,p=(((T=s.arrow)==null?void 0:T.y)??0)+l/2;let v="",y="";return u==="bottom"?(v=o?f:`${m}px`,y=`${-l}px`):u==="top"?(v=o?f:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,y=o?f:`${p}px`):u==="left"&&(v=`${r.floating.width+l}px`,y=o?f:`${p}px`),{data:{x:v,y}}}});function fk(t){const[e,n="center"]=t.split("-");return[e,n]}var dF=ck,hF=uk,fF=hk,[Am,MQ]=ed("Tooltip",[ok]),rx=ok(),mk="TooltipProvider",mF=700,eb="tooltip.open",[pF,pk]=Am(mk),gk=t=>{const{__scopeTooltip:e,delayDuration:n=mF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(pF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};gk.displayName=mk;var yk="Tooltip",[OQ,km]=Am(yk),Fy="TooltipTrigger",gF=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=km(Fy,n),i=pk(Fy,n),o=rx(n),a=w.useRef(null),l=mr(e,a,s.onTriggerChange),u=w.useRef(!1),h=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(dF,{asChild:!0,...o,children:c.jsx(Yt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:gt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:gt(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:gt(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:gt(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:gt(t.onBlur,s.onClose),onClick:gt(t.onClick,s.onClose)})})});gF.displayName=Fy;var yF="TooltipPortal",[LQ,vF]=Am(yF,{forceMount:void 0}),fl="TooltipContent",vk=w.forwardRef((t,e)=>{const n=vF(fl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=km(fl,t.__scopeTooltip);return c.jsx(V0,{present:r||o.open,children:o.disableHoverableContent?c.jsx(xk,{side:s,...i,ref:e}):c.jsx(xF,{side:s,...i,ref:e})})}),xF=w.forwardRef((t,e)=>{const n=km(fl,t.__scopeTooltip),r=pk(fl,t.__scopeTooltip),s=w.useRef(null),i=mr(e,s),[o,a]=w.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=w.useCallback(()=>{a(null),f(!1)},[f]),p=w.useCallback((v,y)=>{const b=v.currentTarget,_={x:v.clientX,y:v.clientY},T=TF(_,b.getBoundingClientRect()),x=SF(_,T),N=CF(y.getBoundingClientRect()),C=AF([...x,...N]);a(C),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(l&&h){const v=b=>p(b,h),y=b=>p(b,l);return l.addEventListener("pointerleave",v),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),h.removeEventListener("pointerleave",y)}}},[l,h,p,m]),w.useEffect(()=>{if(o){const v=y=>{const b=y.target,_={x:y.clientX,y:y.clientY},T=(l==null?void 0:l.contains(b))||(h==null?void 0:h.contains(b)),x=!IF(_,o);T?m():x&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,h,o,u,m]),c.jsx(xk,{...t,ref:i})}),[wF,_F]=Am(yk,{isInside:!1}),bF=_4("TooltipContent"),xk=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=km(fl,n),u=rx(n),{onClose:h}=l;return w.useEffect(()=>(document.addEventListener(eb,h),()=>document.removeEventListener(eb,h)),[h]),w.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),c.jsx(L0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:c.jsxs(hF,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(bF,{children:r}),c.jsx(wF,{scope:n,isInside:!0,children:c.jsx(q4,{id:l.contentId,role:"tooltip",children:s||r})})]})})});vk.displayName=fl;var wk="TooltipArrow",EF=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rx(n);return _F(wk,n).isInside?null:c.jsx(fF,{...s,...r,ref:e})});EF.displayName=wk;function TF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SF(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function CF(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function IF(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function AF(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kF(e)}function kF(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NF=gk,_k=vk;const PF=NF,RF=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(_k,{ref:r,sideOffset:e,className:rn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));RF.displayName=_k.displayName;var Nm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ni,$v,AS,DF=(AS=class{constructor(){Te(this,ni,jF);Te(this,$v,!1)}setTimeoutProvider(t){de(this,ni,t)}setTimeout(t,e){return $(this,ni).setTimeout(t,e)}clearTimeout(t){$(this,ni).clearTimeout(t)}setInterval(t,e){return $(this,ni).setInterval(t,e)}clearInterval(t){$(this,ni).clearInterval(t)}},ni=new WeakMap,$v=new WeakMap,AS),Uy=new DF;function MF(t){setTimeout(t,0)}var Pm=typeof window>"u"||"Deno"in globalThis;function sr(){}function OF(t,e){return typeof t=="function"?t(e):t}function LF(t){return typeof t=="number"&&t>=0&&t!==1/0}function VF(t,e){return Math.max(t+(e||0)-Date.now(),0)}function By(t,e){return typeof t=="function"?t(e):t}function FF(t,e){return typeof t=="function"?t(e):t}function tb(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==sx(o,e.options))return!1}else if(!Cu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nb(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Su(e.options.mutationKey)!==Su(i))return!1}else if(!Cu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function sx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Su)(t)}function Su(t){return JSON.stringify(t,(e,n)=>$y(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Cu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Cu(t[n],e[n])):!1}var UF=Object.prototype.hasOwnProperty;function bk(t,e,n=0){if(t===e)return t;if(n>500)return e;const r=rb(t)&&rb(e);if(!r&&!($y(t)&&$y(e)))return e;const i=(r?t:Object.keys(t)).length,o=r?e:Object.keys(e),a=o.length,l=r?new Array(a):{};let u=0;for(let h=0;h<a;h++){const f=r?h:o[h],m=t[f],p=e[f];if(m===p){l[f]=m,(r?h<i:UF.call(t,f))&&u++;continue}if(m===null||p===null||typeof m!="object"||typeof p!="object"){l[f]=p;continue}const v=bk(m,p,n+1);l[f]=v,v===m&&u++}return i===a&&u===i?t:l}function rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $y(t){if(!sb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!sb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function sb(t){return Object.prototype.toString.call(t)==="[object Object]"}function BF(t){return new Promise(e=>{Uy.setTimeout(e,t)})}function $F(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bk(t,e):e}function zF(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function WF(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ix=Symbol();function Ek(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ix?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function HF(t,e,n){let r=!1,s;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),t}var bo,ri,Ya,kS,qF=(kS=class extends Nm{constructor(){super();Te(this,bo);Te(this,ri);Te(this,Ya);de(this,Ya,e=>{if(!Pm&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,ri)||this.setEventListener($(this,Ya))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ri))==null||e.call(this),de(this,ri,void 0))}setEventListener(e){var n;de(this,Ya,e),(n=$(this,ri))==null||n.call(this),de(this,ri,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,bo)!==e&&(de(this,bo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,bo)=="boolean"?$(this,bo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bo=new WeakMap,ri=new WeakMap,Ya=new WeakMap,kS),Tk=new qF;function GF(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var KF=MF;function QF(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=KF;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Zt=QF(),Xa,si,Ja,NS,YF=(NS=class extends Nm{constructor(){super();Te(this,Xa,!0);Te(this,si);Te(this,Ja);de(this,Ja,e=>{if(!Pm&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,si)||this.setEventListener($(this,Ja))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,si))==null||e.call(this),de(this,si,void 0))}setEventListener(e){var n;de(this,Ja,e),(n=$(this,si))==null||n.call(this),de(this,si,e(this.setOnline.bind(this)))}setOnline(e){$(this,Xa)!==e&&(de(this,Xa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,Xa)}},Xa=new WeakMap,si=new WeakMap,Ja=new WeakMap,NS),Ef=new YF;function XF(t){return Math.min(1e3*2**t,3e4)}function Sk(t){return(t??"online")==="online"?Ef.isOnline():!0}var zy=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ck(t){let e=!1,n=0,r;const s=GF(),i=()=>s.status!=="pending",o=y=>{var b;if(!i()){const _=new zy(y);m(_),(b=t.onCancel)==null||b.call(t,_)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>Tk.isFocused()&&(t.networkMode==="always"||Ef.isOnline())&&t.canRun(),h=()=>Sk(t.networkMode)&&t.canRun(),f=y=>{i()||(r==null||r(),s.resolve(y))},m=y=>{i()||(r==null||r(),s.reject(y))},p=()=>new Promise(y=>{var b;r=_=>{(i()||u())&&y(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;r=void 0,i()||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(i())return;let y;const b=n===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(f).catch(_=>{var j;if(i())return;const T=t.retry??(Pm?0:3),x=t.retryDelay??XF,N=typeof x=="function"?x(n,_):x,C=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,_);if(e||!C){m(_);return}n++,(j=t.onFail)==null||j.call(t,n,_),BF(N).then(()=>u()?void 0:p()).then(()=>{e?m(_):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?v():p().then(v),s)}}var Eo,PS,Ik=(PS=class{constructor(){Te(this,Eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LF(this.gcTime)&&de(this,Eo,Uy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Pm?1/0:5*60*1e3))}clearGcTimeout(){$(this,Eo)&&(Uy.clearTimeout($(this,Eo)),de(this,Eo,void 0))}},Eo=new WeakMap,PS),To,Za,On,So,Tt,Hu,Co,ir,is,RS,JF=(RS=class extends Ik{constructor(n){super();Te(this,ir);Te(this,To);Te(this,Za);Te(this,On);Te(this,So);Te(this,Tt);Te(this,Hu);Te(this,Co);de(this,Co,!1),de(this,Hu,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,So,n.client),de(this,On,$(this,So).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,To,ob(this.options)),this.state=n.state??$(this,To),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Tt))==null?void 0:n.promise}setOptions(n){if(this.options={...$(this,Hu),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=ob(this.options);r.data!==void 0&&(this.setState(ib(r.data,r.dataUpdatedAt)),de(this,To,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,On).remove(this)}setData(n,r){const s=$F(this.state.data,n,this.options);return Vt(this,ir,is).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Vt(this,ir,is).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Tt))==null?void 0:s.promise;return(i=$(this,Tt))==null||i.cancel(n),r?r.then(sr).catch(sr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,To))}isActive(){return this.observers.some(n=>FF(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ix||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>By(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!VF(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Tt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Tt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,On).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Tt)&&($(this,Co)?$(this,Tt).cancel({revert:!0}):$(this,Tt).cancelRetry()),this.scheduleGc()),$(this,On).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,ir,is).call(this,{type:"invalidate"})}async fetch(n,r){var u,h,f,m,p,v,y,b,_,T,x,N;if(this.state.fetchStatus!=="idle"&&((u=$(this,Tt))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Tt))return $(this,Tt).continueRetry(),$(this,Tt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const C=this.observers.find(j=>j.options.queryFn);C&&this.setOptions(C.options)}const s=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(de(this,Co,!0),s.signal)})},o=()=>{const C=Ek(this.options,r),I=(()=>{const S={client:$(this,So),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return de(this,Co,!1),this.options.persister?this.options.persister(C,I,this):C(I)},l=(()=>{const C={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,So),state:this.state,fetchFn:o};return i(C),C})();(h=this.options.behavior)==null||h.onFetch(l,this),de(this,Za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Vt(this,ir,is).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),de(this,Tt,Ck({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:C=>{C instanceof zy&&C.revert&&this.setState({...$(this,Za),fetchStatus:"idle"}),s.abort()},onFail:(C,j)=>{Vt(this,ir,is).call(this,{type:"failed",failureCount:C,error:j})},onPause:()=>{Vt(this,ir,is).call(this,{type:"pause"})},onContinue:()=>{Vt(this,ir,is).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const C=await $(this,Tt).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(v=(p=$(this,On).config).onSuccess)==null||v.call(p,C,this),(b=(y=$(this,On).config).onSettled)==null||b.call(y,C,this.state.error,this),C}catch(C){if(C instanceof zy){if(C.silent)return $(this,Tt).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Vt(this,ir,is).call(this,{type:"error",error:C}),(T=(_=$(this,On).config).onError)==null||T.call(_,C,this),(N=(x=$(this,On).config).onSettled)==null||N.call(x,this.state.data,C,this),C}finally{this.scheduleGc()}}},To=new WeakMap,Za=new WeakMap,On=new WeakMap,So=new WeakMap,Tt=new WeakMap,Hu=new WeakMap,Co=new WeakMap,ir=new WeakSet,is=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ZF(s.data,this.options),fetchMeta:n.meta??null};case"success":const i={...s,...ib(n.data,n.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,Za,n.manual?i:void 0),i;case"error":const o=n.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,On).notify({query:this,type:"updated",action:n})})},RS);function ZF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ib(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ob(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function ab(t){return{onFetch:(e,n)=>{var h,f,m,p,v;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{HF(x,()=>e.signal,()=>y=!0)},_=Ek(e.options,e.fetchOptions),T=async(x,N,C)=>{if(y)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:N,direction:C?"backward":"forward",meta:e.options.meta};return b(D),D})(),S=await _(I),{maxPages:k}=e.options,R=C?WF:zF;return{pages:R(x.pages,S,k),pageParams:R(x.pageParams,N,k)}};if(s&&i.length){const x=s==="backward",N=x?e5:lb,C={pages:i,pageParams:o},j=N(r,C);a=await T(C,j,x)}else{const x=t??i.length;do{const N=l===0?o[0]??r.initialPageParam:lb(r,a);if(l>0&&N==null)break;a=await T(a,N),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function lb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function e5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var qu,jr,$t,Io,Dr,qs,jS,t5=(jS=class extends Ik{constructor(n){super();Te(this,Dr);Te(this,qu);Te(this,jr);Te(this,$t);Te(this,Io);de(this,qu,n.client),this.mutationId=n.mutationId,de(this,$t,n.mutationCache),de(this,jr,[]),this.state=n.state||n5(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,jr).includes(n)||($(this,jr).push(n),this.clearGcTimeout(),$(this,$t).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,jr,$(this,jr).filter(r=>r!==n)),this.scheduleGc(),$(this,$t).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,jr).length||(this.state.status==="pending"?this.scheduleGc():$(this,$t).remove(this))}continue(){var n;return((n=$(this,Io))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,l,u,h,f,m,p,v,y,b,_,T,x,N,C,j,I,S;const r=()=>{Vt(this,Dr,qs).call(this,{type:"continue"})},s={client:$(this,qu),meta:this.options.meta,mutationKey:this.options.mutationKey};de(this,Io,Ck({fn:()=>this.options.mutationFn?this.options.mutationFn(n,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,R)=>{Vt(this,Dr,qs).call(this,{type:"failed",failureCount:k,error:R})},onPause:()=>{Vt(this,Dr,qs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,$t).canRun(this)}));const i=this.state.status==="pending",o=!$(this,Io).canStart();try{if(i)r();else{Vt(this,Dr,qs).call(this,{type:"pending",variables:n,isPaused:o}),$(this,$t).config.onMutate&&await $(this,$t).config.onMutate(n,this,s);const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n,s));R!==this.state.context&&Vt(this,Dr,qs).call(this,{type:"pending",context:R,variables:n,isPaused:o})}const k=await $(this,Io).start();return await((h=(u=$(this,$t).config).onSuccess)==null?void 0:h.call(u,k,n,this.state.context,this,s)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,k,n,this.state.context,s)),await((v=(p=$(this,$t).config).onSettled)==null?void 0:v.call(p,k,null,this.state.variables,this.state.context,this,s)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,k,null,n,this.state.context,s)),Vt(this,Dr,qs).call(this,{type:"success",data:k}),k}catch(k){try{await((T=(_=$(this,$t).config).onError)==null?void 0:T.call(_,k,n,this.state.context,this,s))}catch(R){Promise.reject(R)}try{await((N=(x=this.options).onError)==null?void 0:N.call(x,k,n,this.state.context,s))}catch(R){Promise.reject(R)}try{await((j=(C=$(this,$t).config).onSettled)==null?void 0:j.call(C,void 0,k,this.state.variables,this.state.context,this,s))}catch(R){Promise.reject(R)}try{await((S=(I=this.options).onSettled)==null?void 0:S.call(I,void 0,k,n,this.state.context,s))}catch(R){Promise.reject(R)}throw Vt(this,Dr,qs).call(this,{type:"error",error:k}),k}finally{$(this,$t).runNext(this)}}},qu=new WeakMap,jr=new WeakMap,$t=new WeakMap,Io=new WeakMap,Dr=new WeakSet,qs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{$(this,jr).forEach(s=>{s.onMutationUpdate(n)}),$(this,$t).notify({mutation:this,type:"updated",action:n})})},jS);function n5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ls,or,Gu,DS,r5=(DS=class extends Nm{constructor(e={}){super();Te(this,ls);Te(this,or);Te(this,Gu);this.config=e,de(this,ls,new Set),de(this,or,new Map),de(this,Gu,0)}build(e,n,r){const s=new t5({client:e,mutationCache:this,mutationId:++Md(this,Gu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){$(this,ls).add(e);const n=rh(e);if(typeof n=="string"){const r=$(this,or).get(n);r?r.push(e):$(this,or).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if($(this,ls).delete(e)){const n=rh(e);if(typeof n=="string"){const r=$(this,or).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&$(this,or).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=rh(e);if(typeof n=="string"){const r=$(this,or).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=rh(e);if(typeof n=="string"){const s=(r=$(this,or).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{$(this,ls).forEach(e=>{this.notify({type:"removed",mutation:e})}),$(this,ls).clear(),$(this,or).clear()})}getAll(){return Array.from($(this,ls))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>nb(n,r))}findAll(e={}){return this.getAll().filter(n=>nb(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(sr))))}},ls=new WeakMap,or=new WeakMap,Gu=new WeakMap,DS);function rh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Mr,MS,s5=(MS=class extends Nm{constructor(e={}){super();Te(this,Mr);this.config=e,de(this,Mr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??sx(s,n);let o=this.get(i);return o||(o=new JF({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,Mr).has(e.queryHash)||($(this,Mr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,Mr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,Mr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,Mr).get(e)}getAll(){return[...$(this,Mr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>tb(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mr=new WeakMap,MS),et,ii,oi,el,tl,ai,nl,rl,OS,i5=(OS=class{constructor(t={}){Te(this,et);Te(this,ii);Te(this,oi);Te(this,el);Te(this,tl);Te(this,ai);Te(this,nl);Te(this,rl);de(this,et,t.queryCache||new s5),de(this,ii,t.mutationCache||new r5),de(this,oi,t.defaultOptions||{}),de(this,el,new Map),de(this,tl,new Map),de(this,ai,0)}mount(){Md(this,ai)._++,$(this,ai)===1&&(de(this,nl,Tk.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,et).onFocus())})),de(this,rl,Ef.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,et).onOnline())})))}unmount(){var t,e;Md(this,ai)._--,$(this,ai)===0&&((t=$(this,nl))==null||t.call(this),de(this,nl,void 0),(e=$(this,rl))==null||e.call(this),de(this,rl,void 0))}isFetching(t){return $(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=$(this,et).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(By(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return $(this,et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,et).get(r.queryHash),i=s==null?void 0:s.state.data,o=OF(e,i);if(o!==void 0)return $(this,et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>$(this,et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,et);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,et);return Zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zt.batch(()=>$(this,et).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(sr).catch(sr)}invalidateQueries(t,e={}){return Zt.batch(()=>($(this,et).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zt.batch(()=>$(this,et).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(sr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(sr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,et).build(this,e);return n.isStaleByTime(By(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sr).catch(sr)}fetchInfiniteQuery(t){return t.behavior=ab(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sr).catch(sr)}ensureInfiniteQueryData(t){return t.behavior=ab(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ef.isOnline()?$(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,et)}getMutationCache(){return $(this,ii)}getDefaultOptions(){return $(this,oi)}setDefaultOptions(t){de(this,oi,t)}setQueryDefaults(t,e){$(this,el).set(Su(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,el).values()],n={};return e.forEach(r=>{Cu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){$(this,tl).set(Su(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,tl).values()],n={};return e.forEach(r=>{Cu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ix&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,et).clear(),$(this,ii).clear()}},et=new WeakMap,ii=new WeakMap,oi=new WeakMap,el=new WeakMap,tl=new WeakMap,ai=new WeakMap,nl=new WeakMap,rl=new WeakMap,OS),o5=w.createContext(void 0),a5=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(o5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}var ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ui||(ui={}));const cb="popstate";function l5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Wy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Tf(s)}return u5(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ak(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c5(){return Math.random().toString(36).substr(2,8)}function ub(t,e){return{usr:t.state,key:t.key,idx:e}}function Wy(t,e,n,r){return n===void 0&&(n=null),Iu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rl(e):e,{state:n,key:e&&e.key||r||c5()})}function Tf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ui.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Iu({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ui.Pop;let b=h(),_=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:_})}function m(b,_){a=ui.Push;let T=Wy(y.location,b,_);u=h()+1;let x=ub(T,u),N=y.createHref(T);try{o.pushState(x,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(N)}i&&l&&l({action:a,location:y.location,delta:1})}function p(b,_){a=ui.Replace;let T=Wy(y.location,b,_);u=h();let x=ub(T,u),N=y.createHref(T);o.replaceState(x,"",N),i&&l&&l({action:a,location:y.location,delta:0})}function v(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof b=="string"?b:Tf(b);return T=T.replace(/ $/,"%20"),dt(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let y={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(cb,f),l=b,()=>{s.removeEventListener(cb,f),l=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let _=v(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(b){return o.go(b)}};return y}var db;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(db||(db={}));function d5(t,e,n){return n===void 0&&(n="/"),h5(t,e,n,!1)}function h5(t,e,n,r){let s=typeof e=="string"?Rl(e):e,i=ox(s.pathname||"/",n);if(i==null)return null;let o=kk(t);f5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=T5(i);a=b5(o[l],u,r)}return a}function kk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=bi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(dt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kk(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:w5(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Nk(i.path))s(i,o,l)}),e}function Nk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Nk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function f5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const m5=/^:[\w-]+$/,p5=3,g5=2,y5=1,v5=10,x5=-2,hb=t=>t==="*";function w5(t,e){let n=t.split("/"),r=n.length;return n.some(hb)&&(r+=x5),e&&(r+=g5),n.filter(s=>!hb(s)).reduce((s,i)=>s+(m5.test(i)?p5:i===""?y5:v5),r)}function _5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function b5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=fb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=fb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bi([i,f.pathname]),pathnameBase:A5(bi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=bi([i,f.pathnameBase]))}return o}function fb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[f];return p&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function E5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ak(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function T5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ak(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ox(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function S5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Rl(t):t;return{pathname:n?n.startsWith("/")?n:C5(n,e):e,search:k5(r),hash:N5(s)}}function C5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pk(t,e){let n=I5(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rk(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Rl(t):(s=Iu({},t),dt(!s.pathname||!s.pathname.includes("?"),sg("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),sg("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),sg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=S5(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),A5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function P5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jk=["post","put","patch","delete"];new Set(jk);const R5=["get",...jk];new Set(R5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(this,arguments)}const ax=w.createContext(null),j5=w.createContext(null),Qo=w.createContext(null),Rm=w.createContext(null),Ki=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Dk=w.createContext(null);function D5(t,e){let{relative:n}=e===void 0?{}:e;id()||dt(!1);let{basename:r,navigator:s}=w.useContext(Qo),{hash:i,pathname:o,search:a}=Lk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:bi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function id(){return w.useContext(Rm)!=null}function Yo(){return id()||dt(!1),w.useContext(Rm).location}function Mk(t){w.useContext(Qo).static||w.useLayoutEffect(t)}function Pn(){let{isDataRoute:t}=w.useContext(Ki);return t?G5():M5()}function M5(){id()||dt(!1);let t=w.useContext(ax),{basename:e,future:n,navigator:r}=w.useContext(Qo),{matches:s}=w.useContext(Ki),{pathname:i}=Yo(),o=JSON.stringify(Pk(s,n.v7_relativeSplatPath)),a=w.useRef(!1);return Mk(()=>{a.current=!0}),w.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Rk(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function Ok(){let{matches:t}=w.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function Lk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Qo),{matches:s}=w.useContext(Ki),{pathname:i}=Yo(),o=JSON.stringify(Pk(s,r.v7_relativeSplatPath));return w.useMemo(()=>Rk(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function O5(t,e){return L5(t,e)}function L5(t,e,n,r){id()||dt(!1);let{navigator:s}=w.useContext(Qo),{matches:i}=w.useContext(Ki),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Yo(),h;if(e){var f;let b=typeof e=="string"?Rl(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||dt(!1),h=b}else h=u;let m=h.pathname||"/",p=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=d5(t,{pathname:p}),y=$5(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:bi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:bi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&y?w.createElement(Rm.Provider,{value:{location:Au({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ui.Pop}},y):y}function V5(){let t=q5(),e=P5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const F5=w.createElement(V5,null);class U5 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Ki.Provider,{value:this.props.routeContext},w.createElement(Dk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B5(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(ax);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ki.Provider,{value:e},r)}function $5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||dt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:p}=n,v=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let p,v=!1,y=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||F5,l&&(u<0&&m===0?(v=!0,b=null):u===m&&(v=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),T=()=>{let x;return p?x=y:v?x=b:f.route.Component?x=w.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,w.createElement(B5,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(U5,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var Vk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vk||{}),Sf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Sf||{});function z5(t){let e=w.useContext(ax);return e||dt(!1),e}function W5(t){let e=w.useContext(j5);return e||dt(!1),e}function H5(t){let e=w.useContext(Ki);return e||dt(!1),e}function Fk(t){let e=H5(),n=e.matches[e.matches.length-1];return n.route.id||dt(!1),n.route.id}function q5(){var t;let e=w.useContext(Dk),n=W5(Sf.UseRouteError),r=Fk(Sf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function G5(){let{router:t}=z5(Vk.UseNavigateStable),e=Fk(Sf.UseNavigateStable),n=w.useRef(!1);return Mk(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Au({fromRouteId:e},i)))},[t,e])}function K5(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Et(t){dt(!1)}function Q5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ui.Pop,navigator:i,static:o=!1,future:a}=t;id()&&dt(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Au({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Rl(r));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:v="default"}=r,y=w.useMemo(()=>{let b=ox(h,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:v},navigationType:s}},[l,h,f,m,p,v,s]);return y==null?null:w.createElement(Qo.Provider,{value:u},w.createElement(Rm.Provider,{children:n,value:y}))}function Y5(t){let{children:e,location:n}=t;return O5(Hy(e),n)}new Promise(()=>{});function Hy(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Hy(r.props.children,i));return}r.type!==Et&&dt(!1),!r.props.index||!r.props.children||dt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}function X5(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function J5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z5(t,e){return t.button===0&&(!e||e==="_self")&&!J5(t)}function Gy(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function e3(t,e){let n=Gy(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const t3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n3="6";try{window.__reactRouterVersion=n3}catch{}const r3="startTransition",mb=KS[r3];function s3(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=l5({window:s,v5Compat:!0}));let o=i.current,[a,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=w.useCallback(f=>{u&&mb?mb(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.useEffect(()=>K5(r),[r]),w.createElement(Q5,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const i3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",o3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jt=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f}=e,m=X5(e,t3),{basename:p}=w.useContext(Qo),v,y=!1;if(typeof u=="string"&&o3.test(u)&&(v=u,i3))try{let x=new URL(window.location.href),N=u.startsWith("//")?new URL(x.protocol+u):new URL(u),C=ox(N.pathname,p);N.origin===x.origin&&C!=null?u=C+N.search+N.hash:y=!0}catch{}let b=D5(u,{relative:s}),_=a3(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function T(x){r&&r(x),x.defaultPrevented||_(x)}return w.createElement("a",qy({},m,{href:v||b,onClick:y||i?r:T,ref:n,target:l}))});var pb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pb||(pb={}));var gb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gb||(gb={}));function a3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Pn(),u=Yo(),h=Lk(t,{relative:o});return w.useCallback(f=>{if(Z5(f,n)){f.preventDefault();let m=r!==void 0?r:Tf(u)===Tf(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}function l3(t){let e=w.useRef(Gy(t)),n=w.useRef(!1),r=Yo(),s=w.useMemo(()=>e3(r.search,n.current?null:e.current),[r.search]),i=Pn(),o=w.useCallback((a,l)=>{const u=Gy(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const c3=()=>{};var yb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},u3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Bk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(m=64)),r.push(n[h],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new d3;const m=i<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h3=function(t){const e=Uk(t);return Bk.encodeByteArray(e,!0)},Cf=function(t){return h3(t).replace(/\./g,"")},$k=function(t){try{return Bk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=()=>f3().__FIREBASE_DEFAULTS__,p3=()=>{if(typeof process>"u"||typeof yb>"u")return;const t=yb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},g3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$k(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return c3()||m3()||p3()||g3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zk=t=>{var e,n;return(n=(e=jm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},y3=t=>{const e=zk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wk=()=>{var t;return(t=jm())==null?void 0:t.config},Hk=t=>{var e;return(e=jm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qk(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Cf(JSON.stringify(n)),Cf(JSON.stringify(o)),""].join(".")}const Kc={};function w3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kc))Kc[e]?t.emulator.push(e):t.prod.push(e);return t}function _3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let vb=!1;function Gk(t,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||Kc[t]===e||Kc[t]||vb)return;Kc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=w3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{vb=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=_3(r),p=n("text"),v=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),T=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;a(x),h(b,y);const N=u();l(T,_),x.append(T,v,b,N),document.body.appendChild(x)}i?(v.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function E3(){var e;const t=(e=jm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function C3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I3(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A3(){return!E3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k3(){try{return typeof indexedDB=="object"}catch{return!1}}function N3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=P3,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,od.prototype.create)}}class od{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?R3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ps(s,a,r)}}function R3(t,e){return t.replace(j3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const j3=/\{\$([^}]+)}/g;function D3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xb(i)&&xb(o)){if(!Vo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ac(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M3(t,e){const n=new O3(t,e);return n.subscribe.bind(n)}class O3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ig),s.error===void 0&&(s.error=ig),s.complete===void 0&&(s.complete=ig);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class Fo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U3(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F3(t){return t===fo?void 0:t}function U3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const $3={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},z3=_e.INFO,W3={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},H3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=W3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lx{constructor(e){this.name=e,this._logLevel=z3,this._logHandler=H3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const q3=(t,e)=>e.some(n=>t instanceof n);let wb,_b;function G3(){return wb||(wb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K3(){return _b||(_b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kk=new WeakMap,Ky=new WeakMap,Qk=new WeakMap,og=new WeakMap,cx=new WeakMap;function Q3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ei(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Kk.set(n,t)}).catch(()=>{}),cx.set(e,t),e}function Y3(t){if(Ky.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ky.set(t,e)}let Qy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ky.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X3(t){Qy=t(Qy)}function J3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ag(this),e,...n);return Qk.set(r,e.sort?e.sort():[e]),Ei(r)}:K3().includes(t)?function(...e){return t.apply(ag(this),e),Ei(Kk.get(this))}:function(...e){return Ei(t.apply(ag(this),e))}}function Z3(t){return typeof t=="function"?J3(t):(t instanceof IDBTransaction&&Y3(t),q3(t,G3())?new Proxy(t,Qy):t)}function Ei(t){if(t instanceof IDBRequest)return Q3(t);if(og.has(t))return og.get(t);const e=Z3(t);return e!==t&&(og.set(t,e),cx.set(e,t)),e}const ag=t=>cx.get(t);function e6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ei(o.result),l.oldVersion,l.newVersion,Ei(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const t6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],lg=new Map;function bb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=n6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||t6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return lg.set(e,i),i}X3(t=>({...t,get:(e,n,r)=>bb(e,n)||t.get(e,n,r),has:(e,n)=>!!bb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yy="@firebase/app",Eb="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new lx("@firebase/app"),i6="@firebase/app-compat",o6="@firebase/analytics-compat",a6="@firebase/analytics",l6="@firebase/app-check-compat",c6="@firebase/app-check",u6="@firebase/auth",d6="@firebase/auth-compat",h6="@firebase/database",f6="@firebase/data-connect",m6="@firebase/database-compat",p6="@firebase/functions",g6="@firebase/functions-compat",y6="@firebase/installations",v6="@firebase/installations-compat",x6="@firebase/messaging",w6="@firebase/messaging-compat",_6="@firebase/performance",b6="@firebase/performance-compat",E6="@firebase/remote-config",T6="@firebase/remote-config-compat",S6="@firebase/storage",C6="@firebase/storage-compat",I6="@firebase/firestore",A6="@firebase/ai",k6="@firebase/firestore-compat",N6="firebase",P6="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="[DEFAULT]",R6={[Yy]:"fire-core",[i6]:"fire-core-compat",[a6]:"fire-analytics",[o6]:"fire-analytics-compat",[c6]:"fire-app-check",[l6]:"fire-app-check-compat",[u6]:"fire-auth",[d6]:"fire-auth-compat",[h6]:"fire-rtdb",[f6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[p6]:"fire-fn",[g6]:"fire-fn-compat",[y6]:"fire-iid",[v6]:"fire-iid-compat",[x6]:"fire-fcm",[w6]:"fire-fcm-compat",[_6]:"fire-perf",[b6]:"fire-perf-compat",[E6]:"fire-rc",[T6]:"fire-rc-compat",[S6]:"fire-gcs",[C6]:"fire-gcs-compat",[I6]:"fire-fst",[k6]:"fire-fst-compat",[A6]:"fire-vertex","fire-js":"fire-js",[N6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,j6=new Map,Jy=new Map;function Tb(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(Jy.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Jy.set(e,t);for(const n of If.values())Tb(n,t);for(const n of j6.values())Tb(n,t);return!0}function ux(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new od("app","Firebase",D6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=P6;function Yk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Xy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ti.create("bad-app-name",{appName:String(s)});if(n||(n=Wk()),!n)throw Ti.create("no-options");const i=If.get(s);if(i){if(Vo(n,i.options)&&Vo(r,i.config))return i;throw Ti.create("duplicate-app",{appName:s})}const o=new B3(s);for(const l of Jy.values())o.addComponent(l);const a=new M6(n,r,o);return If.set(s,a),a}function Xk(t=Xy){const e=If.get(t);if(!e&&t===Xy&&Wk())return Yk();if(!e)throw Ti.create("no-app",{appName:t});return e}function Si(t,e,n){let r=R6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(o.join(" "));return}ml(new Fo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="firebase-heartbeat-database",L6=1,ku="firebase-heartbeat-store";let cg=null;function Jk(){return cg||(cg=e6(O6,L6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),cg}async function V6(t){try{const n=(await Jk()).transaction(ku),r=await n.objectStore(ku).get(Zk(t));return await n.done,r}catch(e){if(e instanceof Ps)Es.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function Sb(t,e){try{const r=(await Jk()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,Zk(t)),await r.done}catch(n){if(n instanceof Ps)Es.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function Zk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=1024,U6=30;class B6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>U6){const o=W6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Es.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cb(),{heartbeatsToSend:r,unsentEntries:s}=$6(this._heartbeatsCache.heartbeats),i=Cf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Es.warn(n),""}}}function Cb(){return new Date().toISOString().substring(0,10)}function $6(t,e=F6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ib(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ib(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return k3()?N3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ib(t){return Cf(JSON.stringify({version:2,heartbeats:t})).length}function W6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){ml(new Fo("platform-logger",e=>new r6(e),"PRIVATE")),ml(new Fo("heartbeat",e=>new B6(e),"PRIVATE")),Si(Yy,Eb,t),Si(Yy,Eb,"esm2020"),Si("fire-js","")}H6("");function eN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q6=eN,tN=new od("auth","Firebase",eN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new lx("@firebase/auth");function G6(t,...e){Af.logLevel<=_e.WARN&&Af.warn(`Auth (${Dl}): ${t}`,...e)}function kh(t,...e){Af.logLevel<=_e.ERROR&&Af.error(`Auth (${Dl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw dx(t,...e)}function $r(t,...e){return dx(t,...e)}function nN(t,e,n){const r={...q6(),[e]:n};return new od("auth","Firebase",r).create(e,{appName:t.name})}function ms(t){return nN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tN.create(t,...e)}function ce(t,e,...n){if(!t)throw dx(e,...n)}function ds(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kh(e),new Error(e)}function Ts(t,e){t||ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function K6(){return Ab()==="http:"||Ab()==="https:"}function Ab(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K6()||S3()||"connection"in navigator)?navigator.onLine:!0}function Y6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=b3()||C3()}get(){return Q6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e){Ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z6=new ld(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Yi(t,e,n,r,s={}){return sN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ad({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...i};return T3()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&jl(t.emulatorConfig.host)&&(u.credentials="include"),rN.fetch()(await iN(t,t.config.apiHost,n,a),u)})}async function sN(t,e,n){t._canInitEmulator=!1;const r={...X6,...e};try{const s=new tU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sh(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nN(t,h,u);yr(t,h)}}catch(s){if(s instanceof Ps)throw s;yr(t,"network-request-failed",{message:String(s)})}}async function cd(t,e,n,r,s={}){const i=await Yi(t,e,n,r,s);return"mfaPendingCredential"in i&&yr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function iN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?hx(t.config,s):`${t.config.apiScheme}://${s}`;return J6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function eU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),Z6.get())})}}function sh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$r(t,e,r);return s.customData._tokenResponse=n,s}function kb(t){return t!==void 0&&t.enterprise!==void 0}class nU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rU(t,e){return Yi(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}async function kf(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iU(t,e=!1){const n=At(t),r=await n.getIdToken(e),s=fx(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Qc(ug(s.auth_time)),issuedAtTime:Qc(ug(s.iat)),expirationTime:Qc(ug(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ug(t){return Number(t)*1e3}function fx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=$k(n);return s?JSON.parse(s):(kh("Failed to decode base64 JWT payload"),null)}catch(s){return kh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Nb(t){const e=fx(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ps&&oU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function oU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qc(this.lastLoginAt),this.creationTime=Qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Nu(t,kf(e,{idToken:n}));ce(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?oN(s.providerUserInfo):[],o=cU(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function lU(t){const e=At(t);await Nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uU(t,e){const n=await sN(t,{},async()=>{const r=ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await iN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&jl(t.emulatorConfig.host)&&(l.credentials="include"),rN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dU(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Nb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await uU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $a;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new aU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ev(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iU(this,e)}reload(){return lU(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await Nu(this,sU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:v,stsTokenManager:y}=n;ce(f&&y,e,"internal-error");const b=$a.fromJSON(this.name,y);ce(typeof f=="string",e,"internal-error"),Ws(r,e.name),Ws(s,e.name),ce(typeof m=="boolean",e,"internal-error"),ce(typeof p=="boolean",e,"internal-error"),Ws(i,e.name),Ws(o,e.name),Ws(a,e.name),Ws(l,e.name),Ws(u,e.name),Ws(h,e.name);const _=new cr({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:u,lastLoginAt:h});return v&&Array.isArray(v)&&(_.providerData=v.map(T=>({...T}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new $a;s.updateFromServerResponse(n);const i=new cr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Nf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $a;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ev(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Map;function hs(t){Ts(t instanceof Function,"Expected a class definition");let e=Pb.get(t);return e?(Ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aN.type="NONE";const Rb=aN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){return`firebase:${t}:${e}:${n}`}class za{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Nh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Nh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kf(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new za(hs(Rb),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||hs(Rb);const o=Nh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let f;if(typeof h=="string"){const m=await kf(e,{idToken:h}).catch(()=>{});if(!m)break;f=await cr._fromGetAccountInfoResponse(e,m,h)}else f=cr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new za(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new za(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fN(e))return"Blackberry";if(mN(e))return"Webos";if(cN(e))return"Safari";if((e.includes("chrome/")||uN(e))&&!e.includes("edge/"))return"Chrome";if(hN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lN(t=Qt()){return/firefox\//i.test(t)}function cN(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uN(t=Qt()){return/crios\//i.test(t)}function dN(t=Qt()){return/iemobile/i.test(t)}function hN(t=Qt()){return/android/i.test(t)}function fN(t=Qt()){return/blackberry/i.test(t)}function mN(t=Qt()){return/webos/i.test(t)}function mx(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hU(t=Qt()){var e;return mx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fU(){return I3()&&document.documentMode===10}function pN(t=Qt()){return mx(t)||hN(t)||mN(t)||fN(t)||/windows phone/i.test(t)||dN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e=[]){let n;switch(t){case"Browser":n=jb(Qt());break;case"Worker":n=`${jb(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=6;class yU{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Db(this),this.idTokenSubscription=new Db(this),this.beforeStateQueue=new mU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kf(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(ms(this));const n=e?At(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pU(this),n=new yU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new od("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&G6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xo(t){return At(t)}class Db{constructor(e){this.auth=e,this.observer=null,this.addObserver=M3(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xU(t){Dm=t}function yN(t){return Dm.loadJS(t)}function wU(){return Dm.recaptchaEnterpriseScript}function _U(){return Dm.gapiScript}function bU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EU{constructor(){this.enterprise=new TU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SU="recaptcha-enterprise",vN="NO_RECAPTCHA";class CU{constructor(e){this.type=SU,this.auth=Xo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{rU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new nU(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;kb(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(vN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&kb(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=wU();l.length!==0&&(l+=a),yN(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Mb(t,e,n,r=!1,s=!1){const i=new CU(t);let o;if(s)o=vN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function tv(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Mb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Mb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t,e){const n=ux(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Vo(i,e??{}))return s;yr(s,"already-initialized")}return n.initialize({options:e})}function AU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kU(t,e,n){const r=Xo(t);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=xN(e),{host:o,port:a}=NU(e),l=a===null?"":`:${a}`,u={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(Vo(u,r.config.emulator)&&Vo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,jl(o)?(qk(`${i}//${o}${l}`),Gk("Auth",!0)):PU()}function xN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NU(t){const e=xN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ob(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ob(o)}}}function Ob(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function RU(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function MU(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends px{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,n,"signInWithPassword",jU);case"emailLink":return DU(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tv(e,r,"signUpPassword",RU);case"emailLink":return MU(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="http://localhost";class Uo extends px{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:OU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VU(t){const e=Ic(Ac(t)).link,n=e?Ic(Ac(e)).deep_link_id:null,r=Ic(Ac(t)).deep_link_id;return(r?Ic(Ac(r)).link:null)||r||n||e||t}class gx{constructor(e){const n=Ic(Ac(e)),r=n.apiKey??null,s=n.oobCode??null,i=LU(n.mode??null);ce(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VU(e);try{return new gx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.providerId=Ml.PROVIDER_ID}static credential(e,n){return Pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gx.parseLink(n);return ce(r,"argument-error"),Pu._fromEmailAndCode(e,r.code,r.tenantId)}}Ml.PROVIDER_ID="password";Ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends wN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends ud{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends ud{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ei.credential(e.oauthAccessToken)}catch{return null}}}ei.GITHUB_SIGN_IN_METHOD="github.com";ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends ud{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ti.credential(n,r)}catch{return null}}}ti.TWITTER_SIGN_IN_METHOD="twitter.com";ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(t,e){return cd(t,"POST","/v1/accounts:signUp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=Lb(r);return new Bo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Lb(r);return new Bo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Lb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends Ps{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pf(e,n,r,s)}}function _N(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(t,i,e,r):i})}async function UU(t,e,n=!1){const r=await Nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(ms(r));const s="reauthenticate";try{const i=await Nu(t,_N(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=fx(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Bo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e,n=!1){if(Fn(t.app))return Promise.reject(ms(t));const r="signIn",s=await _N(t,r,e),i=await Bo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function $U(t,e){return bN(Xo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t){const e=Xo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zU(t,e,n){if(Fn(t.app))return Promise.reject(ms(t));const r=Xo(t),o=await tv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&EN(t),l}),a=await Bo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function WU(t,e,n){return Fn(t.app)?Promise.reject(ms(t)):$U(At(t),Ml.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EN(t),r})}function HU(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function qU(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function GU(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function KU(t){return At(t).signOut()}const Rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=1e3,YU=10;class SN extends TN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,YU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SN.type="LOCAL";const XU=SN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends TN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CN.type="SESSION";const IN=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Mm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await JU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=yx("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function e9(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function t9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function r9(){return AN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebaseLocalStorageDb",s9=1,jf="firebaseLocalStorage",NN="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Om(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function i9(){const t=indexedDB.deleteDatabase(kN);return new dd(t).toPromise()}function nv(){const t=indexedDB.open(kN,s9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jf,{keyPath:NN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jf)?e(r):(r.close(),await i9(),e(await nv()))})})}async function Vb(t,e,n){const r=Om(t,!0).put({[NN]:e,value:n});return new dd(r).toPromise()}async function o9(t,e){const n=Om(t,!1).get(e),r=await new dd(n).toPromise();return r===void 0?null:r.value}function Fb(t,e){const n=Om(t,!0).delete(e);return new dd(n).toPromise()}const a9=800,l9=3;class PN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mm._getInstance(r9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await t9(),!this.activeServiceWorker)return;this.sender=new ZU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await Vb(e,Rf,"1"),await Fb(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Om(s,!1).getAll();return new dd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PN.type="LOCAL";const c9=PN;new ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t,e){return e?hs(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends px{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d9(t){return bN(t.auth,new vx(t),t.bypassAuthState)}function h9(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),BU(n,new vx(t),t.bypassAuthState)}async function f9(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),UU(n,new vx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d9;case"linkViaPopup":case"linkViaRedirect":return f9;case"reauthViaPopup":case"reauthViaRedirect":return h9;default:yr(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new ld(2e3,1e4);class Sa extends RN{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Sa.currentPopupAction&&Sa.currentPopupAction.cancel(),Sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=yx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m9.get())};e()}}Sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9="pendingRedirect",Ph=new Map;class g9 extends RN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const r=await y9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function y9(t,e){const n=w9(e),r=x9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function v9(t,e){Ph.set(t._key(),e)}function x9(t){return hs(t._redirectPersistence)}function w9(t){return Nh(p9,t.config.apiKey,t.name)}async function _9(t,e,n=!1){if(Fn(t.app))return Promise.reject(ms(t));const r=Xo(t),s=u9(r,e),o=await new g9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=10*60*1e3;class E9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jN(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}}function Ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return Yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I9=/^https?/;async function A9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S9(t);for(const n of e)try{if(k9(n))return}catch{}yr(t,"unauthorized-domain")}function k9(t){const e=Zy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I9.test(n))return!1;if(C9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=new ld(3e4,6e4);function Bb(){const t=zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P9(t){return new Promise((e,n)=>{var s,i,o;function r(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),n($r(t,"network-request-failed"))},timeout:N9.get()})}if((i=(s=zr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=zr().gapi)!=null&&o.load)r();else{const a=bU("iframefcb");return zr()[a]=()=>{gapi.load?r():n($r(t,"network-request-failed"))},yN(`${_U()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function R9(t){return Rh=Rh||P9(t),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new ld(5e3,15e3),D9="__/auth/iframe",M9="emulator/auth/iframe",O9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V9(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hx(e,M9):`https://${t.config.authDomain}/${D9}`,r={apiKey:e.apiKey,appName:t.name,v:Dl},s=L9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ad(r).slice(1)}`}async function F9(t){const e=await R9(t),n=zr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:V9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$r(t,"network-request-failed"),a=zr().setTimeout(()=>{i(o)},j9.get());function l(){zr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B9=500,$9=600,z9="_blank",W9="http://localhost";class $b{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H9(t,e,n,r=B9,s=$9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...U9,width:r.toString(),height:s.toString(),top:i,left:o},u=Qt().toLowerCase();n&&(a=uN(u)?z9:n),lN(u)&&(e=e||W9,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[p,v])=>`${m}${p}=${v},`,"");if(hU(u)&&a!=="_self")return q9(e||"",a),new $b(null);const f=window.open(e||"",a,h);ce(f,t,"popup-blocked");try{f.focus()}catch{}return new $b(f)}function q9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="__/auth/handler",K9="emulator/auth/handler",Q9=encodeURIComponent("fac");async function zb(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Dl,eventId:s};if(e instanceof wN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof ud){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${Q9}=${encodeURIComponent(l)}`:"";return`${Y9(t)}?${ad(a).slice(1)}${u}`}function Y9({config:t}){return t.emulator?hx(t,K9):`https://${t.authDomain}/${G9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="webStorageSupport";class X9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IN,this._completeRedirectFn=_9,this._overrideRedirectResult=v9}async _openPopup(e,n,r,s){var o;Ts((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await zb(e,n,r,Zy(),s);return H9(e,i,yx())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await zb(e,n,r,Zy(),s);return e9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ts(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F9(e),r=new E9(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dg,{type:dg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[dg];i!==void 0&&n(!!i),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pN()||cN()||mx()}}const J9=X9;var Wb="@firebase/auth",Hb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tB(t){ml(new Fo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gN(t)},u=new vU(r,s,i,l);return AU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ml(new Fo("auth-internal",e=>{const n=Xo(e.getProvider("auth").getImmediate());return(r=>new Z9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(Wb,Hb,eB(t)),Si(Wb,Hb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=5*60,rB=Hk("authIdTokenMaxAge")||nB;let qb=null;const sB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rB)return;const s=n==null?void 0:n.token;qb!==s&&(qb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iB(t=Xk()){const e=ux(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IU(t,{popupRedirectResolver:J9,persistence:[c9,XU,IN]}),r=Hk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sB(i.toString());qU(n,o,()=>o(n.currentUser)),HU(n,a=>o(a))}}const s=zk("auth");return s&&kU(n,`http://${s}`),n}function oB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$r("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tB("Browser");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,DN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function k(){}k.prototype=S.prototype,I.F=S.prototype,I.prototype=new k,I.prototype.constructor=I,I.D=function(R,D,M){for(var A=Array(arguments.length-2),B=2;B<arguments.length;B++)A[B-2]=arguments[B];return S.prototype[D].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,k){k||(k=0);const R=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)R[D]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(D=0;D<16;++D)R[D]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=I.g[0],k=I.g[1],D=I.g[2];let M=I.g[3],A;A=S+(M^k&(D^M))+R[0]+3614090360&4294967295,S=k+(A<<7&4294967295|A>>>25),A=M+(D^S&(k^D))+R[1]+3905402710&4294967295,M=S+(A<<12&4294967295|A>>>20),A=D+(k^M&(S^k))+R[2]+606105819&4294967295,D=M+(A<<17&4294967295|A>>>15),A=k+(S^D&(M^S))+R[3]+3250441966&4294967295,k=D+(A<<22&4294967295|A>>>10),A=S+(M^k&(D^M))+R[4]+4118548399&4294967295,S=k+(A<<7&4294967295|A>>>25),A=M+(D^S&(k^D))+R[5]+1200080426&4294967295,M=S+(A<<12&4294967295|A>>>20),A=D+(k^M&(S^k))+R[6]+2821735955&4294967295,D=M+(A<<17&4294967295|A>>>15),A=k+(S^D&(M^S))+R[7]+4249261313&4294967295,k=D+(A<<22&4294967295|A>>>10),A=S+(M^k&(D^M))+R[8]+1770035416&4294967295,S=k+(A<<7&4294967295|A>>>25),A=M+(D^S&(k^D))+R[9]+2336552879&4294967295,M=S+(A<<12&4294967295|A>>>20),A=D+(k^M&(S^k))+R[10]+4294925233&4294967295,D=M+(A<<17&4294967295|A>>>15),A=k+(S^D&(M^S))+R[11]+2304563134&4294967295,k=D+(A<<22&4294967295|A>>>10),A=S+(M^k&(D^M))+R[12]+1804603682&4294967295,S=k+(A<<7&4294967295|A>>>25),A=M+(D^S&(k^D))+R[13]+4254626195&4294967295,M=S+(A<<12&4294967295|A>>>20),A=D+(k^M&(S^k))+R[14]+2792965006&4294967295,D=M+(A<<17&4294967295|A>>>15),A=k+(S^D&(M^S))+R[15]+1236535329&4294967295,k=D+(A<<22&4294967295|A>>>10),A=S+(D^M&(k^D))+R[1]+4129170786&4294967295,S=k+(A<<5&4294967295|A>>>27),A=M+(k^D&(S^k))+R[6]+3225465664&4294967295,M=S+(A<<9&4294967295|A>>>23),A=D+(S^k&(M^S))+R[11]+643717713&4294967295,D=M+(A<<14&4294967295|A>>>18),A=k+(M^S&(D^M))+R[0]+3921069994&4294967295,k=D+(A<<20&4294967295|A>>>12),A=S+(D^M&(k^D))+R[5]+3593408605&4294967295,S=k+(A<<5&4294967295|A>>>27),A=M+(k^D&(S^k))+R[10]+38016083&4294967295,M=S+(A<<9&4294967295|A>>>23),A=D+(S^k&(M^S))+R[15]+3634488961&4294967295,D=M+(A<<14&4294967295|A>>>18),A=k+(M^S&(D^M))+R[4]+3889429448&4294967295,k=D+(A<<20&4294967295|A>>>12),A=S+(D^M&(k^D))+R[9]+568446438&4294967295,S=k+(A<<5&4294967295|A>>>27),A=M+(k^D&(S^k))+R[14]+3275163606&4294967295,M=S+(A<<9&4294967295|A>>>23),A=D+(S^k&(M^S))+R[3]+4107603335&4294967295,D=M+(A<<14&4294967295|A>>>18),A=k+(M^S&(D^M))+R[8]+1163531501&4294967295,k=D+(A<<20&4294967295|A>>>12),A=S+(D^M&(k^D))+R[13]+2850285829&4294967295,S=k+(A<<5&4294967295|A>>>27),A=M+(k^D&(S^k))+R[2]+4243563512&4294967295,M=S+(A<<9&4294967295|A>>>23),A=D+(S^k&(M^S))+R[7]+1735328473&4294967295,D=M+(A<<14&4294967295|A>>>18),A=k+(M^S&(D^M))+R[12]+2368359562&4294967295,k=D+(A<<20&4294967295|A>>>12),A=S+(k^D^M)+R[5]+4294588738&4294967295,S=k+(A<<4&4294967295|A>>>28),A=M+(S^k^D)+R[8]+2272392833&4294967295,M=S+(A<<11&4294967295|A>>>21),A=D+(M^S^k)+R[11]+1839030562&4294967295,D=M+(A<<16&4294967295|A>>>16),A=k+(D^M^S)+R[14]+4259657740&4294967295,k=D+(A<<23&4294967295|A>>>9),A=S+(k^D^M)+R[1]+2763975236&4294967295,S=k+(A<<4&4294967295|A>>>28),A=M+(S^k^D)+R[4]+1272893353&4294967295,M=S+(A<<11&4294967295|A>>>21),A=D+(M^S^k)+R[7]+4139469664&4294967295,D=M+(A<<16&4294967295|A>>>16),A=k+(D^M^S)+R[10]+3200236656&4294967295,k=D+(A<<23&4294967295|A>>>9),A=S+(k^D^M)+R[13]+681279174&4294967295,S=k+(A<<4&4294967295|A>>>28),A=M+(S^k^D)+R[0]+3936430074&4294967295,M=S+(A<<11&4294967295|A>>>21),A=D+(M^S^k)+R[3]+3572445317&4294967295,D=M+(A<<16&4294967295|A>>>16),A=k+(D^M^S)+R[6]+76029189&4294967295,k=D+(A<<23&4294967295|A>>>9),A=S+(k^D^M)+R[9]+3654602809&4294967295,S=k+(A<<4&4294967295|A>>>28),A=M+(S^k^D)+R[12]+3873151461&4294967295,M=S+(A<<11&4294967295|A>>>21),A=D+(M^S^k)+R[15]+530742520&4294967295,D=M+(A<<16&4294967295|A>>>16),A=k+(D^M^S)+R[2]+3299628645&4294967295,k=D+(A<<23&4294967295|A>>>9),A=S+(D^(k|~M))+R[0]+4096336452&4294967295,S=k+(A<<6&4294967295|A>>>26),A=M+(k^(S|~D))+R[7]+1126891415&4294967295,M=S+(A<<10&4294967295|A>>>22),A=D+(S^(M|~k))+R[14]+2878612391&4294967295,D=M+(A<<15&4294967295|A>>>17),A=k+(M^(D|~S))+R[5]+4237533241&4294967295,k=D+(A<<21&4294967295|A>>>11),A=S+(D^(k|~M))+R[12]+1700485571&4294967295,S=k+(A<<6&4294967295|A>>>26),A=M+(k^(S|~D))+R[3]+2399980690&4294967295,M=S+(A<<10&4294967295|A>>>22),A=D+(S^(M|~k))+R[10]+4293915773&4294967295,D=M+(A<<15&4294967295|A>>>17),A=k+(M^(D|~S))+R[1]+2240044497&4294967295,k=D+(A<<21&4294967295|A>>>11),A=S+(D^(k|~M))+R[8]+1873313359&4294967295,S=k+(A<<6&4294967295|A>>>26),A=M+(k^(S|~D))+R[15]+4264355552&4294967295,M=S+(A<<10&4294967295|A>>>22),A=D+(S^(M|~k))+R[6]+2734768916&4294967295,D=M+(A<<15&4294967295|A>>>17),A=k+(M^(D|~S))+R[13]+1309151649&4294967295,k=D+(A<<21&4294967295|A>>>11),A=S+(D^(k|~M))+R[4]+4149444226&4294967295,S=k+(A<<6&4294967295|A>>>26),A=M+(k^(S|~D))+R[11]+3174756917&4294967295,M=S+(A<<10&4294967295|A>>>22),A=D+(S^(M|~k))+R[2]+718787259&4294967295,D=M+(A<<15&4294967295|A>>>17),A=k+(M^(D|~S))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const k=S-this.blockSize,R=this.C;let D=this.h,M=0;for(;M<S;){if(D==0)for(;M<=k;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<S;)if(R[D++]=I.charCodeAt(M++),D==this.blockSize){s(this,R),D=0;break}}else for(;M<S;)if(R[D++]=I[M++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var k=I.length-8;k<I.length;++k)I[k]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,k=0;k<4;++k)for(let R=0;R<32;R+=8)I[S++]=this.g[k]>>>R&255;return I};function i(I,S){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=S(I)}function o(I,S){this.h=S;const k=[];let R=!0;for(let D=I.length-1;D>=0;D--){const M=I[D]|0;R&&M==S||(k[D]=M,R=!1)}this.g=k}var a={};function l(I){return-128<=I&&I<128?i(I,function(S){return new o([S|0],S<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return b(u(-I));const S=[];let k=1;for(let R=0;I>=k;R++)S[R]=I/k|0,k*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return b(h(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(S,8));let R=f;for(let M=0;M<I.length;M+=8){var D=Math.min(8,I.length-M);const A=parseInt(I.substring(M,M+D),S);D<8?(D=u(Math.pow(S,D)),R=R.j(D).add(u(A))):(R=R.j(k),R=R.add(u(A)))}return R}var f=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-b(this).m();let I=0,S=1;for(let k=0;k<this.g.length;k++){const R=this.i(k);I+=(R>=0?R:4294967296+R)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(y(this))return"-"+b(this).toString(I);const S=u(Math.pow(I,6));var k=this;let R="";for(;;){const D=N(k,S).g;k=_(k,D.j(S));let M=((k.g.length>0?k.g[0]:k.h)>>>0).toString(I);if(k=D,v(k))return M+R;for(;M.length<6;)M="0"+M;R=M+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=_(this,I),y(I)?-1:v(I)?0:1};function b(I){const S=I.g.length,k=[];for(let R=0;R<S;R++)k[R]=~I.g[R];return new o(k,~I.h).add(m)}t.abs=function(){return y(this)?b(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),k=[];let R=0;for(let D=0;D<=S;D++){let M=R+(this.i(D)&65535)+(I.i(D)&65535),A=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=A>>>16,M&=65535,A&=65535,k[D]=A<<16|M}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(I,S){return I.add(b(S))}t.j=function(I){if(v(this)||v(I))return f;if(y(this))return y(I)?b(this).j(b(I)):b(b(this).j(I));if(y(I))return b(this.j(b(I)));if(this.l(p)<0&&I.l(p)<0)return u(this.m()*I.m());const S=this.g.length+I.g.length,k=[];for(var R=0;R<2*S;R++)k[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<I.g.length;D++){const M=this.i(R)>>>16,A=this.i(R)&65535,B=I.i(D)>>>16,J=I.i(D)&65535;k[2*R+2*D]+=A*J,T(k,2*R+2*D),k[2*R+2*D+1]+=M*J,T(k,2*R+2*D+1),k[2*R+2*D+1]+=A*B,T(k,2*R+2*D+1),k[2*R+2*D+2]+=M*B,T(k,2*R+2*D+2)}for(I=0;I<S;I++)k[I]=k[2*I+1]<<16|k[2*I];for(I=S;I<2*S;I++)k[I]=0;return new o(k,0)};function T(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function x(I,S){this.g=I,this.h=S}function N(I,S){if(v(S))throw Error("division by zero");if(v(I))return new x(f,f);if(y(I))return S=N(b(I),S),new x(b(S.g),b(S.h));if(y(S))return S=N(I,b(S)),new x(b(S.g),S.h);if(I.g.length>30){if(y(I)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var k=m,R=S;R.l(I)<=0;)k=C(k),R=C(R);var D=j(k,1),M=j(R,1);for(R=j(R,2),k=j(k,2);!v(R);){var A=M.add(R);A.l(I)<=0&&(D=D.add(k),M=A),R=j(R,1),k=j(k,1)}return S=_(I,D.j(S)),new x(D,S)}for(D=f;I.l(S)>=0;){for(k=Math.max(1,Math.floor(I.m()/S.m())),R=Math.ceil(Math.log(k)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),M=u(k),A=M.j(S);y(A)||A.l(I)>0;)k-=R,M=u(k),A=M.j(S);v(M)&&(M=m),D=D.add(M),I=_(I,A)}return new x(D,I)}t.B=function(I){return N(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let R=0;R<S;R++)k[R]=this.i(R)&I.i(R);return new o(k,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let R=0;R<S;R++)k[R]=this.i(R)|I.i(R);return new o(k,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),k=[];for(let R=0;R<S;R++)k[R]=this.i(R)^I.i(R);return new o(k,this.h^I.h)};function C(I){const S=I.g.length+1,k=[];for(let R=0;R<S;R++)k[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(k,I.h)}function j(I,S){const k=S>>5;S%=32;const R=I.g.length-k,D=[];for(let M=0;M<R;M++)D[M]=S>0?I.i(M+k)>>>S|I.i(M+k+1)<<32-S:I.i(M+k);return new o(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,DN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ci=o}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MN,kc,ON,jh,rv,LN,VN,FN;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var g=0;g<d.length;++g){var E=d[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var V=d[P];if(!(V in E))break e;E=E[V]}d=d[d.length-1],P=E[d],g=g(P),g!=P&&g!=null&&e(E,d,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(g){var E=[],P;for(P in g)Object.prototype.hasOwnProperty.call(g,P)&&E.push([P,g[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function l(d,g,E){return d.call.apply(d.bind,arguments)}function u(d,g,E){return u=l,u.apply(null,arguments)}function h(d,g){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function f(d,g){function E(){}E.prototype=g.prototype,d.Z=g.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(P,V,U){for(var Q=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)Q[ve-2]=arguments[ve];return g.prototype[V].apply(P,Q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const g=d.length;if(g>0){const E=Array(g);for(let P=0;P<g;P++)E[P]=d[P];return E}return[]}function v(d,g){for(let P=1;P<arguments.length;P++){const V=arguments[P];var E=typeof V;if(E=E!="object"?E:V?Array.isArray(V)?"array":E:"null",E=="array"||E=="object"&&typeof V.length=="number"){E=d.length||0;const U=V.length||0;d.length=E+U;for(let Q=0;Q<U;Q++)d[E+Q]=V[Q]}else d.push(V)}}class y{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(d){o.setTimeout(()=>{throw d},0)}function _(){var d=I;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class T{constructor(){this.h=this.g=null}add(g,E){const P=x.get();P.set(g,E),this.h?this.h.next=P:this.g=P,this.h=P}}var x=new y(()=>new N,d=>d.reset());class N{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let C,j=!1,I=new T,S=()=>{const d=Promise.resolve(void 0);C=()=>{d.then(k)}};function k(){for(var d;d=_();){try{d.h.call(d.g)}catch(E){b(E)}var g=x;g.j(d),g.h<100&&(g.h++,d.next=g.g,g.g=d)}j=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};o.addEventListener("test",E,g),o.removeEventListener("test",E,g)}catch{}return d}();function A(d){return/^[\s\xa0]*$/.test(d)}function B(d,g){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,g)}f(B,D),B.prototype.init=function(d,g){const E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget,g||(E=="mouseover"?g=d.fromElement:E=="mouseout"&&(g=d.toElement)),this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),ne=0;function F(d,g,E,P,V){this.listener=d,this.proxy=null,this.src=g,this.type=E,this.capture=!!P,this.ha=V,this.key=++ne,this.da=this.fa=!1}function O(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function L(d,g,E){for(const P in d)g.call(E,d[P],P,d)}function H(d,g){for(const E in d)g.call(void 0,d[E],E,d)}function oe(d){const g={};for(const E in d)g[E]=d[E];return g}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(d,g){let E,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(E in P)d[E]=P[E];for(let U=0;U<se.length;U++)E=se[U],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,g,E,P,V){const U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);const Q=it(d,g,P,V);return Q>-1?(g=d[Q],E||(g.fa=!1)):(g=new F(g,this.src,U,!!P,V),g.fa=E,d.push(g)),g};function We(d,g){const E=g.type;if(E in d.g){var P=d.g[E],V=Array.prototype.indexOf.call(P,g,void 0),U;(U=V>=0)&&Array.prototype.splice.call(P,V,1),U&&(O(g),d.g[E].length==0&&(delete d.g[E],d.h--))}}function it(d,g,E,P){for(let V=0;V<d.length;++V){const U=d[V];if(!U.da&&U.listener==g&&U.capture==!!E&&U.ha==P)return V}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),br={};function Yn(d,g,E,P,V){if(Array.isArray(g)){for(let U=0;U<g.length;U++)Yn(d,g[U],E,P,V);return null}return E=js(E),d&&d[J]?d.J(g,E,a(P)?!!P.capture:!!P,V):es(d,g,E,!1,P,V)}function es(d,g,E,P,V,U){if(!g)throw Error("Invalid event type");const Q=a(V)?!!V.capture:!!V;let ve=Rs(d);if(ve||(d[Se]=ve=new pe(d)),E=ve.add(g,E,P,Q,U),E.proxy)return E;if(P=Er(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)M||(V=Q),V===void 0&&(V=!1),d.addEventListener(g.toString(),P,V);else if(d.attachEvent)d.attachEvent(to(g.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Er(){function d(E){return g.call(d.src,d.listener,E)}const g=Gl;return d}function ts(d,g,E,P,V){if(Array.isArray(g))for(var U=0;U<g.length;U++)ts(d,g[U],E,P,V);else P=a(P)?!!P.capture:!!P,E=js(E),d&&d[J]?(d=d.i,U=String(g).toString(),U in d.g&&(g=d.g[U],E=it(g,E,P,V),E>-1&&(O(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete d.g[U],d.h--)))):d&&(d=Rs(d))&&(g=d.g[g.toString()],d=-1,g&&(d=it(g,E,P,V)),(E=d>-1?g[d]:null)&&jn(E))}function jn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[J])We(g.i,d);else{var E=d.type,P=d.proxy;g.removeEventListener?g.removeEventListener(E,P,d.capture):g.detachEvent?g.detachEvent(to(E),P):g.addListener&&g.removeListener&&g.removeListener(P),(E=Rs(g))?(We(E,d),E.h==0&&(E.src=null,g[Se]=null)):O(d)}}}function to(d){return d in br?br[d]:br[d]="on"+d}function Gl(d,g){if(d.da)d=!0;else{g=new B(g,this);const E=d.listener,P=d.ha||d.src;d.fa&&jn(d),d=E.call(P,g)}return d}function Rs(d){return d=d[Se],d instanceof pe?d:null}var no="__closure_events_fn_"+(Math.random()*1e9>>>0);function js(d){return typeof d=="function"?d:(d[no]||(d[no]=function(g){return d.handleEvent(g)}),d[no])}function qe(){R.call(this),this.i=new pe(this),this.M=this,this.G=null}f(qe,R),qe.prototype[J]=!0,qe.prototype.removeEventListener=function(d,g,E,P){ts(this,d,g,E,P)};function wt(d,g){var E,P=d.G;if(P)for(E=[];P;P=P.G)E.push(P);if(d=d.M,P=g.type||g,typeof g=="string")g=new D(g,d);else if(g instanceof D)g.target=g.target||d;else{var V=g;g=new D(P,d),ye(g,V)}V=!0;let U,Q;if(E)for(Q=E.length-1;Q>=0;Q--)U=g.g=E[Q],V=Tr(U,P,!0,g)&&V;if(U=g.g=d,V=Tr(U,P,!0,g)&&V,V=Tr(U,P,!1,g)&&V,E)for(Q=0;Q<E.length;Q++)U=g.g=E[Q],V=Tr(U,P,!1,g)&&V}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var d=this.i;for(const g in d.g){const E=d.g[g];for(let P=0;P<E.length;P++)O(E[P]);delete d.g[g],d.h--}}this.G=null},qe.prototype.J=function(d,g,E,P){return this.i.add(String(d),g,!1,E,P)},qe.prototype.K=function(d,g,E,P){return this.i.add(String(d),g,!0,E,P)};function Tr(d,g,E,P){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let U=0;U<g.length;++U){const Q=g[U];if(Q&&!Q.da&&Q.capture==E){const ve=Q.listener,ft=Q.ha||Q.src;Q.fa&&We(d.i,Q),V=ve.call(ft,P)!==!1&&V}}return V&&!P.defaultPrevented}function bd(d,g){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=u(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(d,g||0)}function Sr(d){d.g=bd(()=>{d.g=null,d.i&&(d.i=!1,Sr(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class ap extends R{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Sr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(d){R.call(this),this.h=d,this.g={}}f(ro,R);var Xt=[];function ns(d){L(d.g,function(g,E){this.g.hasOwnProperty(E)&&jn(g)},d),d.g={}}ro.prototype.N=function(){ro.Z.N.call(this),ns(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kl=o.JSON.stringify,lp=o.JSON.parse,ta=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Ed(){}function Ql(){}var rs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Cr(){D.call(this,"d")}f(Cr,D);function na(){D.call(this,"c")}f(na,D);var an={},Td=null;function ra(){return Td=Td||new qe}an.Ia="serverreachability";function Yl(d){D.call(this,an.Ia,d)}f(Yl,D);function Ds(d){const g=ra();wt(g,new Yl(g))}an.STAT_EVENT="statevent";function Sd(d,g){D.call(this,an.STAT_EVENT,d),this.stat=g}f(Sd,D);function ht(d){const g=ra();wt(g,new Sd(g,d))}an.Ja="timingevent";function Xn(d,g){D.call(this,an.Ja,d),this.size=g}f(Xn,D);function so(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},g)}function le(){this.g=!0}le.prototype.ua=function(){this.g=!1};function Ae(d,g,E,P,V,U){d.info(function(){if(d.g)if(U){var Q="",ve=U.split("&");for(let je=0;je<ve.length;je++){var ft=ve[je].split("=");if(ft.length>1){const bt=ft[0];ft=ft[1];const kr=bt.split("_");Q=kr.length>=2&&kr[1]=="type"?Q+(bt+"="+ft+"&"):Q+(bt+"=redacted&")}}}else Q=null;else Q=U;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+g+`
`+E+`
`+Q})}function De(d,g,E,P,V,U,Q){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+g+`
`+E+`
`+U+" "+Q})}function _t(d,g,E,P){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ir(d,E)+(P?" "+P:"")})}function xn(d,g){d.info(function(){return"TIMEOUT: "+g})}le.prototype.info=function(){};function Ir(d,g){if(!d.g)return g;if(!g)return null;try{const U=JSON.parse(g);if(U){for(d=0;d<U.length;d++)if(Array.isArray(U[d])){var E=U[d];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var V=P[0];if(V!="noop"&&V!="stop"&&V!="close")for(let Q=1;Q<P.length;Q++)P[Q]=""}}}}return Kl(U)}catch{return g}}var Dn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ln={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jn;function cp(){}f(cp,Ed),cp.prototype.g=function(){return new XMLHttpRequest},Jn=new cp;function Xl(d){return encodeURIComponent(String(d))}function wj(d){var g=1;d=d.split(":");const E=[];for(;g>0&&d.length;)E.push(d.shift()),g--;return d.length&&E.push(d.join(":")),E}function Ms(d,g,E,P){this.j=d,this.i=g,this.l=E,this.S=P||1,this.V=new ro(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mw}function Mw(){this.i=null,this.g="",this.h=!1}var Ow={},up={};function dp(d,g,E){d.M=1,d.A=Id(Ar(g)),d.u=E,d.R=!0,Lw(d,null)}function Lw(d,g){d.F=Date.now(),Cd(d),d.B=Ar(d.A);var E=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),Yw(E.i,"t",P),d.C=0,E=d.j.L,d.h=new Mw,d.g=m1(d.j,E?g:null,!d.u),d.P>0&&(d.O=new ap(u(d.Y,d,d.g),d.P)),g=d.V,E=d.g,P=d.ba;var V="readystatechange";Array.isArray(V)||(V&&(Xt[0]=V.toString()),V=Xt);for(let U=0;U<V.length;U++){const Q=Yn(E,V[U],P||g.handleEvent,!1,g.h||g);if(!Q)break;g.g[Q.key]=Q}g=d.J?oe(d.J):{},d.u?(d.v||(d.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,g)):(d.v="GET",d.g.ea(d.B,d.v,null,g)),Ds(),Ae(d.i,d.v,d.B,d.l,d.S,d.u)}Ms.prototype.ba=function(d){d=d.target;const g=this.O;g&&Vs(d)==3?g.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const ve=Vs(this.g),ft=this.g.ya(),je=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||r1(this.g)))){this.K||ve!=4||ft==7||(ft==8||je<=0?Ds(3):Ds(2)),hp(this);var g=this.g.ca();this.X=g;var E=_j(this);if(this.o=g==200,De(this.i,this.v,this.B,this.l,this.S,ve,g),this.o){if(this.U&&!this.L){t:{if(this.g){var P,V=this.g;if((P=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(P)){var U=P;break t}}U=null}if(d=U)_t(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fp(this,d);else{this.o=!1,this.m=3,ht(12),io(this),Jl(this);break e}}if(this.R){d=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=bj(this,E),bt==up){ve==4&&(this.m=4,ht(14),d=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Ow){this.m=4,ht(15),_t(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else _t(this.i,this.l,bt,null),fp(this,bt);if(Vw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||E.length!=0||this.h.h||(this.m=1,ht(16),d=!1),this.o=this.o&&d,!d)_t(this.i,this.l,E,"[Invalid Chunked Response]"),io(this),Jl(this);else if(E.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),_p(Q),Q.P=!0,ht(11))}}else _t(this.i,this.l,E,null),fp(this,E);ve==4&&io(this),this.o&&!this.K&&(ve==4?u1(this.j,this):(this.o=!1,Cd(this)))}else Oj(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),io(this),Jl(this)}}}catch{}finally{}};function _j(d){if(!Vw(d))return d.g.la();const g=r1(d.g);if(g==="")return"";let E="";const P=g.length,V=Vs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return io(d),Jl(d),"";d.h.i=new o.TextDecoder}for(let U=0;U<P;U++)d.h.h=!0,E+=d.h.i.decode(g[U],{stream:!(V&&U==P-1)});return g.length=0,d.h.g+=E,d.C=0,d.h.g}function Vw(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function bj(d,g){var E=d.C,P=g.indexOf(`
`,E);return P==-1?up:(E=Number(g.substring(E,P)),isNaN(E)?Ow:(P+=1,P+E>g.length?up:(g=g.slice(P,P+E),d.C=P+E,g)))}Ms.prototype.cancel=function(){this.K=!0,io(this)};function Cd(d){d.T=Date.now()+d.H,Fw(d,d.H)}function Fw(d,g){if(d.D!=null)throw Error("WatchDog timer not null");d.D=so(u(d.aa,d),g)}function hp(d){d.D&&(o.clearTimeout(d.D),d.D=null)}Ms.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(xn(this.i,this.B),this.M!=2&&(Ds(),ht(17)),io(this),this.m=2,Jl(this)):Fw(this,this.T-d)};function Jl(d){d.j.I==0||d.K||u1(d.j,d)}function io(d){hp(d);var g=d.O;g&&typeof g.dispose=="function"&&g.dispose(),d.O=null,ns(d.V),d.g&&(g=d.g,d.g=null,g.abort(),g.dispose())}function fp(d,g){try{var E=d.j;if(E.I!=0&&(E.g==d||mp(E.h,d))){if(!d.L&&mp(E.h,d)&&E.I==3){try{var P=E.Ba.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)Rd(E),Nd(E);else break e;wp(E),ht(18)}}else E.xa=V[1],0<E.xa-E.K&&V[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=so(u(E.Va,E),6e3));$w(E.h)<=1&&E.ta&&(E.ta=void 0)}else ao(E,11)}else if((d.L||E.g==d)&&Rd(E),!A(g))for(V=E.Ba.g.parse(g),g=0;g<V.length;g++){let je=V[g];const bt=je[0];if(!(bt<=E.K))if(E.K=bt,je=je[1],E.I==2)if(je[0]=="c"){E.M=je[1],E.ba=je[2];const kr=je[3];kr!=null&&(E.ka=kr,E.j.info("VER="+E.ka));const lo=je[4];lo!=null&&(E.za=lo,E.j.info("SVER="+E.za));const Fs=je[5];Fs!=null&&typeof Fs=="number"&&Fs>0&&(P=1.5*Fs,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Us=d.g;if(Us){const Dd=Us.g?Us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dd){var U=P.h;U.g||Dd.indexOf("spdy")==-1&&Dd.indexOf("quic")==-1&&Dd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(pp(U,U.h),U.h=null))}if(P.G){const bp=Us.g?Us.g.getResponseHeader("X-HTTP-Session-Id"):null;bp&&(P.wa=bp,Fe(P.J,P.G,bp))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var Q=d;if(P.na=f1(P,P.L?P.ba:null,P.W),Q.L){zw(P.h,Q);var ve=Q,ft=P.O;ft&&(ve.H=ft),ve.D&&(hp(ve),Cd(ve)),P.g=Q}else l1(P);E.i.length>0&&Pd(E)}else je[0]!="stop"&&je[0]!="close"||ao(E,7);else E.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ao(E,7):xp(E):je[0]!="noop"&&E.l&&E.l.qa(je),E.A=0)}}Ds(4)}catch{}}var Ej=class{constructor(d,g){this.g=d,this.map=g}};function Uw(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bw(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $w(d){return d.h?1:d.g?d.g.size:0}function mp(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function pp(d,g){d.g?d.g.add(g):d.h=g}function zw(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Uw.prototype.cancel=function(){if(this.i=Ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ww(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const E of d.g.values())g=g.concat(E.G);return g}return p(d.i)}var Hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tj(d,g){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const P=d[E].indexOf("=");let V,U=null;P>=0?(V=d[E].substring(0,P),U=d[E].substring(P+1)):V=d[E],g(V,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Os(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;d instanceof Os?(this.l=d.l,Zl(this,d.j),this.o=d.o,this.g=d.g,ec(this,d.u),this.h=d.h,gp(this,Xw(d.i)),this.m=d.m):d&&(g=String(d).match(Hw))?(this.l=!1,Zl(this,g[1]||"",!0),this.o=tc(g[2]||""),this.g=tc(g[3]||"",!0),ec(this,g[4]),this.h=tc(g[5]||"",!0),gp(this,g[6]||"",!0),this.m=tc(g[7]||"")):(this.l=!1,this.i=new rc(null,this.l))}Os.prototype.toString=function(){const d=[];var g=this.j;g&&d.push(nc(g,qw,!0),":");var E=this.g;return(E||g=="file")&&(d.push("//"),(g=this.o)&&d.push(nc(g,qw,!0),"@"),d.push(Xl(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(nc(E,E.charAt(0)=="/"?Ij:Cj,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",nc(E,kj)),d.join("")},Os.prototype.resolve=function(d){const g=Ar(this);let E=!!d.j;E?Zl(g,d.j):E=!!d.o,E?g.o=d.o:E=!!d.g,E?g.g=d.g:E=d.u!=null;var P=d.h;if(E)ec(g,d.u);else if(E=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var V=g.h.lastIndexOf("/");V!=-1&&(P=g.h.slice(0,V+1)+P)}if(V=P,V==".."||V==".")P="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){P=V.lastIndexOf("/",0)==0,V=V.split("/");const U=[];for(let Q=0;Q<V.length;){const ve=V[Q++];ve=="."?P&&Q==V.length&&U.push(""):ve==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),P&&Q==V.length&&U.push("")):(U.push(ve),P=!0)}P=U.join("/")}else P=V}return E?g.h=P:E=d.i.toString()!=="",E?gp(g,Xw(d.i)):E=!!d.m,E&&(g.m=d.m),g};function Ar(d){return new Os(d)}function Zl(d,g,E){d.j=E?tc(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ec(d,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);d.u=g}else d.u=null}function gp(d,g,E){g instanceof rc?(d.i=g,Nj(d.i,d.l)):(E||(g=nc(g,Aj)),d.i=new rc(g,d.l))}function Fe(d,g,E){d.i.set(g,E)}function Id(d){return Fe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function tc(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function nc(d,g,E){return typeof d=="string"?(d=encodeURI(d).replace(g,Sj),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sj(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qw=/[#\/\?@]/g,Cj=/[#\?:]/g,Ij=/[#\?]/g,Aj=/[#\?@]/g,kj=/#/g;function rc(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function oo(d){d.g||(d.g=new Map,d.h=0,d.i&&Tj(d.i,function(g,E){d.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=rc.prototype,t.add=function(d,g){oo(this),this.i=null,d=sa(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(g),this.h+=1,this};function Gw(d,g){oo(d),g=sa(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Kw(d,g){return oo(d),g=sa(d,g),d.g.has(g)}t.forEach=function(d,g){oo(this),this.g.forEach(function(E,P){E.forEach(function(V){d.call(g,V,P,this)},this)},this)};function Qw(d,g){oo(d);let E=[];if(typeof g=="string")Kw(d,g)&&(E=E.concat(d.g.get(sa(d,g))));else for(d=Array.from(d.g.values()),g=0;g<d.length;g++)E=E.concat(d[g]);return E}t.set=function(d,g){return oo(this),this.i=null,d=sa(this,d),Kw(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=Qw(this,d),d.length>0?String(d[0]):g):g};function Yw(d,g,E){Gw(d,g),E.length>0&&(d.i=null,d.g.set(sa(d,g),p(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(let P=0;P<g.length;P++){var E=g[P];const V=Xl(E);E=Qw(this,E);for(let U=0;U<E.length;U++){let Q=V;E[U]!==""&&(Q+="="+Xl(E[U])),d.push(Q)}}return this.i=d.join("&")};function Xw(d){const g=new rc;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function sa(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function Nj(d,g){g&&!d.j&&(oo(d),d.i=null,d.g.forEach(function(E,P){const V=P.toLowerCase();P!=V&&(Gw(this,P),Yw(this,V,E))},d)),d.j=g}function Pj(d,g){const E=new le;if(o.Image){const P=new Image;P.onload=h(Ls,E,"TestLoadImage: loaded",!0,g,P),P.onerror=h(Ls,E,"TestLoadImage: error",!1,g,P),P.onabort=h(Ls,E,"TestLoadImage: abort",!1,g,P),P.ontimeout=h(Ls,E,"TestLoadImage: timeout",!1,g,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else g(!1)}function Rj(d,g){const E=new le,P=new AbortController,V=setTimeout(()=>{P.abort(),Ls(E,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:P.signal}).then(U=>{clearTimeout(V),U.ok?Ls(E,"TestPingServer: ok",!0,g):Ls(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Ls(E,"TestPingServer: error",!1,g)})}function Ls(d,g,E,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(E)}catch{}}function jj(){this.g=new ta}function yp(d){this.i=d.Sb||null,this.h=d.ab||!1}f(yp,Ed),yp.prototype.g=function(){return new Ad(this.i,this.h)};function Ad(d,g){qe.call(this),this.H=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ad,qe),t=Ad.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=g,this.readyState=1,ic(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(g.body=d),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sc(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ic(this)),this.g&&(this.readyState=3,ic(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jw(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jw(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?sc(this):ic(this),this.readyState==3&&Jw(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,sc(this))},t.Na=function(d){this.g&&(this.response=d,sc(this))},t.ga=function(){this.g&&sc(this)};function sc(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ic(d)}t.setRequestHeader=function(d,g){this.A.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=g.next();return d.join(`\r
`)};function ic(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Zw(d){let g="";return L(d,function(E,P){g+=P,g+=":",g+=E,g+=`\r
`}),g}function vp(d,g,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Zw(E),typeof d=="string"?E!=null&&Xl(E):Fe(d,g,E))}function Ze(d){qe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ze,qe);var Dj=/^https?$/i,Mj=["POST","PUT"];t=Ze.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,g,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(U){e1(this,U);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)E.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const U of P.keys())E.set(U,P.get(U));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(U=>U.toLowerCase()=="content-type"),V=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(Mj,g,void 0)>=0)||P||V||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of E)this.g.setRequestHeader(U,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(U){e1(this,U)}};function e1(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.o=5,t1(d),kd(d)}function t1(d){d.A||(d.A=!0,wt(d,"complete"),wt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,wt(this,"complete"),wt(this,"abort"),kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kd(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?n1(this):this.Xa())},t.Xa=function(){n1(this)};function n1(d){if(d.h&&typeof i<"u"){if(d.v&&Vs(d)==4)setTimeout(d.Ca.bind(d),0);else if(wt(d,"readystatechange"),Vs(d)==4){d.h=!1;try{const U=d.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var P;if(P=U===0){let Q=String(d.D).match(Hw)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),P=!Dj.test(Q?Q.toLowerCase():"")}E=P}if(E)wt(d,"complete"),wt(d,"success");else{d.o=6;try{var V=Vs(d)>2?d.g.statusText:""}catch{V=""}d.l=V+" ["+d.ca()+"]",t1(d)}}finally{kd(d)}}}}function kd(d,g){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,g||wt(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vs(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Vs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),lp(g)}};function r1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Oj(d){const g={};d=(d.g&&Vs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(A(d[P]))continue;var E=wj(d[P]);const V=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const U=g[V]||[];g[V]=U,U.push(E)}H(g,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oc(d,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||g}function s1(d){this.za=0,this.i=[],this.j=new le,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oc("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oc("baseRetryDelayMs",5e3,d),this.Za=oc("retryDelaySeedMs",1e4,d),this.Ta=oc("forwardChannelMaxRetries",2,d),this.va=oc("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Uw(d&&d.concurrentRequestLimit),this.Ba=new jj,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=s1.prototype,t.ka=8,t.I=1,t.connect=function(d,g,E,P){ht(0),this.W=d,this.H=g||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=f1(this,null,this.W),Pd(this)};function xp(d){if(i1(d),d.I==3){var g=d.V++,E=Ar(d.J);if(Fe(E,"SID",d.M),Fe(E,"RID",g),Fe(E,"TYPE","terminate"),ac(d,E),g=new Ms(d,d.j,g),g.M=2,g.A=Id(Ar(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=g.A,E=!0),E||(g.g=m1(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Cd(g)}h1(d)}function Nd(d){d.g&&(_p(d),d.g.cancel(),d.g=null)}function i1(d){Nd(d),d.v&&(o.clearTimeout(d.v),d.v=null),Rd(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function Pd(d){if(!Bw(d.h)&&!d.m){d.m=!0;var g=d.Ea;C||S(),j||(C(),j=!0),I.add(g,d),d.D=0}}function Lj(d,g){return $w(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=g.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=so(u(d.Ea,d,g),d1(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const V=new Ms(this,this.j,d);let U=this.o;if(this.U&&(U?(U=oe(U),ye(U,this.U)):U=this.U),this.u!==null||this.R||(V.J=U,U=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=a1(this,V,g),E=Ar(this.J),Fe(E,"RID",d),Fe(E,"CVER",22),this.G&&Fe(E,"X-HTTP-Session-Id",this.G),ac(this,E),U&&(this.R?g="headers="+Xl(Zw(U))+"&"+g:this.u&&vp(E,this.u,U)),pp(this.h,V),this.Ra&&Fe(E,"TYPE","init"),this.S?(Fe(E,"$req",g),Fe(E,"SID","null"),V.U=!0,dp(V,E,null)):dp(V,E,g),this.I=2}}else this.I==3&&(d?o1(this,d):this.i.length==0||Bw(this.h)||o1(this))};function o1(d,g){var E;g?E=g.l:E=d.V++;const P=Ar(d.J);Fe(P,"SID",d.M),Fe(P,"RID",E),Fe(P,"AID",d.K),ac(d,P),d.u&&d.o&&vp(P,d.u,d.o),E=new Ms(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),g&&(d.i=g.G.concat(d.i)),g=a1(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),pp(d.h,E),dp(E,P,g)}function ac(d,g){d.H&&L(d.H,function(E,P){Fe(g,P,E)}),d.l&&L({},function(E,P){Fe(g,P,E)})}function a1(d,g,E){E=Math.min(d.i.length,E);const P=d.l?u(d.l.Ka,d.l,d):null;e:{var V=d.i;let ve=-1;for(;;){const ft=["count="+E];ve==-1?E>0?(ve=V[0].g,ft.push("ofs="+ve)):ve=0:ft.push("ofs="+ve);let je=!0;for(let bt=0;bt<E;bt++){var U=V[bt].g;const kr=V[bt].map;if(U-=ve,U<0)ve=Math.max(0,V[bt].g-100),je=!1;else try{U="req"+U+"_"||"";try{var Q=kr instanceof Map?kr:Object.entries(kr);for(const[lo,Fs]of Q){let Us=Fs;a(Fs)&&(Us=Kl(Fs)),ft.push(U+lo+"="+encodeURIComponent(Us))}}catch(lo){throw ft.push(U+"type="+encodeURIComponent("_badmap")),lo}}catch{P&&P(kr)}}if(je){Q=ft.join("&");break e}}Q=void 0}return d=d.i.splice(0,E),g.G=d,Q}function l1(d){if(!d.g&&!d.v){d.Y=1;var g=d.Da;C||S(),j||(C(),j=!0),I.add(g,d),d.A=0}}function wp(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=so(u(d.Da,d),d1(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,c1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=so(u(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),Nd(this),c1(this))};function _p(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function c1(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var g=Ar(d.na);Fe(g,"RID","rpc"),Fe(g,"SID",d.M),Fe(g,"AID",d.K),Fe(g,"CI",d.F?"0":"1"),!d.F&&d.ia&&Fe(g,"TO",d.ia),Fe(g,"TYPE","xmlhttp"),ac(d,g),d.u&&d.o&&vp(g,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Id(Ar(g)),E.u=null,E.R=!0,Lw(E,d)}t.Va=function(){this.C!=null&&(this.C=null,Nd(this),wp(this),ht(19))};function Rd(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function u1(d,g){var E=null;if(d.g==g){Rd(d),_p(d),d.g=null;var P=2}else if(mp(d.h,g))E=g.G,zw(d.h,g),P=1;else return;if(d.I!=0){if(g.o)if(P==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var V=d.D;P=ra(),wt(P,new Xn(P,E)),Pd(d)}else l1(d);else if(V=g.m,V==3||V==0&&g.X>0||!(P==1&&Lj(d,g)||P==2&&wp(d)))switch(E&&E.length>0&&(g=d.h,g.i=g.i.concat(E)),V){case 1:ao(d,5);break;case 4:ao(d,10);break;case 3:ao(d,6);break;default:ao(d,2)}}}function d1(d,g){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*g}function ao(d,g){if(d.j.info("Error code "+g),g==2){var E=u(d.bb,d),P=d.Ua;const V=!P;P=new Os(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Zl(P,"https"),Id(P),V?Pj(P.toString(),E):Rj(P.toString(),E)}else ht(2);d.I=0,d.l&&d.l.pa(g),h1(d),i1(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function h1(d){if(d.I=0,d.ja=[],d.l){const g=Ww(d.h);(g.length!=0||d.i.length!=0)&&(v(d.ja,g),v(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function f1(d,g,E){var P=E instanceof Os?Ar(E):new Os(E);if(P.g!="")g&&(P.g=g+"."+P.g),ec(P,P.u);else{var V=o.location;P=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const U=new Os(null);P&&Zl(U,P),g&&(U.g=g),V&&ec(U,V),E&&(U.h=E),P=U}return E=d.G,g=d.wa,E&&g&&Fe(P,E,g),Fe(P,"VER",d.ka),ac(d,P),P}function m1(d,g,E){if(g&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Aa&&!d.ma?new Ze(new yp({ab:E})):new Ze(d.ma),g.Fa(d.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function p1(){}t=p1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function jd(){}jd.prototype.g=function(d,g){return new wn(d,g)};function wn(d,g){qe.call(this),this.g=new s1(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(d?d["X-WebChannel-Client-Profile"]=g.sa:d={"X-WebChannel-Client-Profile":g.sa}),this.g.U=d,(d=g&&g.Qb)&&!A(d)&&(this.g.u=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.G=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ia(this)}f(wn,qe),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){xp(this.g)},wn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Kl(d),d=E);g.i.push(new Ej(g.Ya++,d)),g.I==3&&Pd(g)},wn.prototype.N=function(){this.g.l=null,delete this.j,xp(this.g),delete this.g,wn.Z.N.call(this)};function g1(d){Cr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const E in g){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}f(g1,Cr);function y1(){na.call(this),this.status=1}f(y1,na);function ia(d){this.g=d}f(ia,p1),ia.prototype.ra=function(){wt(this.g,"a")},ia.prototype.qa=function(d){wt(this.g,new g1(d))},ia.prototype.pa=function(d){wt(this.g,new y1)},ia.prototype.oa=function(){wt(this.g,"b")},jd.prototype.createWebChannel=jd.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,FN=function(){return new jd},VN=function(){return ra()},LN=an,rv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dn.NO_ERROR=0,Dn.TIMEOUT=8,Dn.HTTP_ERROR=6,jh=Dn,ln.COMPLETE="complete",ON=ln,Ql.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",qe.prototype.listen=qe.prototype.J,kc=Ql,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,MN=Ze}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol="12.8.0";function aB(t){Ol=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new lx("@firebase/firestore");function ca(){return $o.logLevel}function Z(t,...e){if($o.logLevel<=_e.DEBUG){const n=e.map(xx);$o.debug(`Firestore (${Ol}): ${t}`,...n)}}function Ss(t,...e){if($o.logLevel<=_e.ERROR){const n=e.map(xx);$o.error(`Firestore (${Ol}): ${t}`,...n)}}function pl(t,...e){if($o.logLevel<=_e.WARN){const n=e.map(xx);$o.warn(`Firestore (${Ol}): ${t}`,...n)}}function xx(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UN(t,r,n)}function UN(t,e,n){let r=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ss(r),new Error(r)}function ke(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||UN(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class cB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uB{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ps,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ps)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new BN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class dB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ke(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function sv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return hg(s)===hg(i)?be(s,i):hg(s)?1:-1}return be(t.length,e.length)}const pB=55296,gB=57343;function hg(t){const e=t.charCodeAt(0);return e>=pB&&e<=gB}function gl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="__name__";class Rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ue(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Rr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=Rr.isNumericId(e),s=Rr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):sv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class Me extends Rr{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const yB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Rr{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return yB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qb}static keyField(){return new Rt([Qb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(Me.fromString(e))}static fromName(e){return new ie(Me.fromString(e).popFirst(5))}static empty(){return new ie(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new Me(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e,n){if(!n)throw new X(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vB(t,e,n,r){if(e===!0&&r===!0)throw new X(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yb(t){if(!ie.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xb(t){if(ie.isDocumentKey(t))throw new X(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue(12329,{type:typeof t})}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lm(t);throw new X(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function xB(t,e){if(e<=0)throw new X(z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function hd(t,e){if(!zN(t))throw new X(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=-62135596800,Zb=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(e){return Pe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Zb);return new Pe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jb)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zb}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hd(e,Pe._jsonSchema))return new Pe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pe._jsonSchemaVersion="firestore/timestamp/1.0",Pe._jsonSchema={type:ut("string",Pe._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Pe(0,0))}static max(){return new he(new Pe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru=-1;function wB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Pe(n+1,0):new Pe(n,r));return new Li(s,ie.empty(),e)}function _B(t){return new Li(t.readTime,t.key,Ru)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(he.min(),ie.empty(),Ru)}static max(){return new Li(he.max(),ie.empty(),Ru)}}function bB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==EB)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function SB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=-1;function Fm(t){return t==null}function Df(t){return t===0&&1/t==-1/0}function CB(t){return typeof t=="number"&&Number.isInteger(t)&&!Df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="";function IB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eE(e)),e=AB(t.get(n),e);return eE(e)}function AB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case WN:n+="";break;default:n+=i}}return n}function eE(t){return t+WN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nE(this.data.getIterator())}getIteratorFrom(e){return new nE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class nE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new vt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qN("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const kB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(t){if(ke(!!t,39018),typeof t=="string"){let e=0;const n=kB.exec(t);if(ke(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="server_timestamp",KN="__type__",QN="__previous_value__",YN="__local_write_time__";function bx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KN])==null?void 0:r.stringValue)===GN}function Um(t){const e=t.mapValue.fields[QN];return bx(e)?Um(e):e}function ju(t){const e=Vi(t.mapValue.fields[YN].timestampValue);return new Pe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,s,i,o,a,l,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h,this.apiKey=f}}const Mf="(default)";class Du{constructor(e,n){this.projectId=e,this.database=n||Mf}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}function PB(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new X(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__type__",JN="__max__",ah={mapValue:{fields:{__type__:{stringValue:JN}}}},ZN="__vector__",Of="value";function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bx(t)?4:jB(t)?9007199254740991:RB(t)?10:11:ue(28295,{value:t})}function Xr(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Vi(s.timestampValue),a=Vi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fi(s.bytesValue).isEqual(Fi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=nt(s.doubleValue),a=nt(i.doubleValue);return o===a?Df(o)===Df(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(tE(o)!==tE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return ue(52216,{left:t})}}function Mu(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function yl(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=nt(i.integerValue||i.doubleValue),l=nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rE(t.timestampValue,e.timestampValue);case 4:return rE(ju(t),ju(e));case 5:return sv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fi(i),l=Fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=be(a[u],l[u]);if(h!==0)return h}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(nt(i.latitude),nt(o.latitude));return a!==0?a:be(nt(i.longitude),nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,v,y;const a=i.fields||{},l=o.fields||{},u=(m=a[Of])==null?void 0:m.arrayValue,h=(p=l[Of])==null?void 0:p.arrayValue,f=be(((v=u==null?void 0:u.values)==null?void 0:v.length)||0,((y=h==null?void 0:h.values)==null?void 0:y.length)||0);return f!==0?f:sE(u,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ah.mapValue&&o===ah.mapValue)return 0;if(i===ah.mapValue)return 1;if(o===ah.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=sv(l[f],h[f]);if(m!==0)return m;const p=yl(a[l[f]],u[h[f]]);if(p!==0)return p}return be(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ue(23264,{he:n})}}function rE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Vi(t),r=Vi(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function sE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=yl(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function vl(t){return iv(t)}function iv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Vi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=iv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${iv(n.fields[o])}`;return s+"}"}(t.mapValue):ue(61005,{value:t})}function Dh(t){switch(Ui(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Um(t);return e?16+Dh(e):16;case 5:return 2*t.stringValue.length;case 6:return Fi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Dh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Xi(r.fields,(i,o)=>{s+=i.length+Dh(o)}),s}(t.mapValue);default:throw ue(13486,{value:t})}}function iE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ov(t){return!!t&&"integerValue"in t}function Ex(t){return!!t&&"arrayValue"in t}function oE(t){return!!t&&"nullValue"in t}function aE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mh(t){return!!t&&"mapValue"in t}function RB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XN])==null?void 0:r.stringValue)===ZN}function Yc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return{...t}}function jB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=Rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Yc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Mh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new fn(Yc(this.value))}}function eP(t){const e=[];return Xi(t.fields,(n,r)=>{const s=new Rt([n]);if(Mh(r)){const i=eP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,he.min(),he.min(),he.min(),fn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,he.min(),he.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,he.min(),he.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function lE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=yl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function cE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function DB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{}class ct extends tP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OB(e,n,r):n==="array-contains"?new FB(e,r):n==="in"?new UB(e,r):n==="not-in"?new BB(e,r):n==="array-contains-any"?new $B(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LB(e,r):new VB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends tP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new xr(e,n)}matches(e){return nP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nP(t){return t.op==="and"}function rP(t){return MB(t)&&nP(t)}function MB(t){for(const e of t.filters)if(e instanceof xr)return!1;return!0}function av(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(rP(t))return t.filters.map(e=>av(e)).join(",");{const e=t.filters.map(n=>av(n)).join(",");return`${t.op}(${e})`}}function sP(t,e){return t instanceof ct?function(r,s){return s instanceof ct&&r.op===s.op&&r.field.isEqual(s.field)&&Xr(r.value,s.value)}(t,e):t instanceof xr?function(r,s){return s instanceof xr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&sP(o,s.filters[a]),!0):!1}(t,e):void ue(19439)}function iP(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof xr?function(n){return n.op.toString()+" {"+n.getFilters().map(iP).join(" ,")+"}"}(t):"Filter"}class OB extends ct{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class LB extends ct{constructor(e,n){super(e,"in",n),this.keys=oP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VB extends ct{constructor(e,n){super(e,"not-in",n),this.keys=oP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class FB extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ex(n)&&Mu(n.arrayValue,this.value)}}class UB extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class BB extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class $B extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ex(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function uE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new zB(t,e,n,r,s,i,o)}function Tx(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>av(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Fm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.Te=n}return e.Te}function Sx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cE(t.startAt,e.startAt)&&cE(t.endAt,e.endAt)}function lv(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WB(t,e,n,r,s,i,o,a){return new Fl(t,e,n,r,s,i,o,a)}function Cx(t){return new Fl(t)}function dE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HB(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function aP(t){return t.collectionGroup!==null}function Xc(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vt(Rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ou(i,r))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new Ou(Rt.keyField(),r))}return e.Ie}function Wr(t){const e=fe(t);return e.Ee||(e.Ee=qB(e,Xc(t))),e.Ee}function qB(t,e){if(t.limitType==="F")return uE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ou(s.field,i)});const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return uE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cv(t,e){const n=t.filters.concat([e]);return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GB(t,e){const n=t.explicitOrderBy.concat([e]);return new Fl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Vf(t,e,n){return new Fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bm(t,e){return Sx(Wr(t),Wr(e))&&t.limitType===e.limitType}function lP(t){return`${Tx(Wr(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>iP(s)).join(", ")}]`),Fm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vl(s)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function $m(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ie.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Xc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=lE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Xc(r),s)||r.endAt&&!function(o,a,l){const u=lE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Xc(r),s))}(t,e)}function KB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cP(t){return(e,n)=>{let r=!1;for(const s of Xc(t)){const i=QB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QB(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?yl(l,u):ue(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return HN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new Je(ie.comparator);function Cs(){return YB}const uP=new Je(ie.comparator);function Nc(...t){let e=uP;for(const n of t)e=e.insert(n.key,n);return e}function dP(t){let e=uP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xo(){return Jc()}function hP(){return Jc()}function Jc(){return new Jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const XB=new Je(ie.comparator),JB=new vt(ie.comparator);function Ee(...t){let e=JB;for(const n of t)e=e.add(n);return e}const ZB=new vt(be);function e$(){return ZB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function fP(t){return{integerValue:""+t}}function t$(t,e){return CB(e)?fP(e):Ix(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this._=void 0}}function n$(t,e,n){return t instanceof Ff?function(s,i){const o={fields:{[KN]:{stringValue:GN},[YN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&bx(i)&&(i=Um(i)),i&&(o.fields[QN]=i),{mapValue:o}}(n,e):t instanceof Lu?pP(t,e):t instanceof Vu?gP(t,e):function(s,i){const o=mP(s,i),a=hE(o)+hE(s.Ae);return ov(o)&&ov(s.Ae)?fP(a):Ix(s.serializer,a)}(t,e)}function r$(t,e,n){return t instanceof Lu?pP(t,e):t instanceof Vu?gP(t,e):n}function mP(t,e){return t instanceof Uf?function(r){return ov(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ff extends zm{}class Lu extends zm{constructor(e){super(),this.elements=e}}function pP(t,e){const n=yP(e);for(const r of t.elements)n.some(s=>Xr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vu extends zm{constructor(e){super(),this.elements=e}}function gP(t,e){let n=yP(e);for(const r of t.elements)n=n.filter(s=>!Xr(s,r));return{arrayValue:{values:n}}}class Uf extends zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hE(t){return nt(t.integerValue||t.doubleValue)}function yP(t){return Ex(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lu&&s instanceof Lu||r instanceof Vu&&s instanceof Vu?gl(r.elements,s.elements,Xr):r instanceof Uf&&s instanceof Uf?Xr(r.Ae,s.Ae):r instanceof Ff&&s instanceof Ff}(t.transform,e.transform)}class i${constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wm{}function vP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ax(t.key,qn.none()):new fd(t.key,t.data,qn.none());{const n=t.data,r=fn.empty();let s=new vt(Rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ji(t.key,r,new Tn(s.toArray()),qn.none())}}function o$(t,e,n){t instanceof fd?function(s,i,o){const a=s.value.clone(),l=mE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(s,i,o){if(!Oh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=mE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(xP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zc(t,e,n,r){return t instanceof fd?function(i,o,a,l){if(!Oh(i.precondition,o))return a;const u=i.value.clone(),h=pE(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(i,o,a,l){if(!Oh(i.precondition,o))return a;const u=pE(i.fieldTransforms,l,o),h=o.data;return h.setAll(xP(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Oh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function a$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=mP(r.transform,s||null);i!=null&&(n===null&&(n=fn.empty()),n.set(r.field,i))}return n||null}function fE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gl(r,s,(i,o)=>s$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fd extends Wm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ji extends Wm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mE(t,e,n){const r=new Map;ke(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,r$(o,a,n[s]))}return r}function pE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,n$(i,o,e))}return r}class Ax extends Wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l$ extends Wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&o$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hP();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=vP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,r)=>fE(n,r))&&gl(this.baseMutations,e.baseMutations,(n,r)=>fE(n,r))}}class kx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return XB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new kx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ce;function h$(t){switch(t){case z.OK:return ue(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ue(15467,{code:t})}}function wP(t){if(t===void 0)return Ss("GRPC error has no .code"),z.UNKNOWN;switch(t){case ot.OK:return z.OK;case ot.CANCELLED:return z.CANCELLED;case ot.UNKNOWN:return z.UNKNOWN;case ot.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ot.INTERNAL:return z.INTERNAL;case ot.UNAVAILABLE:return z.UNAVAILABLE;case ot.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ot.NOT_FOUND:return z.NOT_FOUND;case ot.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ot.ABORTED:return z.ABORTED;case ot.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ot.DATA_LOSS:return z.DATA_LOSS;default:return ue(39323,{code:t})}}(Ce=ot||(ot={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$=new Ci([4294967295,4294967295],0);function gE(t){const e=f$().encode(t),n=new DN;return n.update(e),new Uint8Array(n.digest())}function yE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ci([n,r],0),new Ci([s,i],0)]}class Nx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pc(`Invalid padding: ${n}`);if(r<0)throw new Pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ci.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ci.fromNumber(r)));return s.compare(m$)===1&&(s=new Ci([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=gE(e),[r,s]=yE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=gE(e),[r,s]=yE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hm(he.min(),s,new Je(be),Cs(),Ee())}}class md{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class _P{constructor(e,n){this.targetId=e,this.Ce=n}}class bP{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class vE{constructor(){this.ve=0,this.Fe=xE(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue(38017,{changeType:i})}}),new md(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=xE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class p${constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.He=lh(),this.Je=lh(),this.Ze=new Je(be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(lv(i))if(r===0){const o=new ie(i.path);this.et(n,o,Ht.newNoDocument(o,he.min()))}else ke(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fi(r).toUint8Array()}catch(l){if(l instanceof qN)return pl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Nx(o,s,i)}catch(l){return pl(l instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&lv(a.target)){const l=new ie(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=Ee();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Hm(e,n,this.Ze,this.je,r);return this.je=Cs(),this.He=lh(),this.Je=lh(),this.Ze=new Je(be),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new vE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new vt(be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new vt(be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new Je(ie.comparator)}function xE(){return new Je(ie.comparator)}const g$={asc:"ASCENDING",desc:"DESCENDING"},y$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v$={and:"AND",or:"OR"};class x${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function uv(t,e){return t.useProto3Json||Fm(e)?e:{value:e}}function Bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w$(t,e){return Bf(t,e.toTimestamp())}function Hr(t){return ke(!!t,49232),he.fromTimestamp(function(n){const r=Vi(n);return new Pe(r.seconds,r.nanos)}(t))}function Px(t,e){return dv(t,e).canonicalString()}function dv(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TP(t){const e=Me.fromString(t);return ke(kP(e),10190,{key:e.toString()}),e}function hv(t,e){return Px(t.databaseId,e.path)}function fg(t,e){const n=TP(e);if(n.get(1)!==t.databaseId.projectId)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(CP(n))}function SP(t,e){return Px(t.databaseId,e)}function _$(t){const e=TP(t);return e.length===4?Me.emptyPath():CP(e)}function fv(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CP(t){return ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wE(t,e,n){return{name:hv(t,e),fields:n.value.mapValue.fields}}function b$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?z.UNKNOWN:wP(u.code);return new X(h,u.message||"")}(o);n=new bP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fg(t,r.document.name),i=Hr(r.document.updateTime),o=r.document.createTime?Hr(r.document.createTime):he.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Lh(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fg(t,r.document),i=r.readTime?Hr(r.readTime):he.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Lh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fg(t,r.document),i=r.removedTargetIds||[];n=new Lh([],i,s,null)}else{if(!("filter"in e))return ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new d$(s,i),a=r.targetId;n=new _P(a,o)}}return n}function E$(t,e){let n;if(e instanceof fd)n={update:wE(t,e.key,e.value)};else if(e instanceof Ax)n={delete:hv(t,e.key)};else if(e instanceof Ji)n={update:wE(t,e.key,e.data),updateMask:R$(e.fieldMask)};else{if(!(e instanceof l$))return ue(16599,{dt:e.type});n={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ff)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ue(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:w$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue(27497)}(t,e.precondition)),n}function T$(t,e){return t&&t.length>0?(ke(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Hr(s.updateTime):Hr(i);return o.isEqual(he.min())&&(o=Hr(i)),new i$(o,s.transformResults||[])}(n,e))):[]}function S$(t,e){return{documents:[SP(t,e.path)]}}function C$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=SP(t,s);const i=function(u){if(u.length!==0)return AP(xr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:da(m.field),direction:k$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=uv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function I$(t){let e=_$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=IP(f);return m instanceof xr&&rP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(v){return new Ou(ha(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Fm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new Lf(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new Lf(p,m)}(n.endAt)),WB(e,s,o,i,a,"F",l,u)}function A$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ha(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ha(n.unaryFilter.field);return ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ha(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ha(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(ha(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xr.create(n.compositeFilter.filters.map(r=>IP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue(1026)}}(n.compositeFilter.op))}(t):ue(30097,{filter:t})}function k$(t){return g$[t]}function N$(t){return y$[t]}function P$(t){return v$[t]}function da(t){return{fieldPath:t.canonicalString()}}function ha(t){return Rt.fromServerFormat(t.fieldPath)}function AP(t){return t instanceof ct?function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(oE(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(oE(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:N$(n.op),value:n.value}}}(t):t instanceof xr?function(n){const r=n.getFilters().map(s=>AP(s));return r.length===1?r[0]:{compositeFilter:{op:P$(n.op),filters:r}}}(t):ue(54877,{filter:t})}function R$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function NP(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,s,i=he.min(),o=he.min(),a=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.yt=e}}function D$(t){const e=I$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.Sn=new O$}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Li.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class O${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PP=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(PP,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xl(0)}static ar(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="LruGarbageCollector",L$=1048576;function EE([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class V${constructor(e){this.Pr=e,this.buffer=new vt(EE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();EE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Z(bE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?Z(bE,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Ar(3e5)})}}class U${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Vm.ce);const r=new V$(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(_E)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ca()<=_e.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function B$(t,e){return new U$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.changes=new Jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Zc(r.mutation,s,Tn.empty(),Pe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=xo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Nc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Cs();const o=Jc(),a=function(){return Jc()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ji)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Zc(h.mutation,u,h.mutation.getFieldMask(),Pe.now())):o.set(u.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new z$(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Jc();let s=new Je((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Tn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=hP();h.forEach(m=>{if(!i.has(m)){const p=vP(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return HB(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(xo());let a=Ru,l=i;return o.next(u=>W.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(h=>({batchId:a,changes:dP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Nc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Nc();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,l=>{const u=function(f,m){return new Fl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=Nc();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Zc(h.mutation,u,Tn.empty(),Pe.now()),$m(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:D$(s.bundledQuery),readTime:Hr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(){this.overlays=new Je(ie.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=xo(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=xo(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=xo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return W.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u$(n,r));let i=this.Lr.get(n);i===void 0&&(i=Ee(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.kr=new vt(St.Kr),this.qr=new vt(St.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new St(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new St(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new ie(new Me([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ie(new Me([])),r=new St(n,e),s=new St(n,e+1);let i=Ee();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ie.comparator(e.key,n.key)||be(e.Hr,n.Hr)}static Ur(e,n){return be(e.Hr,n.Hr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new vt(St.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c$(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?_x:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(be);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new St(new ie(i),0);let a=new vt(be);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Hr)),!0)},o),W.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new St(n,0),s=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e){this.ti=e,this.docs=function(){return new Je(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cs();const o=n.path,a=new ie(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bB(_B(h),r)<=0||(s.has(h.key)||$m(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue(9500)}ni(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y$(this)}getSize(e){return W.resolve(this.size)}}class Y$ extends $${constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.persistence=e,this.ri=new Jo(n=>Tx(n),Sx),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.ii=0,this.si=new Rx,this.targetCount=0,this.oi=xl._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this._i={},this.overlays={},this.ai=new Vm(0),this.ui=!1,this.ui=!0,this.ci=new G$,this.referenceDelegate=e(this),this.li=new X$(this),this.indexManager=new M$,this.remoteDocumentCache=function(s){return new Q$(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new j$(n),this.Pi=new H$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new K$(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new J$(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return W.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class J$ extends TB{constructor(e){super(),this.currentSequenceNumber=e}}class jx{constructor(e){this.persistence=e,this.Ri=new Rx,this.Ai=null}static Vi(e){return new jx(e)}get di(){if(this.Ai)return this.Ai;throw ue(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,r=>{const s=ie.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,he.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class $f{constructor(e,n){this.persistence=e,this.fi=new Jo(r=>IB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=B$(this,n)}static Vi(e,n){return new $f(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return W.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,he.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Dx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return A3()?8:SB(Qt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Z$;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(ca()<=_e.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(ca()<=_e.DEBUG&&Z("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ca()<=_e.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):W.resolve())}gs(e,n){if(dE(n))return W.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vf(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,Vf(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,s){return dE(n)||s.isEqual(he.min())?W.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?W.resolve(null):(ca()<=_e.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ua(n)),this.Ds(e,o,n,wB(s,Ru)).next(a=>a))})}bs(e,n){let r=new vt(cP(e));return n.forEach((s,i)=>{$m(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return ca()<=_e.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",ua(n)),this.fs.getDocumentsMatchingQuery(e,n,Li.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="LocalStore",t8=3e8;class n8{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Je(be),this.Fs=new Jo(i=>Tx(i),Sx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W$(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function r8(t,e,n,r){return new n8(t,e,n,r)}async function jP(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function s8(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,m=f.keys();let p=W.resolve();return m.forEach(v=>{p=p.next(()=>h.getEntry(l,v)).next(y=>{const b=u.docVersions.get(v);ke(b!==null,48541),y.version.compareTo(b)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function DP(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function i8(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Lt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),s=s.insert(f,p),function(y,b,_){return y.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=t8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,p,h)&&a.push(n.li.updateTargetData(i,p))});let l=Cs(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(o8(i,o,e.documentUpdates).next(h=>{l=h.Bs,u=h.Ls})),!r.isEqual(he.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.vs=s,i))}function o8(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cs();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z(Mx,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function a8(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_x),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l8(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function mv(t,e,n){const r=fe(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vl(o))throw o;Z(Mx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function TE(t,e,n){const r=fe(t);let s=he.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=fe(l),m=f.Fs.get(h);return m!==void 0?W.resolve(f.vs.get(m)):f.li.getTargetData(u,h)}(r,o,Wr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:he.min(),n?i:Ee())).next(a=>(c8(r,KB(e),a),{documents:a,ks:i})))}function c8(t,e,n){let r=t.Ms.get(e)||he.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class SE{constructor(){this.activeTargetIds=e$()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u8{constructor(){this.vo=new SE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new SE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="ConnectivityMonitor";class IE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Z(CE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Z(CE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function pv(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="RestConnection",h8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class f8{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Mf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=pv(),a=this.Qo(e,n.toUriEncodedString());Z(mg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:u}=new URL(a),h=jl(u);return this.zo(e,a,l,r,h).then(f=>(Z(mg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw pl(mg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=h8[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection",vc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Ha extends f8{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ha.c_){const e=VN();vc(e,LN.STAT_EVENT,n=>{n.stat===rv.PROXY?Z(Bt,"STAT_EVENT: detected buffering proxy"):n.stat===rv.NOPROXY&&Z(Bt,"STAT_EVENT: detected no buffering proxy")}),Ha.c_=!0}}zo(e,n,r,s,i){const o=pv();return new Promise((a,l)=>{const u=new MN;u.setWithCredentials(!0),u.listenOnce(ON.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jh.NO_ERROR:const f=u.getResponseJson();Z(Bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case jh.TIMEOUT:Z(Bt,`RPC '${e}' ${o} timed out`),l(new X(z.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const m=u.getStatus();if(Z(Bt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const y=function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(T)>=0?T:z.UNKNOWN}(v.status);l(new X(y,v.message))}else l(new X(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new X(z.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Z(Bt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Bt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",h,r,15)})}T_(e,n,r){const s=pv(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");Z(Bt,`Creating RPC '${e}' stream ${s}: ${u}`,a);const h=o.createWebChannel(u,a);this.I_(h);let f=!1,m=!1;const p=new m8({Ho:v=>{m?Z(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(Z(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Z(Bt,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},Jo:()=>h.close()});return vc(h,kc.EventType.OPEN,()=>{m||(Z(Bt,`RPC '${e}' stream ${s} transport opened.`),p.i_())}),vc(h,kc.EventType.CLOSE,()=>{m||(m=!0,Z(Bt,`RPC '${e}' stream ${s} transport closed`),p.o_(),this.E_(h))}),vc(h,kc.EventType.ERROR,v=>{m||(m=!0,pl(Bt,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),p.o_(new X(z.UNAVAILABLE,"The operation could not be completed")))}),vc(h,kc.EventType.MESSAGE,v=>{var y;if(!m){const b=v.data[0];ke(!!b,16349);const _=b,T=(_==null?void 0:_.error)||((y=_[0])==null?void 0:y.error);if(T){Z(Bt,`RPC '${e}' stream ${s} received error:`,T);const x=T.status;let N=function(I){const S=ot[I];if(S!==void 0)return wP(S)}(x),C=T.message;N===void 0&&(N=z.INTERNAL,C="Unknown error status: "+x+" with message "+T.message),m=!0,p.o_(new X(N,C)),h.close()}else Z(Bt,`RPC '${e}' stream ${s} received:`,b),p.__(b)}}),Ha.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return FN()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){return new Ha(t)}function pg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){return new x$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha.c_=!1;class MP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class OP{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new MP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ss(n.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Z(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g8 extends OP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=b$(this.serializer,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?Hr(o.readTime):he.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=fv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=lv(l)?{documents:S$(i,l)}:{query:C$(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EP(i,o.resumeToken);const u=uv(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(he.min())>0){a.readTime=Bf(i,o.snapshotVersion.toTimestamp());const u=uv(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=A$(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=fv(this.serializer),n.removeTarget=e,this.K_(n)}}class y8 extends OP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=T$(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E$(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{}class x8 extends v8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,dv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(z.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,dv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function w8(t,e,n,r){return new x8(t,e,n,r)}class _8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="RemoteStore";class b8{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Zo(this)&&(Z(zo,"Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.Ea.add(4),await pd(u),u.Va.set("Unknown"),u.Ea.delete(4),await Gm(u)}(this))})}),this.Va=new _8(r,s)}}async function Gm(t){if(Zo(t))for(const e of t.Ra)await e(!0)}async function pd(t){for(const e of t.Ra)await e(!1)}function LP(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fx(n)?Vx(n):Ul(n).O_()&&Lx(n,e))}function Ox(t,e){const n=fe(t),r=Ul(n);n.Ia.delete(e),r.O_()&&VP(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zo(n)&&n.Va.set("Unknown"))}function Lx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).Z_(e)}function VP(t,e){t.da.$e(e),Ul(t).X_(e)}function Vx(t){t.da=new p$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Va.ua()}function Fx(t){return Zo(t)&&!Ul(t).x_()&&t.Ia.size>0}function Zo(t){return fe(t).Ea.size===0}function FP(t){t.da=void 0}async function E8(t){t.Va.set("Online")}async function T8(t){t.Ia.forEach((e,n)=>{Lx(t,e)})}async function S8(t,e){FP(t),Fx(t)?(t.Va.ha(e),Vx(t)):t.Va.set("Unknown")}async function C8(t,e,n){if(t.Va.set("Online"),e instanceof bP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Z(zo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zf(t,r)}else if(e instanceof Lh?t.da.Xe(e):e instanceof _P?t.da.st(e):t.da.tt(e),!n.isEqual(he.min()))try{const r=await DP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(u);h&&i.Ia.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),VP(i,l);const f=new di(h.target,l,u,h.sequenceNumber);Lx(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(zo,"Failed to raise snapshot:",r),await zf(t,r)}}async function zf(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await pd(t),t.Va.set("Offline"),n||(n=()=>DP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(zo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Gm(t)})}function UP(t,e){return e().catch(n=>zf(t,n,e))}async function Km(t){const e=fe(t),n=Bi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_x;for(;I8(e);)try{const s=await a8(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,A8(e,s)}catch(s){await zf(e,s)}BP(e)&&$P(e)}function I8(t){return Zo(t)&&t.Ta.length<10}function A8(t,e){t.Ta.push(e);const n=Bi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function BP(t){return Zo(t)&&!Bi(t).x_()&&t.Ta.length>0}function $P(t){Bi(t).start()}async function k8(t){Bi(t).ra()}async function N8(t){const e=Bi(t);for(const n of t.Ta)e.ea(n.mutations)}async function P8(t,e,n){const r=t.Ta.shift(),s=kx.from(r,e,n);await UP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Km(t)}async function R8(t,e){e&&Bi(t).Y_&&await async function(r,s){if(function(o){return h$(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Bi(r).B_(),await UP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Km(r)}}(t,e),BP(t)&&$P(t)}async function kE(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Z(zo,"RemoteStore received new credentials");const r=Zo(n);n.Ea.add(3),await pd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gm(n)}async function j8(t,e){const n=fe(t);e?(n.Ea.delete(2),await Gm(n)):e||(n.Ea.add(2),await pd(n),n.Va.set("Unknown"))}function Ul(t){return t.ma||(t.ma=function(n,r,s){const i=fe(n);return i.sa(),new g8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:E8.bind(null,t),Yo:T8.bind(null,t),t_:S8.bind(null,t),J_:C8.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Fx(t)?Vx(t):t.Va.set("Unknown")):(await t.ma.stop(),FP(t))})),t.ma}function Bi(t){return t.fa||(t.fa=function(n,r,s){const i=fe(n);return i.sa(),new y8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:k8.bind(null,t),t_:R8.bind(null,t),ta:N8.bind(null,t),na:P8.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Km(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(zo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ux(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bx(t,e){if(Ss("AsyncQueue",`${e}: ${t}`),Vl(t))return new X(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Nc(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.ga=new Je(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ue(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class wl{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wl(e,n,qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class M8{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=PE(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new X(z.ABORTED,"Firestore shutting down"))}}function PE(){return new Jo(t=>lP(t),Bm)}async function zP(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new D8,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Bx(o,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&$x(n)}async function WP(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O8(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&$x(n)}function L8(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function $x(t){t.Ca.forEach(e=>{e.next()})}var gv,RE;(RE=gv||(gv={})).Ma="default",RE.Cache="cache";class HP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.key=e}}class GP{constructor(e){this.key=e}}class V8{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ee(),this.mutatedKeys=Ee(),this.eu=cP(e),this.tu=new qa(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new NE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),p=$m(this.query,f)?f:null,v=!!m&&this.mutatedKeys.has(m.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;m&&p?m.data.isEqual(p.data)?v!==y&&(r.track({type:3,doc:p}),b=!0):this.su(m,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),b=!0):m&&!p&&(r.track({type:1,doc:m}),b=!0,(l||u)&&(a=!0)),b&&(p?(o=o.add(p),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(p,v){const y=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Vt:b})}};return y(p)-y(v)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new wl(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new GP(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new qP(r))}),n}cu(e){this.Za=e.ks,this.Ya=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const zx="SyncEngine";class F8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U8{constructor(e){this.key=e,this.hu=!1}}class B8{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Jo(a=>lP(a),Bm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Je(ie.comparator),this.Au=new Map,this.Vu=new Rx,this.du={},this.mu=new Map,this.fu=xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $8(t,e,n=!0){const r=ZP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await KP(r,e,n,!0),s}async function z8(t,e){const n=ZP(t);await KP(n,e,!0,!1)}async function KP(t,e,n,r){const s=await l8(t.localStore,Wr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await W8(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LP(t.remoteStore,s),a}async function W8(t,e,n,r,s){t.pu=(f,m,p)=>async function(y,b,_,T){let x=b.view.ru(_);x.Ss&&(x=await TE(y.localStore,b.query,!1).then(({documents:I})=>b.view.ru(I,x)));const N=T&&T.targetChanges.get(b.targetId),C=T&&T.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(x,y.isPrimaryClient,N,C);return DE(y,b.targetId,j.au),j.snapshot}(t,f,m,p);const i=await TE(t.localStore,e,!0),o=new V8(e,i.ks),a=o.ru(i.documents),l=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);DE(t,n,u.au);const h=new F8(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function H8(t,e,n){const r=fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Bm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ox(r.remoteStore,s.targetId),yv(r,s.targetId)}).catch(Ll)):(yv(r,s.targetId),await mv(r.localStore,s.targetId,!0))}async function q8(t,e){const n=fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ox(n.remoteStore,r.targetId))}async function G8(t,e,n){const r=ez(t);try{const s=await function(o,a){const l=fe(o),u=Pe.now(),h=a.reduce((p,v)=>p.add(v.key),Ee());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Cs(),y=Ee();return l.xs.getEntries(p,h).next(b=>{v=b,v.forEach((_,T)=>{T.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(b=>{f=b;const _=[];for(const T of a){const x=a$(T,f.get(T.key).overlayedDocument);x!=null&&_.push(new Ji(T.key,x,eP(x.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(b=>{m=b;const _=b.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,b.batchId,_)})}).then(()=>({batchId:m.batchId,changes:dP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new Je(be)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,s.batchId,n),await gd(r,s.changes),await Km(r.remoteStore)}catch(s){const i=Bx(s,"Failed to persist write");n.reject(i)}}async function QP(t,e){const n=fe(t);try{const r=await i8(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ke(o.hu,14607):s.removedDocuments.size>0&&(ke(o.hu,42227),o.hu=!1))}),await gd(n,r,e)}catch(r){await Ll(r)}}function jE(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const m of f.ba)m.va(a)&&(u=!0)}),u&&$x(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K8(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Je(ie.comparator);o=o.insert(i,Ht.newNoDocument(i,he.min()));const a=Ee().add(i),l=new Hm(he.min(),new Map,new Je(be),o,a);await QP(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),Wx(r)}else await mv(r.localStore,e,!1).then(()=>yv(r,e,n)).catch(Ll)}async function Q8(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await s8(n.localStore,e);XP(n,r,null),YP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gd(n,s)}catch(s){await Ll(s)}}async function Y8(t,e,n){const r=fe(t);try{const s=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ke(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);XP(r,e,n),YP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gd(r,s)}catch(s){await Ll(s)}}function YP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function XP(t,e,n){const r=fe(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function yv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||JP(t,r)})}function JP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ox(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Wx(t))}function DE(t,e,n){for(const r of n)r instanceof qP?(t.Vu.addReference(r.key,e),X8(t,r)):r instanceof GP?(Z(zx,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||JP(t,r.key)):ue(19791,{wu:r})}function X8(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Z(zx,"New document in limbo: "+n),t.Eu.add(r),Wx(t))}function Wx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(Me.fromString(e)),r=t.fu.next();t.Au.set(r,new U8(n)),t.Ru=t.Ru.insert(n,r),LP(t.remoteStore,new di(Wr(Cx(n.path)),r,"TargetPurposeLimboResolution",Vm.ce))}}async function gd(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Dx.Es(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,u){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(u,m=>W.forEach(m.Ts,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>W.forEach(m.Is,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Vl(f))throw f;Z(Mx,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=h.vs.get(m),v=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(v);h.vs=h.vs.insert(m,y)}}}(r.localStore,i))}async function J8(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Z(zx,"User change. New user:",e.toKey());const r=await jP(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gd(n,r.Ns)}}function Z8(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function ZP(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K8.bind(null,e),e.Pu.J_=O8.bind(null,e.eventManager),e.Pu.yu=L8.bind(null,e.eventManager),e}function ez(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y8.bind(null,e),e}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r8(this.persistence,new e8,e.initialUser,this.serializer)}Cu(e){return new RP(jx.Vi,this.serializer)}Du(e){return new u8}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class tz extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ke(this.persistence.referenceDelegate instanceof $f,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F$(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new RP(r=>$f.Vi(r,n),this.serializer)}}class vv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J8.bind(null,this.syncEngine),await j8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M8}()}createDatastore(e){const n=qm(e.databaseInfo.databaseId),r=p8(e.databaseInfo);return w8(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new b8(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>jE(this.syncEngine,n,0),function(){return IE.v()?new IE:new d8}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new B8(s,i,o,a,l,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=fe(s);Z(zo,"RemoteStore shutting down."),i.Ea.add(5),await pd(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}vv.provider={build:()=>new vv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class nz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z($i,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z($i,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),Z($i,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ME(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rz(t);Z($i,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>kE(e.remoteStore,s)),t._onlineComponents=e}async function rz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z($i,"Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await gg(t,new Wf)}}else Z($i,"Using default OfflineComponentProvider"),await gg(t,new tz(void 0));return t._offlineComponents}async function t2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z($i,"Using user provided OnlineComponentProvider"),await ME(t,t._uninitializedComponentsProvider._online)):(Z($i,"Using default OnlineComponentProvider"),await ME(t,new vv))),t._onlineComponents}function sz(t){return t2(t).then(e=>e.syncEngine)}async function n2(t){const e=await t2(t),n=e.eventManager;return n.onListen=$8.bind(null,e.syncEngine),n.onUnlisten=H8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q8.bind(null,e.syncEngine),n}function iz(t,e,n={}){const r=new ps;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new e2({next:m=>{h.Nu(),o.enqueueAndForget(()=>WP(i,f));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new X(z.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new X(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new HP(Cx(a.path),h,{includeMetadataChanges:!0,Ka:!0});return zP(i,f)}(await n2(t),t.asyncQueue,e,n,r)),r.promise}function oz(t,e,n={}){const r=new ps;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new e2({next:m=>{h.Nu(),o.enqueueAndForget(()=>WP(i,f)),m.fromCache&&l.source==="server"?u.reject(new X(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new HP(a,h,{includeMetadataChanges:!0,Ka:!0});return zP(i,f)}(await n2(t),t.asyncQueue,e,n,r)),r.promise}function az(t,e){const n=new ps;return t.asyncQueue.enqueueAndForget(async()=>G8(await sz(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="ComponentProvider",OE=new Map;function cz(t,e,n,r,s){return new NB(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,r2(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="firestore.googleapis.com",LE=!0;class VE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s2,this.ssl=LE}else this.host=e.host,this.ssl=e.ssl??LE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L$)throw new X(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=r2(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lB;switch(r.type){case"firstParty":return new hB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=OE.get(n);r&&(Z(lz,"Removing Datastore"),OE.delete(n),r.terminate())}(this),Promise.resolve()}}function uz(t,e,n,r={}){var u;t=vr(t,Qm);const s=jl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(qk(`https://${a}`),Gk("Firestore",!0)),i.host!==s2&&i.host!==a&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Vo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=zt.MOCK_USER;else{h=x3(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new X(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(m)}t._authCredentials=new cB(new BN(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(hd(n,st._jsonSchema))return new st(e,r||null,new ie(Me.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:ut("string",st._jsonSchemaVersion),referencePath:ut("string")};class Ii extends Zi{constructor(e,n,r){super(e,n,Cx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new ie(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function Ym(t,e,...n){if(t=At(t),$N("collection","path",e),t instanceof Qm){const r=Me.fromString(e,...n);return Xb(r),new Ii(t,null,r)}{if(!(t instanceof st||t instanceof Ii))throw new X(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Xb(r),new Ii(t.firestore,null,r)}}function hi(t,e,...n){if(t=At(t),arguments.length===1&&(e=wx.newId()),$N("doc","path",e),t instanceof Qm){const r=Me.fromString(e,...n);return Yb(r),new st(t,null,new ie(r))}{if(!(t instanceof st||t instanceof Ii))throw new X(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Yb(r),new st(t.firestore,t instanceof Ii?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new MP(this,"async_queue_retry"),this._c=()=>{const r=pg();r&&Z(FE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=pg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ps;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;Z(FE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",BE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ux.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ue(47125,{Pc:BE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ea extends Qm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new UE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function dz(t,e){const n=typeof t=="object"?t:Xk(),r=typeof t=="string"?t:Mf,s=ux(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=y3("firestore");i&&uz(s,...i)}return s}function Hx(t){if(t._terminated)throw new X(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hz(t),t._firestoreClient}function hz(t){var r,s,i,o;const e=t._freezeSettings(),n=cz(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Lt.fromBase64String(e))}catch(n){throw new X(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hd(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:ut("string",Un._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(hd(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:ut("string",qr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hd(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new X(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:ut("string",hr._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=/^__.*__$/;class mz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new fd(e,this.data,n,this.fieldTransforms)}}class i2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function o2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{dataSource:t})}}class Kx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Kx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(o2(this.dataSource)&&fz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class pz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qm(e)}createContext(e,n,r,s=!1){return new Kx({dataSource:e,methodName:n,targetDoc:r,path:Rt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(t){const e=t._freezeSettings(),n=qm(t._databaseId);return new pz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function a2(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Qx("Data must be an object, but it was:",o,r);const a=l2(r,o);let l,u;if(i.merge)l=new Tn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Wo(e,f,n);if(!o.contains(m))throw new X(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);d2(h,m)||h.push(m)}l=new Tn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new mz(new fn(a),l,u)}class Jm extends Gx{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jm}}function gz(t,e,n,r){const s=t.createContext(1,e,n);Qx("Data must be an object, but it was:",s,r);const i=[],o=fn.empty();Xi(r,(l,u)=>{const h=u2(e,l,n);u=At(u);const f=s.childContextForFieldPath(h);if(u instanceof Jm)i.push(h);else{const m=yd(u,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Tn(i);return new i2(o,a,s.fieldTransforms)}function yz(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[Wo(e,r,n)],l=[s];if(i.length%2!=0)throw new X(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Wo(e,i[m])),l.push(i[m+1]);const u=[],h=fn.empty();for(let m=a.length-1;m>=0;--m)if(!d2(u,a[m])){const p=a[m];let v=l[m];v=At(v);const y=o.childContextForFieldPath(p);if(v instanceof Jm)u.push(p);else{const b=yd(v,y);b!=null&&(u.push(p),h.set(p,b))}}const f=new Tn(u);return new i2(h,f,o.fieldTransforms)}function vz(t,e,n,r=!1){return yd(n,t.createContext(r?4:3,e))}function yd(t,e){if(c2(t=At(t)))return Qx("Unsupported field value:",e,t),l2(t,e);if(t instanceof Gx)return function(r,s){if(!o2(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=yd(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pe.fromDate(r);return{timestampValue:Bf(s.serializer,i)}}if(r instanceof Pe){const i=new Pe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(s.serializer,i)}}if(r instanceof qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:EP(s.serializer,r._byteString)};if(r instanceof st){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Px(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(o,a){const l=o instanceof hr?o.toArray():o;return{mapValue:{fields:{[XN]:{stringValue:ZN},[Of]:{arrayValue:{values:l.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Ix(a.serializer,h)})}}}}}}(r,s);if(NP(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Lm(r)}`)}(t,e)}function l2(t,e){const n={};return HN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,s)=>{const i=yd(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function c2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pe||t instanceof qr||t instanceof Un||t instanceof st||t instanceof Gx||t instanceof hr||NP(t))}function Qx(t,e,n){if(!c2(n)||!zN(n)){const r=Lm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Wo(t,e,n){if((e=At(e))instanceof qx)return e._internalPath;if(typeof e=="string")return u2(t,e);throw Hf("Field path arguments must be of type string or ",t,!1,void 0,n)}const xz=new RegExp("[~\\*/\\[\\]]");function u2(t,e,n){if(e.search(xz)>=0)throw Hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qx(...e.split("."))._internalPath}catch{throw Hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(z.INVALID_ARGUMENT,a+t+l)}function d2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Of].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>nt(o.doubleValue));return new hr(n)}convertGeoPoint(e){return new qr(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=Vi(e);return new Pe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);ke(kP(r),9688,{name:e});const s=new Du(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||Ss(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends wz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}const $E="@firebase/firestore",zE="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _z(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Wo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _z extends f2{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yx{}class Xx extends Yx{}function m2(t,e,...n){let r=[];e instanceof Yx&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Jx).length,a=i.filter(l=>l instanceof Zm).length;if(o>1||o>0&&a>0)throw new X(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Zm extends Xx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zm(e,n,r)}_apply(e){const n=this._parse(e);return p2(e._query,n),new Zi(e.firestore,e.converter,cv(e._query,n))}_parse(e){const n=Xm(e.firestore);return function(i,o,a,l,u,h,f){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){HE(f,h);const v=[];for(const y of f)v.push(WE(l,i,y));m={arrayValue:{values:v}}}else m=WE(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||HE(f,h),m=vz(a,o,f,h==="in"||h==="not-in");return ct.create(u,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ez(t,e,n){const r=e,s=Wo("where",t);return Zm._create(s,r,n)}class Jx extends Yx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)p2(o,l),o=cv(o,l)}(e._query,n),new Zi(e.firestore,e.converter,cv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zx extends Xx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zx(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(i,o)}(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,GB(e._query,n))}}function Tz(t,e="asc"){const n=e,r=Wo("orderBy",t);return Zx._create(r,n)}class ew extends Xx{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ew(e,n,r)}_apply(e){return new Zi(e.firestore,e.converter,Vf(e._query,this._limit,this._limitType))}}function Sz(t){return xB("limit",t),ew._create("limit",t,"F")}function WE(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new X(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aP(e)&&n.indexOf("/")!==-1)throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!ie.isDocumentKey(r))throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iE(t,new ie(r))}if(n instanceof st)return iE(t,n._key);throw new X(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(n)}.`)}function HE(t,e){if(!Array.isArray(t)||t.length===0)throw new X(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p2(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function g2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class No extends f2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=No._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:ut("string",No._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class Vh extends No{data(e={}){return super.data(e)}}class Ga{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Rc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vh(this._firestore,this._userDataWriter,r.key,r,new Rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Vh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Rc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Vh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Rc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Cz(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:ut("string",Ga._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){t=vr(t,st);const e=vr(t.firestore,ea),n=Hx(e);return iz(n,t._key).then(r=>kz(e,t,r))}function v2(t){t=vr(t,Zi);const e=vr(t.firestore,ea),n=Hx(e),r=new h2(e);return bz(t._query),oz(n,t._query).then(s=>new Ga(e,r,t,s))}function yg(t,e,n){t=vr(t,st);const r=vr(t.firestore,ea),s=g2(t.converter,e,n),i=Xm(r);return ep(r,[a2(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qn.none())])}function Iz(t,e,n,...r){t=vr(t,st);const s=vr(t.firestore,ea),i=Xm(s);let o;return o=typeof(e=At(e))=="string"||e instanceof qx?yz(i,"updateDoc",t._key,e,n,r):gz(i,"updateDoc",t._key,e),ep(s,[o.toMutation(t._key,qn.exists(!0))])}function Az(t){return ep(vr(t.firestore,ea),[new Ax(t._key,qn.none())])}function x2(t,e){const n=vr(t.firestore,ea),r=hi(t),s=g2(t.converter,e),i=Xm(t.firestore);return ep(n,[a2(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function ep(t,e){const n=Hx(t);return az(n,e)}function kz(t,e,n){const r=n.docs.get(e._key),s=new h2(t);return new No(t,s,e._key,r,new Rc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){aB(Dl),ml(new Fo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ea(new uB(r.getProvider("auth-internal")),new fB(o,r.getProvider("app-check-internal")),PB(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Si($E,zE,e),Si($E,zE,"esm2020")})();var Nz="firebase",Pz="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(Nz,Pz,"app");const Rz={apiKey:"AIzaSyDTg49NXgrXaAztlA_9i8ue1bve_DJ6KiY",authDomain:"agroguard-ai-e47e0.firebaseapp.com",projectId:"agroguard-ai-e47e0",storageBucket:"agroguard-ai-e47e0.firebasestorage.app",messagingSenderId:"268426361905",appId:"1:268426361905:web:e65272099e4a5cb0e0a910"},w2=Yk(Rz),Ca=iB(w2),$n=dz(w2);Ca.settings={appVerificationDisabledForTesting:!1};const qE=window.fetch;window.fetch=async(...t)=>{try{return await qE(...t)}catch(e){return console.warn("Network request failed, retrying...",e),await new Promise(n=>setTimeout(n,1e3)),await qE(...t)}};const jz=Object.freeze(Object.defineProperty({__proto__:null,auth:Ca,db:$n},Symbol.toStringTag,{value:"Module"})),Fh=!1,hn={info:(t,...e)=>{},warn:(t,...e)=>{},error:(t,e,...n)=>{},success:(t,...e)=>{},api:(t,e,n,r)=>{},component:(t,e,n)=>{},auth:(t,e)=>{},firebase:(t,e)=>{},navigation:(t,e,n)=>{},performance:(t,e)=>{}},Dz={isEnabled:!1,log:(t,...e)=>{}},_2=w.createContext(void 0);function b2({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(null),[i,o]=w.useState(!0);w.useEffect(()=>{const p=setTimeout(()=>{i&&o(!1)},1e4);return()=>clearTimeout(p)},[i]);const a=w.useCallback(async p=>{try{hn.firebase("fetchUserData",{uid:p.uid});const v=await y2(hi($n,"users",p.uid));if(v.exists()){const y=v.data(),b={uid:p.uid,email:p.email,role:y.role||"farmer",language:y.language,location:y.location};s(b),hn.firebase("User data loaded from Firestore",b)}else{const y={uid:p.uid,email:p.email,role:"farmer"};await yg(hi($n,"users",p.uid),{...y,createdAt:new Date().toISOString()}),s(y),hn.firebase("Created new user document",y)}}catch{const y={uid:p.uid,email:p.email,role:"farmer"};s(y)}},[]);w.useEffect(()=>{let p=!0,v;const y=GU(Ca,async b=>{p&&(hn.auth("Auth state changed",{hasUser:!!b,uid:b==null?void 0:b.uid}),v&&clearTimeout(v),v=setTimeout(async()=>{if(p)try{n(b),b?await a(b):(s(null),hn.auth("User signed out, cleared user data")),p&&(o(!1),hn.auth("Auth loading complete",{hasUser:!!b}))}catch{p&&o(!1)}},200))},b=>{p&&o(!1)});return()=>{p=!1,v&&clearTimeout(v),y()}},[a]);const l=w.useCallback(async(p,v)=>{const y=await WU(Ca,p,v);await a(y.user)},[a]),u=w.useCallback(async(p,v)=>{const y=await zU(Ca,p,v),b={uid:y.user.uid,email:y.user.email,role:"farmer"};await yg(hi($n,"users",y.user.uid),{...b,createdAt:new Date().toISOString()}),s(b)},[]),h=w.useCallback(async()=>{await KU(Ca),s(null),n(null)},[]),f=w.useCallback(async p=>{if(e)try{await yg(hi($n,"users",e.uid),p,{merge:!0}),s(v=>v?{...v,...p}:null)}catch(v){throw console.error("Error updating user data:",v),v}},[e]),m={user:e,userData:r,loading:i,signIn:l,signUp:u,signOut:h,updateUserData:f,isAdmin:(r==null?void 0:r.role)==="admin"};return c.jsx(_2.Provider,{value:m,children:t})}function Rn(){const t=w.useContext(_2);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Mz=Object.freeze(Object.defineProperty({__proto__:null,AuthProvider:b2,useAuth:Rn},Symbol.toStringTag,{value:"Module"})),Oz={appName:{en:"AgroGuard AI",om:"AgroGuard AI",am:" AI"},tagline:{en:"Protect Your Crops",om:"Midhaan Kee Eegi",am:" "},loading:{en:"Loading...",om:"Fe'aa jira...",am:" ..."},login:{en:"Login",om:"Seeni",am:""},signup:{en:"Sign Up",om:"Galmaa'i",am:""},logout:{en:"Logout",om:"Ba'i",am:""},email:{en:"Email",om:"Email",am:""},password:{en:"Password",om:"Jecha Iccitii",am:" "},confirmPassword:{en:"Confirm Password",om:"Jecha Iccitii Mirkaneessi",am:"  "},welcomeBack:{en:"Welcome Back",om:"Baga Deebitee",am:"  "},createAccount:{en:"Create Account",om:"Herrega Uumi",am:" "},selectLanguage:{en:"Select Your Language",om:"Afaan Kee Filadhu",am:" "},english:{en:"English",om:"Ingliffaa",am:""},afaanOromo:{en:"Afaan Oromo",om:"Afaan Oromoo",am:""},amharic:{en:"Amharic",om:"Amaariffaa",am:""},continue:{en:"Continue",om:"Itti Fufi",am:""},selectLocation:{en:"Select Your Location",om:"Bakka Kee Filadhu",am:" "},locationRequired:{en:"Location is required to see local markets",om:"Gabaa naannoo ilaaluuf bakka barbaachisa",am:"    "},home:{en:"Home",om:"Mana",am:""},scan:{en:"Scan",om:"Skaani",am:""},diseases:{en:"Diseases",om:"Dhukkuboota",am:""},markets:{en:"Markets",om:"Gabaa",am:""},profile:{en:"Profile",om:"Eenyummaa",am:""},commonDiseases:{en:"Common Diseases",om:"Dhukkuboota Beekamoo",am:" "},searchDisease:{en:"Search diseases...",om:"Dhukkuba barbaadi...",am:" ..."},symptoms:{en:"Symptoms",om:"Mallattoo",am:""},treatment:{en:"Treatment",om:"Yaalii",am:""},chemicals:{en:"Chemicals",om:"Keemikaala",am:""},dosage:{en:"Dosage",om:"Safartuulee",am:""},safetyInstructions:{en:"Safety Instructions",om:"Qajeelfama Nageenya",am:" "},scanCrop:{en:"Scan Your Crop",om:"Midhaan Kee Skaani",am:" "},takePhoto:{en:"Take Photo",om:"Suuraa Kaasi",am:" "},uploadImage:{en:"Upload Image",om:"Suuraa Olkaa'i",am:" "},analyzing:{en:"Analyzing...",om:"Xiinxalaa jira...",am:" ..."},diseaseDetected:{en:"Disease Detected",om:"Dhukkubni Argame",am:" "},confidence:{en:"Confidence",om:"Amanamummaa",am:""},lowConfidence:{en:"Low confidence - Please consult an expert",om:"Amanamummaa gadi - Oggeessa mariisiisi",am:"  -   "},sentForReview:{en:"Sent for expert review",om:"Ilaalcha oggeessaaf ergame",am:"  "},availableAt:{en:"Available at",om:"Argama",am:" "},price:{en:"Price",om:"Gatii",am:""},etb:{en:"ETB",om:"ETB",am:""},askQuestion:{en:"Ask a Question",om:"Gaaffii Gaafadhu",am:" "},submitQuestion:{en:"Submit Question",om:"Gaaffii Ergi",am:" "},questionSent:{en:"Question sent to experts",om:"Gaaffiin oggeessota ergame",am:"  "},adminDashboard:{en:"Admin Dashboard",om:"Daashboordii Bulchiinsaa",am:" "},manageDiseases:{en:"Manage Diseases",om:"Dhukkuboota Bulchi",am:" "},manageChemicals:{en:"Manage Chemicals",om:"Keemikaala Bulchi",am:" "},manageMarkets:{en:"Manage Markets",om:"Gabaa Bulchi",am:" "},pendingReviews:{en:"Pending Reviews",om:"Ilaalcha Eeguu",am:"   "},userComments:{en:"User Comments",om:"Yaada Fayyadamtoota",am:" "},approve:{en:"Approve",om:"Fudhi",am:""},reject:{en:"Reject",om:"Didi",am:""},add:{en:"Add",om:"Ida'i",am:""},edit:{en:"Edit",om:"Sirreessi",am:""},delete:{en:"Delete",om:"Haqi",am:""},save:{en:"Save",om:"Olkaa'i",am:""},cancel:{en:"Cancel",om:"Haqi",am:""},online:{en:"Online",om:"Toora irra",am:""},offline:{en:"Offline",om:"Toora ala",am:" "},syncing:{en:"Syncing...",om:"Walsimsiisaa jira...",am:" ..."}},E2=w.createContext(void 0);function Lz({children:t}){const{userData:e,updateUserData:n}=Rn(),[r,s]=w.useState("en");w.useEffect(()=>{const a=localStorage.getItem("agroguard_language");a?s(a):e!=null&&e.language&&s(e.language)},[e==null?void 0:e.language]);const i=async a=>{s(a),localStorage.setItem("agroguard_language",a),e&&await n({language:a})},o=a=>{const l=Oz[a];return l?l[r]||l.en:(console.warn(`Missing translation for key: ${a}`),a)};return c.jsx(E2.Provider,{value:{language:r,setLanguage:i,t:o},children:t})}function xt(){const t=w.useContext(E2);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function Vz({children:t,defaultTheme:e="system",...n}){return c.jsx(mL,{attribute:"class",defaultTheme:e,enableSystem:!0,disableTransitionOnChange:!1,...n,children:t})}const Fz=IA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-base font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-5 [&_svg]:shrink-0 active:scale-[0.98] touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md",outline:"border-2 border-primary bg-background text-primary hover:bg-primary/10",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",farmer:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg min-h-[56px] px-6 text-lg","farmer-secondary":"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-lg min-h-[56px] px-6 text-lg","farmer-outline":"border-2 border-primary bg-transparent text-primary hover:bg-primary/10 min-h-[56px] px-6 text-lg",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-md",icon:"bg-primary text-primary-foreground hover:bg-primary/90 rounded-full","icon-outline":"border-2 border-primary text-primary hover:bg-primary/10 rounded-full",scan:"bg-primary text-primary-foreground hover:bg-primary/90 rounded-full shadow-xl min-w-[72px] min-h-[72px]"},size:{default:"h-12 px-5 py-3",sm:"h-10 rounded-lg px-4 text-sm",lg:"h-14 rounded-xl px-8 text-lg",xl:"h-16 rounded-2xl px-10 text-xl",icon:"h-12 w-12","icon-lg":"h-16 w-16","icon-xl":"h-20 w-20"}},defaultVariants:{variant:"default",size:"default"}}),re=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?x4:"button";return c.jsx(o,{className:rn(Fz({variant:e,size:n,className:t})),ref:i,...s})});re.displayName="Button";class Uz extends w.Component{constructor(){super(...arguments);oa(this,"state",{hasError:!1});oa(this,"handleReload",()=>{window.location.reload()});oa(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0,errorId:void 0})});oa(this,"copyErrorDetails",()=>{var r;if(!this.state.error)return;const n={errorId:this.state.errorId,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,error:{name:this.state.error.name,message:this.state.error.message,stack:this.state.error.stack},componentStack:(r=this.state.errorInfo)==null?void 0:r.componentStack};navigator.clipboard.writeText(JSON.stringify(n,null,2)).then(()=>hn.success("Error details copied to clipboard")).catch(s=>hn.error("Failed to copy error details",s))})}static getDerivedStateFromError(n){const r=`ERR_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return{hasError:!0,error:n,errorId:r}}componentDidCatch(n,r){this.setState({errorInfo:r}),n.message.includes("Firebase")||n.message.includes("auth")||n.message.includes("firestore"),n.message.includes("theme")||n.message.includes("next-themes"),n.message.includes("network")||n.message.includes("fetch"),n.message.includes("chunk")||n.message.includes("loading")}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:c.jsxs("div",{className:"text-center max-w-2xl",children:[c.jsx(Hn,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),c.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"The application encountered an unexpected error. Please try refreshing the page."}),Fh,c.jsxs("div",{className:"flex gap-3 justify-center mb-6",children:[c.jsxs(re,{onClick:this.handleReload,variant:"default",children:[c.jsx(Al,{className:"w-4 h-4 mr-2"}),"Reload Page"]}),c.jsx(re,{onClick:this.handleReset,variant:"outline",children:"Try Again"}),Fh]}),Fh]})}):this.props.children}}function Bz({show:t=Fh}){const[e,n]=w.useState(!1),[r,s]=w.useState([]),{user:i,userData:o,loading:a}=Rn(),{language:l}=xt();if(w.useEffect(()=>{if(!t)return;const p=console.log,v=console.error,y=console.warn;return console.log=(...b)=>{p(...b),s(_=>[..._.slice(-49),`[LOG] ${b.join(" ")}`])},console.error=(...b)=>{v(...b),s(_=>[..._.slice(-49),`[ERROR] ${b.join(" ")}`])},console.warn=(...b)=>{y(...b),s(_=>[..._.slice(-49),`[WARN] ${b.join(" ")}`])},()=>{console.log=p,console.error=v,console.warn=y}},[t]),!t)return null;const u=()=>s([]),h=()=>{const p={timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,user:i?{uid:i.uid,email:i.email}:null,userData:o,language:l,logs:r.slice(-100)},v=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),y=URL.createObjectURL(v),b=document.createElement("a");b.href=y,b.download=`agroguard-debug-${Date.now()}.json`,b.click(),URL.revokeObjectURL(y)},f=()=>{throw new Error("Test error for debugging")},m=async()=>{try{const p=await fetch("/api/health");hn.success("API test successful",await p.json())}catch{}};return c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>n(!e),style:{position:"fixed",top:"10px",right:"10px",zIndex:1e4,backgroundColor:"#007acc",color:"white",border:"none",borderRadius:"50%",width:"50px",height:"50px",fontSize:"20px",cursor:"pointer",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},title:"Toggle Dev Tools",children:""}),e&&c.jsxs("div",{style:{position:"fixed",top:"70px",right:"10px",width:"400px",maxHeight:"80vh",backgroundColor:"#1e1e1e",color:"#ffffff",border:"1px solid #333",borderRadius:"8px",zIndex:9999,fontFamily:"monospace",fontSize:"12px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},children:[c.jsxs("div",{style:{backgroundColor:"#007acc",padding:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("span",{children:" AgroGuard Dev Tools"}),c.jsx("button",{onClick:()=>n(!1),style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"16px"},children:""})]}),c.jsxs("div",{style:{padding:"10px",maxHeight:"60vh",overflowY:"auto"},children:[c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("h4",{style:{margin:"0 0 5px 0",color:"#4CAF50"},children:" System Info"}),c.jsxs("div",{style:{fontSize:"11px",lineHeight:"1.4"},children:[c.jsxs("div",{children:[" URL: ",window.location.pathname]}),c.jsxs("div",{children:[" User: ",i?`${i.email} (${i.uid.slice(0,8)}...)`:"Not logged in"]}),c.jsxs("div",{children:[" Loading: ",a?"Yes":"No"]}),c.jsxs("div",{children:[" Language: ",l]}),c.jsxs("div",{children:[" Location: ",(o==null?void 0:o.location)||"Not set"]}),c.jsxs("div",{children:[" Mode: ","production"]}),c.jsxs("div",{children:[" Debug: ","Disabled"]})]})]}),c.jsxs("div",{style:{marginBottom:"15px"},children:[c.jsx("h4",{style:{margin:"0 0 5px 0",color:"#FF9800"},children:" Quick Actions"}),c.jsxs("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:[c.jsx("button",{onClick:u,style:{padding:"5px 10px",backgroundColor:"#333",color:"white",border:"1px solid #555",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Clear Logs"}),c.jsx("button",{onClick:h,style:{padding:"5px 10px",backgroundColor:"#333",color:"white",border:"1px solid #555",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Export Debug"}),c.jsx("button",{onClick:m,style:{padding:"5px 10px",backgroundColor:"#333",color:"white",border:"1px solid #555",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Test API"}),c.jsx("button",{onClick:f,style:{padding:"5px 10px",backgroundColor:"#d32f2f",color:"white",border:"1px solid #555",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Test Error"})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{style:{margin:"0 0 5px 0",color:"#2196F3"},children:[" Console Logs (",r.length,")"]}),c.jsx("div",{style:{backgroundColor:"#000",padding:"10px",borderRadius:"4px",maxHeight:"300px",overflowY:"auto",fontSize:"10px",lineHeight:"1.3"},children:r.length===0?c.jsx("div",{style:{color:"#666"},children:"No logs yet..."}):r.map((p,v)=>c.jsx("div",{style:{marginBottom:"2px",color:p.includes("[ERROR]")?"#f44336":p.includes("[WARN]")?"#ff9800":p.includes("[SUCCESS]")?"#4caf50":"#fff"},children:p},v))})]})]})]})]})}function $z(){return w.useState({renderCount:0,lastRenderTime:0,averageRenderTime:0,networkRequests:0,errors:0}),w.useState(!1),w.useEffect(()=>{},[]),null}function zz(){const[t,e]=w.useState(null),[n,r]=w.useState(!1),[s,i]=w.useState(!1);w.useEffect(()=>{const l=window.matchMedia("(display-mode: standalone)").matches,u=window.navigator.standalone===!0;if(l||u){i(!0);return}const h=p=>{p.preventDefault(),e(p),r(!0)},f=()=>{i(!0),r(!1),e(null)};window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",f);const m=setTimeout(()=>{!s&&t&&r(!0)},3e4);return()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",f),clearTimeout(m)}},[t,s]);const o=async()=>{if(t)try{hn.info("Showing PWA install prompt"),await t.prompt();const{outcome:l}=await t.userChoice;hn.info(`PWA install prompt result: ${l}`),l==="accepted"&&r(!1),e(null)}catch{}},a=()=>{r(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return s||!n||!t||sessionStorage.getItem("pwa-install-dismissed")?null:c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:c.jsx("div",{className:"bg-card border border-border rounded-lg shadow-lg p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(CO,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-foreground text-sm",children:"Install AgroGuard AI"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Add to your home screen for quick access and offline use"}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[c.jsxs(re,{onClick:o,size:"sm",className:"flex-1",children:[c.jsx(wO,{className:"w-4 h-4 mr-1"}),"Install"]}),c.jsx(re,{onClick:a,variant:"outline",size:"sm",children:c.jsx(vn,{className:"w-4 h-4"})})]})]})]})})})}const tw=w.createContext({});function nw(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const T2=typeof window<"u",S2=T2?w.useLayoutEffect:w.useEffect,tp=w.createContext(null);function rw(t,e){t.indexOf(e)===-1&&t.push(e)}function sw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jr=(t,e,n)=>n>e?e:n<t?t:n;let np=()=>{},_l=()=>{};const Is={},C2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function I2(t){return typeof t=="object"&&t!==null}const A2=t=>/^0[^.\s]+$/u.test(t);function iw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gn=t=>t,Wz=(t,e)=>n=>e(t(n)),vd=(...t)=>t.reduce(Wz),Fu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ow{constructor(){this.subscriptions=[]}add(e){return rw(this.subscriptions,e),()=>sw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=t=>t*1e3,zn=t=>t/1e3;function k2(t,e){return e?t*(1e3/e):0}const N2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Hz=1e-7,qz=12;function Gz(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=N2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Hz&&++a<qz);return o}function xd(t,e,n,r){if(t===e&&n===r)return Gn;const s=i=>Gz(i,0,1,t,n);return i=>i===0||i===1?i:N2(s(i),e,r)}const P2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,R2=t=>e=>1-t(1-e),j2=xd(.33,1.53,.69,.99),aw=R2(j2),D2=P2(aw),M2=t=>(t*=2)<1?.5*aw(t):.5*(2-Math.pow(2,-10*(t-1))),lw=t=>1-Math.sin(Math.acos(t)),O2=R2(lw),L2=P2(lw),Kz=xd(.42,0,1,1),Qz=xd(0,0,.58,1),V2=xd(.42,0,.58,1),Yz=t=>Array.isArray(t)&&typeof t[0]!="number",F2=t=>Array.isArray(t)&&typeof t[0]=="number",GE={linear:Gn,easeIn:Kz,easeInOut:V2,easeOut:Qz,circIn:lw,circInOut:L2,circOut:O2,backIn:aw,backInOut:D2,backOut:j2,anticipate:M2},Xz=t=>typeof t=="string",KE=t=>{if(F2(t)){_l(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,s]=t;return xd(e,n,r,s)}else if(Xz(t))return _l(GE[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),GE[t];return t},uh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],QE={value:null,addProjectionMetrics:null};function Jz(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){o.has(f)&&(h.schedule(f),t()),l++,f(a)}const h={schedule:(f,m=!1,p=!1)=>{const y=p&&s?n:r;return m&&o.add(f),y.has(f)||y.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&QE.value&&QE.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,h.process(f))}};return h}const Zz=40;function U2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=uh.reduce((x,N)=>(x[N]=Jz(i,e?N:void 0),x),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:f,preRender:m,render:p,postRender:v}=o,y=()=>{const x=Is.useManualTiming?s.timestamp:performance.now();n=!1,Is.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,Zz),1)),s.timestamp=x,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),h.process(s),f.process(s),m.process(s),p.process(s),v.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,s.isProcessing||t(y)};return{schedule:uh.reduce((x,N)=>{const C=o[N];return x[N]=(j,I=!1,S=!1)=>(n||b(),C.schedule(j,I,S)),x},{}),cancel:x=>{for(let N=0;N<uh.length;N++)o[uh[N]].cancel(x)},state:s,steps:o}}const{schedule:ze,cancel:zi,state:Nt,steps:vg}=U2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0);let Uh;function e7(){Uh=void 0}const en={now:()=>(Uh===void 0&&en.set(Nt.isProcessing||Is.useManualTiming?Nt.timestamp:performance.now()),Uh),set:t=>{Uh=t,queueMicrotask(e7)}},B2=t=>e=>typeof e=="string"&&e.startsWith(t),$2=B2("--"),t7=B2("var(--"),cw=t=>t7(t)?n7.test(t.split("/*")[0].trim()):!1,n7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function YE(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Uu={...Bl,transform:t=>Jr(0,1,t)},dh={...Bl,default:1},eu=t=>Math.round(t*1e5)/1e5,uw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function r7(t){return t==null}const s7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dw=(t,e)=>n=>!!(typeof n=="string"&&s7.test(n)&&n.startsWith(t)||e&&!r7(n)&&Object.prototype.hasOwnProperty.call(n,e)),z2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(uw);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},i7=t=>Jr(0,255,t),xg={...Bl,transform:t=>Math.round(i7(t))},wo={test:dw("rgb","red"),parse:z2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xg.transform(t)+", "+xg.transform(e)+", "+xg.transform(n)+", "+eu(Uu.transform(r))+")"};function o7(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const xv={test:dw("#"),parse:o7,transform:wo.transform},wd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gs=wd("deg"),Kr=wd("%"),te=wd("px"),a7=wd("vh"),l7=wd("vw"),XE={...Kr,parse:t=>Kr.parse(t)/100,transform:t=>Kr.transform(t*100)},Ia={test:dw("hsl","hue"),parse:z2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kr.transform(eu(e))+", "+Kr.transform(eu(n))+", "+eu(Uu.transform(r))+")"},at={test:t=>wo.test(t)||xv.test(t)||Ia.test(t),parse:t=>wo.test(t)?wo.parse(t):Ia.test(t)?Ia.parse(t):xv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wo.transform(t):Ia.transform(t),getAnimatableNone:t=>{const e=at.parse(t);return e.alpha=0,at.transform(e)}},c7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uw))==null?void 0:e.length)||0)+(((n=t.match(c7))==null?void 0:n.length)||0)>0}const W2="number",H2="color",d7="var",h7="var(",JE="${}",f7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(f7,l=>(at.test(l)?(r.color.push(i),s.push(H2),n.push(at.parse(l))):l.startsWith(h7)?(r.var.push(i),s.push(d7),n.push(l)):(r.number.push(i),s.push(W2),n.push(parseFloat(l))),++i,JE)).split(JE);return{values:n,split:a,indexes:r,types:s}}function q2(t){return Bu(t).values}function G2(t){const{split:e,types:n}=Bu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===W2?i+=eu(s[o]):a===H2?i+=at.transform(s[o]):i+=s[o]}return i}}const m7=t=>typeof t=="number"?0:at.test(t)?at.getAnimatableNone(t):t;function p7(t){const e=q2(t);return G2(t)(e.map(m7))}const Wi={test:u7,parse:q2,createTransformer:G2,getAnimatableNone:p7};function wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=wg(l,a,t+1/3),i=wg(l,a,t),o=wg(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function qf(t,e){return n=>n>0?e:t}const Qe=(t,e,n)=>t+(e-t)*n,_g=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},y7=[xv,wo,Ia],v7=t=>y7.find(e=>e.test(t));function ZE(t){const e=v7(t);if(np(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===Ia&&(n=g7(n)),n}const eT=(t,e)=>{const n=ZE(t),r=ZE(e);if(!n||!r)return qf(t,e);const s={...n};return i=>(s.red=_g(n.red,r.red,i),s.green=_g(n.green,r.green,i),s.blue=_g(n.blue,r.blue,i),s.alpha=Qe(n.alpha,r.alpha,i),wo.transform(s))},wv=new Set(["none","hidden"]);function x7(t,e){return wv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function w7(t,e){return n=>Qe(t,e,n)}function hw(t){return typeof t=="number"?w7:typeof t=="string"?cw(t)?qf:at.test(t)?eT:E7:Array.isArray(t)?K2:typeof t=="object"?at.test(t)?eT:_7:qf}function K2(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>hw(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function _7(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=hw(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function b7(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const E7=(t,e)=>{const n=Wi.createTransformer(e),r=Bu(t),s=Bu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?wv.has(t)&&!s.values.length||wv.has(e)&&!r.values.length?x7(t,e):vd(K2(b7(r,s),s.values),n):(np(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),qf(t,e))};function Q2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qe(t,e,n):hw(t)(t,e)}const T7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ze.update(e,n),stop:()=>zi(e),now:()=>Nt.isProcessing?Nt.timestamp:en.now()}},Y2=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gf=2e4;function fw(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gf;)e+=n,r=t.next(e);return e>=Gf?1/0:e}function S7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(fw(r),Gf);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:zn(s)}}const C7=5;function X2(t,e,n){const r=Math.max(e-C7,0);return k2(n-t(r),e-r)}const Ge={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bg=.001;function I7({duration:t=Ge.duration,bounce:e=Ge.bounce,velocity:n=Ge.velocity,mass:r=Ge.mass}){let s,i;np(t<=Gr(Ge.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=Jr(Ge.minDamping,Ge.maxDamping,o),t=Jr(Ge.minDuration,Ge.maxDuration,zn(t)),o<1?(s=u=>{const h=u*o,f=h*t,m=h-n,p=_v(u,o),v=Math.exp(-f);return bg-m/p*v},i=u=>{const f=u*o*t,m=f*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-f),y=_v(Math.pow(u,2),o);return(-s(u)+bg>0?-1:1)*((m-p)*v)/y}):(s=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-bg+h*f},i=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,l=k7(s,i,a);if(t=Gr(t),isNaN(l))return{stiffness:Ge.stiffness,damping:Ge.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const A7=12;function k7(t,e,n){let r=n;for(let s=1;s<A7;s++)r=r-t(r)/e(r);return r}function _v(t,e){return t*Math.sqrt(1-e*e)}const N7=["duration","bounce"],P7=["stiffness","damping","mass"];function tT(t,e){return e.some(n=>t[n]!==void 0)}function R7(t){let e={velocity:Ge.velocity,stiffness:Ge.stiffness,damping:Ge.damping,mass:Ge.mass,isResolvedFromDuration:!1,...t};if(!tT(t,P7)&&tT(t,N7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Jr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ge.mass,stiffness:s,damping:i}}else{const n=I7(t);e={...e,...n,mass:Ge.mass},e.isResolvedFromDuration=!0}return e}function Kf(t=Ge.visualDuration,e=Ge.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:f,velocity:m,isResolvedFromDuration:p}=R7({...n,velocity:-zn(n.velocity||0)}),v=m||0,y=u/(2*Math.sqrt(l*h)),b=o-i,_=zn(Math.sqrt(l/h)),T=Math.abs(b)<5;r||(r=T?Ge.restSpeed.granular:Ge.restSpeed.default),s||(s=T?Ge.restDelta.granular:Ge.restDelta.default);let x;if(y<1){const C=_v(_,y);x=j=>{const I=Math.exp(-y*_*j);return o-I*((v+y*_*b)/C*Math.sin(C*j)+b*Math.cos(C*j))}}else if(y===1)x=C=>o-Math.exp(-_*C)*(b+(v+_*b)*C);else{const C=_*Math.sqrt(y*y-1);x=j=>{const I=Math.exp(-y*_*j),S=Math.min(C*j,300);return o-I*((v+y*_*b)*Math.sinh(S)+C*b*Math.cosh(S))/C}}const N={calculatedDuration:p&&f||null,next:C=>{const j=x(C);if(p)a.done=C>=f;else{let I=C===0?v:0;y<1&&(I=C===0?Gr(v):X2(x,C,j));const S=Math.abs(I)<=r,k=Math.abs(o-j)<=s;a.done=S&&k}return a.value=a.done?o:j,a},toString:()=>{const C=Math.min(fw(N),Gf),j=Y2(I=>N.next(C*I).value,C,30);return C+"ms "+j},toTransition:()=>{}};return N}Kf.applyToOptions=t=>{const e=S7(t,100,Kf);return t.ease=e.ease,t.duration=Gr(e.duration),t.type="keyframes",t};function bv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,v=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const b=f+y,_=o===void 0?b:o(b);_!==b&&(y=_-f);const T=S=>-y*Math.exp(-S/r),x=S=>_+T(S),N=S=>{const k=T(S),R=x(S);m.done=Math.abs(k)<=u,m.value=m.done?_:R};let C,j;const I=S=>{p(m.value)&&(C=S,j=Kf({keyframes:[m.value,v(m.value)],velocity:X2(x,S,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return I(0),{calculatedDuration:null,next:S=>{let k=!1;return!j&&C===void 0&&(k=!0,N(S),I(S)),C!==void 0&&S>=C?j.next(S-C):(!k&&N(S),m)}}}function j7(t,e,n){const r=[],s=n||Is.mix||Q2,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Gn:e;a=vd(l,a)}r.push(a)}return r}function D7(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(_l(i===e.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=j7(e,r,s),l=a.length,u=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=Fu(t[f],t[f+1],h);return a[f](m)};return n?h=>u(Jr(t[0],t[i-1],h)):u}function M7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Fu(0,e,r);t.push(Qe(n,1,s))}}function O7(t){const e=[0];return M7(e,t.length-1),e}function L7(t,e){return t.map(n=>n*e)}function V7(t,e){return t.map(()=>e||V2).splice(0,t.length-1)}function tu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Yz(r)?r.map(KE):KE(r),i={done:!1,value:e[0]},o=L7(n&&n.length===e.length?n:O7(e),t),a=D7(o,e,{ease:Array.isArray(s)?s:V7(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const F7=t=>t!==null;function mw(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(F7),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const U7={decay:bv,inertia:bv,tween:tu,keyframes:tu,spring:Kf};function J2(t){typeof t.type=="string"&&(t.type=U7[t.type])}class pw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const B7=t=>t/100;class gw extends pw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==en.now()&&this.tick(en.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;J2(e);const{type:n=tu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||tu;l!==tu&&typeof a[0]!="number"&&(this.mixKeyframes=vd(B7,Q2(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=fw(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:m,repeatDelay:p,type:v,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,N=r;if(f){const S=Math.min(this.currentTime,s)/a;let k=Math.floor(S),R=S%1;!R&&S>=1&&(R=1),R===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(m==="reverse"?(R=1-R,p&&(R-=p/a)):m==="mirror"&&(N=o)),x=Jr(0,1,R)*a}const C=T?{done:!1,value:h[0]}:N.next(x);i&&(C.value=i(C.value));let{done:j}=C;!T&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return I&&v!==bv&&(C.value=mw(h,this.options,b,this.speed)),y&&y(C.value),I&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return zn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zn(e)}get time(){return zn(this.currentTime)}set time(e){var n;e=Gr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(en.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=zn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=T7,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(en.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function $7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _o=t=>t*180/Math.PI,Ev=t=>{const e=_o(Math.atan2(t[1],t[0]));return Tv(e)},z7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ev,rotateZ:Ev,skewX:t=>_o(Math.atan(t[1])),skewY:t=>_o(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Tv=t=>(t=t%360,t<0&&(t+=360),t),nT=Ev,rT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),W7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rT,scaleY:sT,scale:t=>(rT(t)+sT(t))/2,rotateX:t=>Tv(_o(Math.atan2(t[6],t[5]))),rotateY:t=>Tv(_o(Math.atan2(-t[2],t[0]))),rotateZ:nT,rotate:nT,skewX:t=>_o(Math.atan(t[4])),skewY:t=>_o(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Sv(t){return t.includes("scale")?1:0}function Cv(t,e){if(!t||t==="none")return Sv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=W7,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=z7,s=a}if(!s)return Sv(e);const i=r[e],o=s[1].split(",").map(q7);return typeof i=="function"?i(o):o[i]}const H7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cv(n,e)};function q7(t){return parseFloat(t.trim())}const $l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zl=new Set($l),iT=t=>t===Bl||t===te,G7=new Set(["x","y","z"]),K7=$l.filter(t=>!G7.has(t));function Q7(t){const e=[];return K7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const fi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cv(e,"x"),y:(t,{transform:e})=>Cv(e,"y")};fi.translateX=fi.x;fi.translateY=fi.y;const Po=new Set;let Iv=!1,Av=!1,kv=!1;function Z2(){if(Av){const t=Array.from(Po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Q7(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Av=!1,Iv=!1,Po.forEach(t=>t.complete(kv)),Po.clear()}function eR(){Po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Av=!0)})}function Y7(){kv=!0,eR(),Z2(),kv=!1}class yw{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Po.add(this),Iv||(Iv=!0,ze.read(eR),ze.resolveKeyframes(Z2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}$7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Po.delete(this)}cancel(){this.state==="scheduled"&&(Po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X7=t=>t.startsWith("--");function J7(t,e,n){X7(e)?t.style.setProperty(e,n):t.style[e]=n}const Z7=iw(()=>window.ScrollTimeline!==void 0),eW={};function tW(t,e){const n=iw(t);return()=>eW[e]??n()}const tR=tW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jc([0,.65,.55,1]),circOut:jc([.55,0,1,.45]),backIn:jc([.31,.01,.66,-.59]),backOut:jc([.33,1.53,.69,.99])};function nR(t,e){if(t)return typeof t=="function"?tR()?Y2(t,e):"ease-out":F2(t)?jc(t):Array.isArray(t)?t.map(n=>nR(n,e)||oT.easeOut):oT[t]}function nW(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:n};l&&(h.offset=l);const f=nR(a,s);Array.isArray(f)&&(h.easing=f);const m={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(h,m)}function rR(t){return typeof t=="function"&&"applyToOptions"in t}function rW({type:t,...e}){return rR(t)&&tR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sW extends pw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,_l(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const u=rW(e);this.animation=nW(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=mw(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):J7(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return zn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+zn(e)}get time(){return zn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Gr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Z7()?(this.animation.timeline=e,Gn):n(this)}}const sR={anticipate:M2,backInOut:D2,circInOut:L2};function iW(t){return t in sR}function oW(t){typeof t.ease=="string"&&iW(t.ease)&&(t.ease=sR[t.ease])}const Eg=10;class aW extends sW{constructor(e){oW(e),J2(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new gw({...o,autoplay:!1}),l=Math.max(Eg,en.now()-this.startTime),u=Jr(0,Eg,l-Eg);n.setWithVelocity(a.sample(Math.max(0,l-u)).value,a.sample(l).value,u),a.stop()}}const aT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wi.test(t)||t==="0")&&!t.startsWith("url("));function lW(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cW(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=aT(s,e),a=aT(i,e);return np(o===a,`You are trying to animate ${e} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:lW(t)||(n==="spring"||rR(n))&&r}function Nv(t){t.duration=0,t.type="keyframes"}const uW=new Set(["opacity","clipPath","filter","transform"]),dW=iw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hW(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return dW()&&n&&uW.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const fW=40;class mW extends pw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...f}){var v;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=en.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:h,...f},p=(h==null?void 0:h.KeyframeResolver)||yw;this.keyframeResolver=new p(a,(y,b,_)=>this.onKeyframesResolved(y,b,m,!_),l,u,h),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,s){var b,_;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=en.now(),cW(e,i,o,a)||((Is.instantAnimations||!l)&&(h==null||h(mw(e,r,n))),e[0]=e[e.length-1],Nv(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>fW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&hW(m),v=(_=(b=m.motionValue)==null?void 0:b.owner)==null?void 0:_.current,y=p?new aW({...m,element:v}):new gw(m);y.finished.then(()=>{this.notifyFinished()}).catch(Gn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Y7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function iR(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const pW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gW(t){const e=pW.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}const yW=4;function oR(t,e,n=1){_l(n<=yW,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=gW(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return C2(o)?parseFloat(o):o}return cw(s)?oR(s,e,n+1):s}const vW={type:"spring",stiffness:500,damping:25,restSpeed:10},xW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wW={type:"keyframes",duration:.8},_W={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bW=(t,{keyframes:e})=>e.length>2?wW:zl.has(t)?t.startsWith("scale")?xW(e[1]):vW:_W,EW=t=>t!==null;function TW(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(EW),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}function vw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function SW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const xw=(t,e,n,r={},s,i)=>o=>{const a=vw(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Gr(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};SW(a)||Object.assign(h,bW(t,h)),h.duration&&(h.duration=Gr(h.duration)),h.repeatDelay&&(h.repeatDelay=Gr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Nv(h),h.delay===0&&(f=!0)),(Is.instantAnimations||Is.skipAnimations)&&(f=!0,Nv(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const m=TW(h.keyframes,a);if(m!==void 0){ze.update(()=>{h.onUpdate(m),h.onComplete()});return}}return a.isSync?new gw(h):new mW(h)};function lT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ww(t,e,n,r){if(typeof e=="function"){const[s,i]=lT(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=lT(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Ka(t,e,n){const r=t.getProps();return ww(r,e,n!==void 0?n:r.custom,t)}const aR=new Set(["width","height","top","left","right","bottom",...$l]),cT=30,CW=t=>!isNaN(parseFloat(t));class IW{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=en.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=en.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=CW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ow);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=en.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cT);return k2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bl(t,e){return new IW(t,e)}const Pv=t=>Array.isArray(t);function AW(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bl(n))}function kW(t){return Pv(t)?t[t.length-1]||0:t}function NW(t,e){const n=Ka(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=kW(i[o]);AW(t,o,a)}}const qt=t=>!!(t&&t.getVelocity);function PW(t){return!!(qt(t)&&t.add)}function Rv(t,e){const n=t.getValue("willChange");if(PW(n))return n.add(e);if(!n&&Is.WillChange){const r=new Is.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function _w(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const RW="framerAppearId",lR="data-"+_w(RW);function cR(t){return t.props[lR]}function jW({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),m=a[h];if(m===void 0||u&&jW(u,h))continue;const p={delay:n,...vw(i||{},h)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===v&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=cR(t);if(_){const T=window.MotionHandoffAnimation(_,h,ze);T!==null&&(p.startTime=T,y=!0)}}Rv(t,h),f.start(xw(h,f,m,t.shouldReduceMotion&&aR.has(h)?{type:!1}:p,t,y));const b=f.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{ze.update(()=>{o&&NW(t,o)})}),l}function jv(t,e,n={}){var l;const r=Ka(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uR(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return DW(t,e,u,h,f,m,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,h]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function DW(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(jv(l,e,{...o,delay:n+(typeof r=="function"?0:r)+iR(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function MW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>jv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=jv(t,e,n);else{const s=typeof e=="function"?Ka(t,e,n.custom):e;r=Promise.all(uR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const OW={test:t=>t==="auto",parse:t=>t},dR=t=>e=>e.test(t),hR=[Bl,te,Kr,Gs,l7,a7,OW],uT=t=>hR.find(dR(t));function LW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A2(t):!0}const VW=new Set(["brightness","contrast","saturate","opacity"]);function FW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uw)||[];if(!r)return t;const s=n.replace(r,"");let i=VW.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const UW=/\b([a-z-]*)\(.*?\)/gu,Dv={...Wi,getAnimatableNone:t=>{const e=t.match(UW);return e?e.map(FW).join(" "):t}},dT={...Bl,transform:Math.round},BW={rotate:Gs,rotateX:Gs,rotateY:Gs,rotateZ:Gs,scale:dh,scaleX:dh,scaleY:dh,scaleZ:dh,skew:Gs,skewX:Gs,skewY:Gs,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Uu,originX:XE,originY:XE,originZ:te},bw={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,inset:te,insetBlock:te,insetBlockStart:te,insetBlockEnd:te,insetInline:te,insetInlineStart:te,insetInlineEnd:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,paddingBlock:te,paddingBlockStart:te,paddingBlockEnd:te,paddingInline:te,paddingInlineStart:te,paddingInlineEnd:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,marginBlock:te,marginBlockStart:te,marginBlockEnd:te,marginInline:te,marginInlineStart:te,marginInlineEnd:te,fontSize:te,backgroundPositionX:te,backgroundPositionY:te,...BW,zIndex:dT,fillOpacity:Uu,strokeOpacity:Uu,numOctaves:dT},$W={...bw,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Dv,WebkitFilter:Dv},fR=t=>$W[t];function mR(t,e){let n=fR(t);return n!==Dv&&(n=Wi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const zW=new Set(["auto","none","0"]);function WW(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!zW.has(i)&&Bu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=mR(n,s)}class HW extends yw{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),cw(f))){const m=oR(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!aR.has(r)||e.length!==2)return;const[s,i]=e,o=uT(s),a=uT(i),l=YE(s),u=YE(i);if(l!==u&&fi[r]){this.needsMeasurement=!0;return}if(o!==a)if(iT(o)&&iT(a))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else fi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||LW(e[s]))&&r.push(s);r.length&&WW(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=fi[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function qW(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const pR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Mv(t){return I2(t)&&"offsetHeight"in t}const{schedule:Ew,cancel:BQ}=U2(queueMicrotask,!1),nr={x:!1,y:!1};function gR(){return nr.x||nr.y}function GW(t){return t==="x"||t==="y"?nr[t]?null:(nr[t]=!0,()=>{nr[t]=!1}):nr.x||nr.y?null:(nr.x=nr.y=!0,()=>{nr.x=nr.y=!1})}function yR(t,e){const n=qW(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function hT(t){return!(t.pointerType==="touch"||gR())}function KW(t,e,n={}){const[r,s,i]=yR(t,n),o=a=>{if(!hT(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=f=>{hT(f)&&(u(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const vR=(t,e)=>e?t===e?!0:vR(t,e.parentElement):!1,Tw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xR(t){return QW.has(t.tagName)||t.isContentEditable===!0}const Bh=new WeakSet;function fT(t){return e=>{e.key==="Enter"&&t(e)}}function Tg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YW=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=fT(()=>{if(Bh.has(n))return;Tg(n,"down");const s=fT(()=>{Tg(n,"up")}),i=()=>Tg(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function mT(t){return Tw(t)&&!gR()}function XW(t,e,n={}){const[r,s,i]=yR(t,n),o=a=>{const l=a.currentTarget;if(!mT(a))return;Bh.add(l);const u=e(l,a),h=(p,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Bh.has(l)&&Bh.delete(l),mT(p)&&typeof u=="function"&&u(p,{success:v})},f=p=>{h(p,l===window||l===document||n.useGlobalTarget||vR(l,p.target))},m=p=>{h(p,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Mv(a)&&(a.addEventListener("focus",u=>YW(u,s)),!xR(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function wR(t){return I2(t)&&"ownerSVGElement"in t}function JW(t){return wR(t)&&t.tagName==="svg"}const ZW=[...hR,at,Wi],eH=t=>ZW.find(dR(t)),pT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:pT(),y:pT()}),gT=()=>({min:0,max:0}),mt=()=>({x:gT(),y:gT()}),Ov={current:null},_R={current:!1},tH=typeof window<"u";function nH(){if(_R.current=!0,!!tH)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ov.current=t.matches;t.addEventListener("change",e),e()}else Ov.current=!1}const rH=new WeakMap;function rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $u(t){return typeof t=="string"||Array.isArray(t)}const Sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cw=["initial",...Sw];function sp(t){return rp(t.animate)||Cw.some(e=>$u(t[e]))}function bR(t){return!!(sp(t)||t.variants)}function sH(t,e,n){for(const r in e){const s=e[r],i=n[r];if(qt(s))t.addValue(r,s);else if(qt(i))t.addValue(r,bl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,bl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const yT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Qf={};function ER(t){Qf=t}function iH(){return Qf}class oH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=en.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=sp(n),this.isVariantNode=bR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const p=f[m];l[m]!==void 0&&qt(p)&&p.set(l[m])}}mount(e){var n;this.current=e,rH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(_R.current||nH(),this.shouldReduceMotion=Ov.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qf){const n=Qf[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yT.length;r++){const s=yT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=sH(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(C2(r)||A2(r))?r=parseFloat(r):!eH(r)&&Wi.test(n)&&(r=mR(e,n)),this.setBaseTarget(e,qt(r)?r.get():r)),qt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=ww(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ow),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ew.render(this.render)}}class TR extends oH{constructor(){super(...arguments),this.KeyframeResolver=HW}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class eo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function SR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function aH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Sg(t){return t===void 0||t===1}function Lv({scale:t,scaleX:e,scaleY:n}){return!Sg(t)||!Sg(e)||!Sg(n)}function mo(t){return Lv(t)||CR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CR(t){return vT(t.x)||vT(t.y)}function vT(t){return t&&t!=="0%"}function Yf(t,e,n){const r=t-n,s=e*r;return n+s}function xT(t,e,n,r,s){return s!==void 0&&(t=Yf(t,s,r)),Yf(t,n,r)+e}function Vv(t,e=0,n=1,r,s){t.min=xT(t.min,e,n,r,s),t.max=xT(t.max,e,n,r,s)}function IR(t,{x:e,y:n}){Vv(t.x,e.translate,e.scale,e.originPoint),Vv(t.y,n.translate,n.scale,n.originPoint)}const wT=.999999999999,_T=1.0000000000001;function cH(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Na(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,IR(t,o)),r&&mo(i.latestValues)&&Na(t,i.latestValues))}e.x<_T&&e.x>wT&&(e.x=1),e.y<_T&&e.y>wT&&(e.y=1)}function ka(t,e){t.min=t.min+e,t.max=t.max+e}function bT(t,e,n,r,s=.5){const i=Qe(t.min,t.max,s);Vv(t,e,n,i,r)}function Na(t,e){bT(t.x,e.x,e.scaleX,e.scale,e.originX),bT(t.y,e.y,e.scaleY,e.scale,e.originY)}function AR(t,e){return SR(lH(t.getBoundingClientRect(),e))}function uH(t,e,n){const r=AR(t,n),{scroll:s}=e;return s&&(ka(r.x,s.offset.x),ka(r.y,s.offset.y)),r}const dH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hH=$l.length;function fH(t,e,n){let r="",s=!0;for(let i=0;i<hH;i++){const o=$l[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const u=parseFloat(a);l=o.startsWith("scale")?u===1:u===0}if(!l||n){const u=pR(a,bw[o]);if(!l){s=!1;const h=dH[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Iw(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(zl.has(l)){o=!0;continue}else if($2(l)){s[l]=u;continue}else{const h=pR(u,bw[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=fH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${u} ${h}`}}function kR(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function ET(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=ET(t,e.target.x),r=ET(t,e.target.y);return`${n}% ${r}%`}},mH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Wi.parse(t);if(s.length>5)return r;const i=Wi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}},Fv={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:mH};function NR(t,{layout:e,layoutId:n}){return zl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fv[t]||t==="opacity")}function Aw(t,e,n){var o;const r=t.style,s=e==null?void 0:e.style,i={};if(!r)return i;for(const a in r)(qt(r[a])||s&&qt(s[a])||NR(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function pH(t){return window.getComputedStyle(t)}class gH extends TR{constructor(){super(...arguments),this.type="html",this.renderInstance=kR}readValueFromInstance(e,n){var r;if(zl.has(n))return(r=this.projection)!=null&&r.isProjecting?Sv(n):H7(e,n);{const s=pH(e),i=($2(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return AR(e,n)}build(e,n,r){Iw(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Aw(e,n,r)}}const yH={offset:"stroke-dashoffset",array:"stroke-dasharray"},vH={offset:"strokeDashoffset",array:"strokeDasharray"};function xH(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?yH:vH;t[i.offset]=`${-r}`,t[i.array]=`${e} ${n}`}const wH=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function PR(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,h){if(Iw(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const p of wH)f[p]!==void 0&&(m[p]=f[p],delete f[p]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&xH(f,s,i,o,!1)}const RR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),jR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _H(t,e,n,r){kR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(RR.has(s)?s:_w(s),e.attrs[s])}function DR(t,e,n){const r=Aw(t,e,n);for(const s in t)if(qt(t[s])||qt(e[s])){const i=$l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}class bH extends TR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zl.has(n)){const r=fR(n);return r&&r.default||0}return n=RR.has(n)?n:_w(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DR(e,n,r)}build(e,n,r){PR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){_H(e,n,r,s)}mount(e){this.isSVGTag=jR(e.tagName),super.mount(e)}}const EH=Cw.length;function MR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<EH;n++){const r=Cw[n],s=t.props[r];($u(s)||s===!1)&&(e[r]=s)}return e}function OR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const TH=[...Sw].reverse(),SH=Sw.length;function CH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>MW(t,n,r)))}function IH(t){let e=CH(t),n=TT(),r=!0;const s=l=>(u,h)=>{var m;const f=Ka(t,h,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:p,transitionEnd:v,...y}=f;u={...u,...y,...v}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,h=MR(t.parent)||{},f=[],m=new Set;let p={},v=1/0;for(let b=0;b<SH;b++){const _=TH[b],T=n[_],x=u[_]!==void 0?u[_]:h[_],N=$u(x),C=_===l?T.isActive:null;C===!1&&(v=b);let j=x===h[_]&&x!==u[_]&&N;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),T.protectedKeys={...p},!T.isActive&&C===null||!x&&!T.prevProp||rp(x)||typeof x=="boolean")continue;const I=AH(T.prevProp,x);let S=I||_===l&&T.isActive&&!j&&N||b>v&&N,k=!1;const R=Array.isArray(x)?x:[x];let D=R.reduce(s(_),{});C===!1&&(D={});const{prevResolvedValues:M={}}=T,A={...M,...D},B=F=>{S=!0,m.has(F)&&(k=!0,m.delete(F)),T.needsAnimating[F]=!0;const O=t.getValue(F);O&&(O.liveStyle=!1)};for(const F in A){const O=D[F],L=M[F];if(p.hasOwnProperty(F))continue;let H=!1;Pv(O)&&Pv(L)?H=!OR(O,L):H=O!==L,H?O!=null?B(F):m.add(F):O!==void 0&&m.has(F)?B(F):T.protectedKeys[F]=!0}T.prevProp=x,T.prevResolvedValues=D,T.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(S=!1);const J=j&&I;S&&(!J||k)&&f.push(...R.map(F=>{const O={type:_};if(typeof F=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:L}=t,H=Ka(L,F);if(L.enteringChildren&&H){const{delayChildren:oe}=H.transition||{};O.delay=iR(L.enteringChildren,t,oe)}}return{animation:F,options:O}}))}if(m.size){const b={};if(typeof u.initial!="boolean"){const _=Ka(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(b.transition=_.transition)}m.forEach(_=>{const T=t.getBaseTarget(_),x=t.getValue(_);x&&(x.liveStyle=!0),b[_]=T??null}),f.push({animation:b})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(f):Promise.resolve()}function a(l,u){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=TT()}}}function AH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OR(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TT(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}function ST(t,e){t.min=e.min,t.max=e.max}function tr(t,e){ST(t.x,e.x),ST(t.y,e.y)}function CT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const LR=1e-4,kH=1-LR,NH=1+LR,VR=.01,PH=0-VR,RH=0+VR;function tn(t){return t.max-t.min}function jH(t,e,n){return Math.abs(t-e)<=n}function IT(t,e,n,r=.5){t.origin=r,t.originPoint=Qe(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),t.translate=Qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kH&&t.scale<=NH||isNaN(t.scale))&&(t.scale=1),(t.translate>=PH&&t.translate<=RH||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){IT(t.x,e.x,n.x,r?r.originX:void 0),IT(t.y,e.y,n.y,r?r.originY:void 0)}function AT(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function DH(t,e,n){AT(t.x,e.x,n.x),AT(t.y,e.y,n.y)}function kT(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function Xf(t,e,n){kT(t.x,e.x,n.x),kT(t.y,e.y,n.y)}function NT(t,e,n,r,s){return t-=e,t=Yf(t,1/n,r),s!==void 0&&(t=Yf(t,1/s,r)),t}function MH(t,e=0,n=1,r=.5,s,i=t,o=t){if(Kr.test(e)&&(e=parseFloat(e),e=Qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Qe(i.min,i.max,r);t===i&&(a-=e),t.min=NT(t.min,e,n,a,s),t.max=NT(t.max,e,n,a,s)}function PT(t,e,[n,r,s],i,o){MH(t,e[n],e[r],e[s],e.scale,i,o)}const OH=["x","scaleX","originX"],LH=["y","scaleY","originY"];function RT(t,e,n,r){PT(t.x,e,OH,n?n.x:void 0,r?r.x:void 0),PT(t.y,e,LH,n?n.y:void 0,r?r.y:void 0)}function jT(t){return t.translate===0&&t.scale===1}function FR(t){return jT(t.x)&&jT(t.y)}function DT(t,e){return t.min===e.min&&t.max===e.max}function VH(t,e){return DT(t.x,e.x)&&DT(t.y,e.y)}function MT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function UR(t,e){return MT(t.x,e.x)&&MT(t.y,e.y)}function OT(t){return tn(t.x)/tn(t.y)}function LT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Mn(t){return[t("x"),t("y")]}function FH(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:m,skewX:p,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const BR=["TopLeft","TopRight","BottomLeft","BottomRight"],UH=BR.length,VT=t=>typeof t=="string"?parseFloat(t):t,FT=t=>typeof t=="number"||te.test(t);function BH(t,e,n,r,s,i){s?(t.opacity=Qe(0,n.opacity??1,$H(r)),t.opacityExit=Qe(e.opacity??1,0,zH(r))):i&&(t.opacity=Qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<UH;o++){const a=`border${BR[o]}Radius`;let l=UT(e,a),u=UT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||FT(l)===FT(u)?(t[a]=Math.max(Qe(VT(l),VT(u),r),0),(Kr.test(u)||Kr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Qe(e.rotate||0,n.rotate||0,r))}function UT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $H=$R(0,.5,O2),zH=$R(.5,.95,Gn);function $R(t,e,n){return r=>r<t?0:r>e?1:n(Fu(t,e,r))}function WH(t,e,n){const r=qt(t)?t:bl(t);return r.start(xw("",r,e,n)),r.animation}function zu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const HH=(t,e)=>t.depth-e.depth;class qH{constructor(){this.children=[],this.isDirty=!1}add(e){rw(this.children,e),this.isDirty=!0}remove(e){sw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HH),this.isDirty=!1,this.children.forEach(e)}}function GH(t,e){const n=en.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(zi(r),t(i-e))};return ze.setup(r,!0),()=>zi(r)}function $h(t){return qt(t)?t.get():t}class KH{constructor(){this.members=[]}add(e){rw(this.members,e),e.scheduleRender()}remove(e){if(sw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,i=e.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Cg=["","X","Y","Z"],QH=1e3;let YH=0;function Ig(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zR(r)}function WR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZH),this.nodes.forEach(rq),this.nodes.forEach(sq),this.nodes.forEach(eq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ow),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wR(o)&&!JW(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const m=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{f=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,h&&h(),h=GH(m,250),zh.hasAnimatedSinceResize&&(zh.hasAnimatedSinceResize=!1,this.nodes.forEach(zT)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||cq,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),_=!this.targetLayout||!UR(this.targetLayout,p),T=!f&&m;if(this.options.layoutRoot||this.resumeFrom||T||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...vw(v,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,T)}else f||zT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($T);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nq),this.nodes.forEach(XH),this.nodes.forEach(JH)):this.nodes.forEach($T),this.clearAllSnapshots();const a=en.now();Nt.delta=Jr(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,vg.update.process(Nt),vg.preRender.process(Nt),vg.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ew.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tq),this.sharedNodes.forEach(oq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!tn(this.snapshot.measuredBox.x)&&!tn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!FR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||mo(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),uq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return mt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(dq))){const{scroll:h}=this.root;h&&(ka(a.x,h.offset.x),ka(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=mt();if(tr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&tr(a,o),ka(a.x,f.offset.x),ka(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=mt();tr(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Na(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),mo(h.latestValues)&&Na(l,h.latestValues)}return mo(this.latestValues)&&Na(l,this.latestValues),l}removeTransform(o){const a=mt();tr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!mo(u.latestValues))continue;Lv(u.latestValues)&&u.updateSnapshot();const h=mt(),f=u.measurePageBox();tr(h,f),RT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return mo(this.latestValues)&&RT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=Nt.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),IR(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lv(this.parent.latestValues)||CR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),Xf(this.relativeTargetOrigin,a,l),tr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;tr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;cH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=mt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CT(this.prevProjectionDelta.x,this.projectionDelta.x),CT(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!LT(this.projectionDelta.x,this.prevProjectionDelta.x)||!LT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Aa(),this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},f=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=mt(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,b=this.getStack(),_=!b||b.members.length<=1,T=!!(y&&!_&&this.options.crossfade===!0&&!this.path.some(lq));this.animationProgress=0;let x;this.mixTargetDelta=N=>{const C=N/1e3;WT(f.x,o.x,C),WT(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xf(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aq(this.relativeTarget,this.relativeTargetOrigin,m,C),x&&VH(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=mt()),tr(x,this.relativeTarget)),y&&(this.animationValues=h,BH(h,u,this.latestValues,C,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bl(0)),this.currentAnimation=WH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&HR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mt();const f=tn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=tn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}tr(a,l),Na(a,h),nu(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Ig("z",o,u,this.animationValues);for(let h=0;h<Cg.length;h++)Ig(`rotate${Cg[h]}`,o,u,this.animationValues),Ig(`skew${Cg[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=$h(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=$h(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=FH(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in Fv){if(h[v]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:_}=Fv[v],T=f==="none"?h[v]:y(h[v],u);if(b){const x=b.length;for(let N=0;N<x;N++)o[b[N]]=T}else _?this.options.visualElement.renderState.vars[v]=T:o[v]=T}this.options.layoutId&&(o.pointerEvents=u===this?$h(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(BT),this.root.sharedNodes.clear()}}}function XH(t){t.updateLayout()}function JH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Mn(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],p=tn(m);m.min=r[f].min,m.max=m.min+p}):HR(i,e.layoutBox,r)&&Mn(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],p=tn(r[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=Aa();nu(a,r,e.layoutBox);const l=Aa();o?nu(l,t.applyTransform(s,!0),e.measuredBox):nu(l,r,e.layoutBox);const u=!FR(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const v=mt();Xf(v,e.layoutBox,m.layoutBox);const y=mt();Xf(y,r,p.layoutBox),UR(v,y)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tq(t){t.clearSnapshot()}function BT(t){t.clearMeasurements()}function $T(t){t.isLayoutDirty=!1}function nq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rq(t){t.resolveTargetDelta()}function sq(t){t.calcProjection()}function iq(t){t.resetSkewAndRotation()}function oq(t){t.removeLeadSnapshot()}function WT(t,e,n){t.translate=Qe(e.translate,0,n),t.scale=Qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HT(t,e,n,r){t.min=Qe(e.min,n.min,r),t.max=Qe(e.max,n.max,r)}function aq(t,e,n,r){HT(t.x,e.x,n.x,r),HT(t.y,e.y,n.y,r)}function lq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cq={duration:.45,ease:[.4,0,.1,1]},qT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GT=qT("applewebkit/")&&!qT("chrome/")?Math.round:Gn;function KT(t){t.min=GT(t.min),t.max=GT(t.max)}function uq(t){KT(t.x),KT(t.y)}function HR(t,e,n){return t==="position"||t==="preserve-aspect"&&!jH(OT(e),OT(n),.2)}function dq(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hq=WR({attachResizeListener:(t,e)=>zu(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Ag={current:void 0},qR=WR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ag.current){const t=new hq({});t.mount(window),t.setOptions({layoutScroll:!0}),Ag.current=t}return Ag.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),kw=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function QT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fq(...t){return e=>{let n=!1;const r=t.map(s=>{const i=QT(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():QT(t[s],null)}}}}function mq(...t){return w.useCallback(fq(...t),t)}class pq extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Mv(r)&&r.offsetWidth||0,i=Mv(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function gq({children:t,isPresent:e,anchorX:n,anchorY:r,root:s}){var f;const i=w.useId(),o=w.useRef(null),a=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=w.useContext(kw),u=((f=t.props)==null?void 0:f.ref)??(t==null?void 0:t.ref),h=mq(o,u);return w.useInsertionEffect(()=>{const{width:m,height:p,top:v,left:y,right:b,bottom:_}=a.current;if(e||!o.current||!m||!p)return;const T=n==="left"?`left: ${y}`:`right: ${b}`,x=r==="bottom"?`bottom: ${_}`:`top: ${v}`;o.current.dataset.motionPopId=i;const N=document.createElement("style");l&&(N.nonce=l);const C=s??document.head;return C.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${T}px !important;
            ${x}px !important;
          }
        `),()=>{C.contains(N)&&C.removeChild(N)}},[e]),c.jsx(pq,{isPresent:e,childRef:o,sizeRef:a,children:w.cloneElement(t,{ref:h})})}const yq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,anchorY:l,root:u})=>{const h=nw(vq),f=w.useId();let m=!0,p=w.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:v=>{h.set(v,!0);for(const y of h.values())if(!y)return;r&&r()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[n,h,r]);return i&&m&&(p={...p}),w.useMemo(()=>{h.forEach((v,y)=>h.set(y,!1))},[n]),w.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(gq,{isPresent:n,anchorX:a,anchorY:l,root:u,children:t})),c.jsx(tp.Provider,{value:p,children:t})};function vq(){return new Map}function GR(t=!0){const e=w.useContext(tp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=w.useId();w.useEffect(()=>{if(t)return s(i)},[t]);const o=w.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const hh=t=>t.key||"";function YT(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const As=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:u})=>{const[h,f]=GR(o),m=w.useMemo(()=>YT(t),[t]),p=o&&!h?[]:m.map(hh),v=w.useRef(!0),y=w.useRef(m),b=nw(()=>new Map),_=w.useRef(new Set),[T,x]=w.useState(m),[N,C]=w.useState(m);S2(()=>{v.current=!1,y.current=m;for(let S=0;S<N.length;S++){const k=hh(N[S]);p.includes(k)?(b.delete(k),_.current.delete(k)):b.get(k)!==!0&&b.set(k,!1)}},[N,p.length,p.join("-")]);const j=[];if(m!==T){let S=[...m];for(let k=0;k<N.length;k++){const R=N[k],D=hh(R);p.includes(D)||(S.splice(k,0,R),j.push(R))}return i==="wait"&&j.length&&(S=j),C(YT(S)),x(m),null}const{forceRender:I}=w.useContext(tw);return c.jsx(c.Fragment,{children:N.map(S=>{const k=hh(S),R=o&&!h?!1:m===N||p.includes(k),D=()=>{if(_.current.has(k))return;if(_.current.add(k),b.has(k))b.set(k,!0);else return;let M=!0;b.forEach(A=>{A||(M=!1)}),M&&(I==null||I(),C(y.current),o&&(f==null||f()),r&&r())};return c.jsx(yq,{isPresent:R,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:R?void 0:D,anchorX:a,anchorY:l,children:S},k)})})},KR=w.createContext({strict:!1}),XT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let JT=!1;function xq(){if(JT)return;const t={};for(const e in XT)t[e]={isEnabled:n=>XT[e].some(r=>!!n[r])};ER(t),JT=!0}function QR(){return xq(),iH()}function wq(t){const e=QR();for(const n in t)e[n]={...e[n],...t[n]};ER(e)}const _q=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_q.has(t)}let YR=t=>!Jf(t);function bq(t){typeof t=="function"&&(YR=e=>e.startsWith("on")?!Jf(e):t(e))}try{bq(require("@emotion/is-prop-valid").default)}catch{}function Eq(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(YR(s)||n===!0&&Jf(s)||!e&&!Jf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ip=w.createContext({});function Tq(t,e){if(sp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$u(n)?n:void 0,animate:$u(r)?r:void 0}}return t.inherit!==!1?e:{}}function Sq(t){const{initial:e,animate:n}=Tq(t,w.useContext(ip));return w.useMemo(()=>({initial:e,animate:n}),[ZT(e),ZT(n)])}function ZT(t){return Array.isArray(t)?t.join(" "):t}const Nw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XR(t,e,n){for(const r in e)!qt(e[r])&&!NR(r,n)&&(t[r]=e[r])}function Cq({transformTemplate:t},e){return w.useMemo(()=>{const n=Nw();return Iw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Iq(t,e){const n=t.style||{},r={};return XR(r,n,t),Object.assign(r,Cq(t,e)),r}function Aq(t,e){const n={},r=Iq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const JR=()=>({...Nw(),attrs:{}});function kq(t,e,n,r){const s=w.useMemo(()=>{const i=JR();return PR(i,e,jR(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};XR(i,t.style,t),s.style={...i,...s.style}}return s}const Nq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pw(t){return typeof t!="string"||t.includes("-")?!1:!!(Nq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pq(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??Pw(t)?kq:Aq)(e,r,s,t),u=Eq(e,typeof t=="string",i),h=t!==w.Fragment?{...u,...l,ref:n}:{},{children:f}=e,m=w.useMemo(()=>qt(f)?f.get():f,[f]);return w.createElement(t,{...h,children:m})}function Rq({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:jq(n,r,s,t),renderState:e()}}function jq(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=$h(i[m]);let{initial:o,animate:a}=t;const l=sp(t),u=bR(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!rp(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const v=ww(t,m[p]);if(v){const{transitionEnd:y,transition:b,..._}=v;for(const T in _){let x=_[T];if(Array.isArray(x)){const N=h?x.length-1:0;x=x[N]}x!==null&&(s[T]=x)}for(const T in y)s[T]=y[T]}}}return s}const ZR=t=>(e,n)=>{const r=w.useContext(ip),s=w.useContext(tp),i=()=>Rq(t,e,r,s);return n?i():nw(i)},Dq=ZR({scrapeMotionValuesFromProps:Aw,createRenderState:Nw}),Mq=ZR({scrapeMotionValuesFromProps:DR,createRenderState:JR}),Oq=Symbol.for("motionComponentSymbol");function Lq(t,e,n){const r=w.useRef(n);w.useInsertionEffect(()=>{r.current=n});const s=w.useRef(null);return w.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const ej=w.createContext({});function Dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Vq(t,e,n,r,s,i){var _,T;const{visualElement:o}=w.useContext(ip),a=w.useContext(KR),l=w.useContext(tp),u=w.useContext(kw).reducedMotion,h=w.useRef(null),f=w.useRef(!1);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u,isSVG:i}),f.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const m=h.current,p=w.useContext(ej);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Fq(h.current,n,s,p);const v=w.useRef(!1);w.useInsertionEffect(()=>{m&&v.current&&m.update(n,l)});const y=n[lR],b=w.useRef(!!y&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,y))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,y)));return S2(()=>{f.current=!0,m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),b.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,y)}),b.current=!1),m.enteringChildren=void 0)}),m}function Fq(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tj(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Dc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function tj(t){if(t)return t.options.allowProjection!==!1?t.projection:tj(t.parent)}function kg(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&wq(r);const i=n?n==="svg":Pw(t),o=i?Mq:Dq;function a(u,h){let f;const m={...w.useContext(kw),...u,layoutId:Uq(u)},{isStatic:p}=m,v=Sq(u),y=o(u,p);if(!p&&T2){Bq();const b=$q(m);f=b.MeasureLayout,v.visualElement=Vq(t,y,m,s,b.ProjectionNode,i)}return c.jsxs(ip.Provider,{value:v,children:[f&&v.visualElement?c.jsx(f,{visualElement:v.visualElement,...m}):null,Pq(t,u,Lq(y,v.visualElement,h),y,p,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=w.forwardRef(a);return l[Oq]=t,l}function Uq({layoutId:t}){const e=w.useContext(tw).id;return e&&t!==void 0?e+"-"+t:t}function Bq(t,e){w.useContext(KR).strict}function $q(t){const e=QR(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function zq(t,e){if(typeof Proxy>"u")return kg;const n=new Map,r=(i,o)=>kg(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,kg(o,void 0,t,e)),n.get(o))})}const Wq=(t,e)=>e.isSVG??Pw(t)?new bH(e):new gH(e,{allowProjection:t!==w.Fragment});class Hq extends eo{constructor(e){super(e),e.animationState||(e.animationState=IH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let qq=0;class Gq extends eo{constructor(){super(...arguments),this.id=qq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Kq={animation:{Feature:Hq},exit:{Feature:Gq}};function _d(t){return{point:{x:t.pageX,y:t.pageY}}}const Qq=t=>e=>Tw(e)&&t(e,_d(e));function ru(t,e,n,r){return zu(t,e,Qq(n),r)}const nj=({current:t})=>t?t.ownerDocument.defaultView:null,eS=(t,e)=>Math.abs(t-e);function Yq(t,e){const n=eS(t.x,e.x),r=eS(t.y,e.y);return Math.sqrt(n**2+r**2)}const tS=new Set(["auto","scroll"]);class rj{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Pg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=Yq(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:b}=p,{timestamp:_}=Nt;this.history.push({...b,timestamp:_});const{onStart:T,onMove:x}=this.handlers;v||(T&&T(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ng(v,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Pg(p.type==="pointercancel"?this.lastMoveEventInfo:Ng(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,T),b&&b(p,T)},!Tw(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=_d(e),u=Ng(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Nt;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Pg(u,this.history)),this.removeListeners=vd(ru(this.contextWindow,"pointermove",this.handlePointerMove),ru(this.contextWindow,"pointerup",this.handlePointerUp),ru(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(tS.has(r.overflowX)||tS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),ze.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),zi(this.updatePoint)}}function Ng(t,e){return e?{point:e(t.point)}:t}function nS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pg({point:t},e){return{point:t,delta:nS(t,sj(e)),offset:nS(t,Xq(e)),velocity:Jq(e,.1)}}function Xq(t){return t[0]}function sj(t){return t[t.length-1]}function Jq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=sj(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Gr(e)));)n--;if(!r)return{x:0,y:0};const i=zn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Zq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qe(n,t,r.max):Math.min(t,n)),t}function rS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function eG(t,{top:e,left:n,bottom:r,right:s}){return{x:rS(t.x,n,s),y:rS(t.y,e,r)}}function sS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function tG(t,e){return{x:sS(t.x,e.x),y:sS(t.y,e.y)}}function nG(t,e){let n=.5;const r=tn(t),s=tn(e);return s>r?n=Fu(e.min,e.max-r,t.min):r>s&&(n=Fu(t.min,t.max-s,e.min)),Jr(0,1,n)}function rG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Uv=.35;function sG(t=Uv){return t===!1?t=0:t===!0&&(t=Uv),{x:iS(t,"left","right"),y:iS(t,"top","bottom")}}function iS(t,e,n){return{min:oS(t,e),max:oS(t,n)}}function oS(t,e){return typeof t=="number"?t:t[e]||0}const iG=new WeakMap;class oG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{n?(this.stopAnimation(),this.snapToCursor(_d(f).point)):this.pauseAnimation()},o=(f,m)=>{this.stopAnimation();const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=GW(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(_=>{let T=this.getAxisMotionValue(_).get()||0;if(Kr.test(T)){const{projection:x}=this.visualElement;if(x&&x.layout){const N=x.layout.layoutBox[_];N&&(T=tn(N)*(parseFloat(T)/100))}}this.originPoint[_]=T}),y&&ze.postRender(()=>y(f,m)),Rv(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:_}=m;if(v&&this.currentDirection===null){this.currentDirection=aG(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,_),this.updateAxis("y",m.point,_),this.visualElement.render(),b&&b(f,m)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Mn(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new rj(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:nj(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ze.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!fh(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Zq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Dc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=eG(r.layoutBox,e):this.constraints=!1,this.elastic=sG(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=rG(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dc(e))return!1;const r=e.current;_l(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=uH(r,s.root,this.visualElement.getTransformPagePoint());let o=tG(s.layout.layoutBox,i);if(n){const a=n(aH(o));this.hasMutatedConstraints=!!a,a&&(o=SR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Mn(h=>{if(!fh(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Rv(this.visualElement,e),r.start(xw(e,r,0,n,this.visualElement,!1))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mn(n=>{const{drag:r}=this.getProps();if(!fh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-Qe(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=nG({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(o=>{if(!fh(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Qe(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;iG.set(this.visualElement,this);const e=this.visualElement.current,n=ru(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps(),f=l.target,m=f!==e&&xR(f);u&&h&&!m&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ze.read(r);const o=zu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Uv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function fh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lG extends eo{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new oG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const aS=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class cG extends eo{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new rj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aS(e),onStart:aS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ze.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ru(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Rg=!1;class uG extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Rg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),Rg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ew.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Rg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ij(t){const[e,n]=GR(),r=w.useContext(tw);return c.jsx(uG,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(ej),isPresent:e,safeToRemove:n})}const dG={pan:{Feature:cG},drag:{Feature:lG,ProjectionNode:qR,MeasureLayout:ij}};function lS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ze.postRender(()=>i(e,_d(e)))}class hG extends eo{mount(){const{current:e}=this.node;e&&(this.unmount=KW(e,(n,r)=>(lS(this.node,r,"Start"),s=>lS(this.node,s,"End"))))}unmount(){}}class fG extends eo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vd(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ze.postRender(()=>i(e,_d(e)))}class mG extends eo{mount(){const{current:e}=this.node;e&&(this.unmount=XW(e,(n,r)=>(cS(this.node,r,"Start"),(s,{success:i})=>cS(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bv=new WeakMap,jg=new WeakMap,pG=t=>{const e=Bv.get(t.target);e&&e(t)},gG=t=>{t.forEach(pG)};function yG({root:t,...e}){const n=t||document;jg.has(n)||jg.set(n,{});const r=jg.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gG,{root:t,...e})),r[s]}function vG(t,e,n){const r=yG(e);return Bv.set(t,n),r.observe(t),()=>{Bv.delete(t),r.unobserve(t)}}const xG={some:0,all:1};class wG extends eo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:xG[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(l)};return vG(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_G(e,n))&&this.startObserver()}unmount(){}}function _G({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const bG={inView:{Feature:wG},tap:{Feature:mG},focus:{Feature:fG},hover:{Feature:hG}},EG={layout:{ProjectionNode:qR,MeasureLayout:ij}},TG={...Kq,...bG,...dG,...EG},Y=zq(TG,Wq);function SG(){const t=Pn(),e=w.useRef(0),n=w.useRef();return w.useCallback((s,i)=>{if(Date.now()-e.current<1e3){console.warn("Navigation blocked: too frequent");return}n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{e.current=Date.now(),t(s,i)},100)},[t])}const CG=()=>{const[t,e]=w.useState(!1);return t?c.jsx("div",{className:"w-32 h-32 mx-auto mb-6 rounded-3xl shadow-xl bg-primary/10 flex items-center justify-center",children:c.jsx(Gc,{className:"w-16 h-16 text-primary"})}):c.jsx(Y.img,{src:"/src/assets/logo.png",alt:"AgroGuard AI",className:"w-32 h-32 mx-auto mb-6 rounded-3xl shadow-xl object-contain",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200},onError:()=>{e(!0)}})},IG=()=>{const{user:t,loading:e}=Rn(),n=SG(),[r,s]=w.useState(!1),[i,o]=w.useState(""),[a,l]=w.useState(null),[u,h]=w.useState(0);w.useEffect(()=>{const p=`Loading: ${e}, User: ${t?"exists":"null"}, HasNavigated: ${r}, Retry: ${u}`;if(o(p),r||e)return;const v=setTimeout(()=>{if(!e&&!r){s(!0);try{t?(hn.navigation("Index","Dashboard",{userId:t.uid}),n("/dashboard",{replace:!0})):(hn.navigation("Index","Login",{reason:"No user"}),n("/login",{replace:!0}))}catch(y){const b=y instanceof Error?y.message:"Unknown navigation error";l(b),o(`Navigation error: ${b}`)}}},1500);return()=>{clearTimeout(v)}},[t,e,n,r,u]);const f=()=>{l(null),s(!1),h(p=>p+1)},m=p=>{try{n(p,{replace:!0})}catch(v){const y=v instanceof Error?v.message:"Navigation failed";l(y)}};return a?c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:c.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center max-w-md p-6",children:[c.jsx(pO,{className:"w-16 h-16 text-destructive mx-auto mb-4"}),c.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:"Navigation Error"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:a}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:f,className:"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Try Again"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>m("/login"),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90",children:"Go to Login"}),c.jsx("button",{onClick:()=>m("/dashboard"),className:"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90",children:"Go to Dashboard"})]})]}),!1]})}):c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background hero-gradient",children:c.jsxs(Y.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[c.jsx(CG,{}),c.jsx("h1",{className:"mb-4 text-3xl font-bold text-foreground",children:"AgroGuard AI"}),c.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Protecting Ethiopian Crops"}),c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary mx-auto"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:e?"Initializing...":"Redirecting..."}),!1]})})},Oe=w.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:rn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Oe.displayName="Input";const Wl="/assets/logo-BOD9L6oP.png";function AG(){const{signIn:t}=Rn(),{t:e}=xt(),n=Pn(),[r,s]=w.useState(""),[i,o]=w.useState(""),[a,l]=w.useState(!1),[u,h]=w.useState(!1),f=async m=>{if(m.preventDefault(),!r||!i){q.error("Please fill in all fields");return}h(!0);try{await t(r,i),n("/setup")}catch(p){console.error("Login error:",p),q.error(p.message||"Failed to login")}finally{h(!1)}};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col hero-gradient",children:[c.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col items-center pt-10 pb-6 px-6",children:[c.jsx(Y.img,{src:Wl,alt:"AgroGuard AI",className:"w-28 h-28 rounded-3xl shadow-xl mb-4 object-contain",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200}}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e("appName")}),c.jsx("p",{className:"text-muted-foreground mt-1",children:e("tagline")})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1 bg-card rounded-t-3xl px-6 pt-8 pb-safe-bottom shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:e("welcomeBack")}),c.jsxs("form",{onSubmit:f,className:"space-y-5",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e("email")}),c.jsxs("div",{className:"relative",children:[c.jsx(Em,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:"email",value:r,onChange:m=>s(m.target.value),placeholder:"farmer@example.com",className:"pl-12 h-14 text-lg rounded-xl",disabled:u})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e("password")}),c.jsxs("div",{className:"relative",children:[c.jsx(Ry,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:a?"text":"password",value:i,onChange:m=>o(m.target.value),placeholder:"",className:"pl-12 pr-12 h-14 text-lg rounded-xl",disabled:u}),c.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:u,children:a?c.jsx(kA,{className:"w-5 h-5"}):c.jsx(NA,{className:"w-5 h-5"})})]})]}),c.jsx(re,{type:"submit",variant:"farmer",className:"w-full",disabled:u,children:u?c.jsxs(c.Fragment,{children:[c.jsx(xe,{className:"w-5 h-5 animate-spin"}),e("loading")]}):c.jsxs(c.Fragment,{children:[e("login"),c.jsx($0,{className:"w-5 h-5"})]})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",c.jsx(jt,{to:"/signup",className:"text-primary font-semibold hover:underline",children:e("signup")})]})})]})]})}function kG(){const{signUp:t}=Rn(),{t:e}=xt(),n=Pn(),[r,s]=w.useState(""),[i,o]=w.useState(""),[a,l]=w.useState(""),[u,h]=w.useState(!1),[f,m]=w.useState(!1),p=async v=>{if(v.preventDefault(),!r||!i||!a){q.error("Please fill in all fields");return}if(i!==a){q.error("Passwords do not match");return}if(i.length<6){q.error("Password must be at least 6 characters");return}m(!0);try{await t(r,i),q.success("Account created successfully!"),n("/setup")}catch(y){console.error("Signup error:",y),q.error(y.message||"Failed to create account")}finally{m(!1)}};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col hero-gradient",children:[c.jsxs(Y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col items-center pt-10 pb-4 px-6",children:[c.jsx(Y.img,{src:Wl,alt:"AgroGuard AI",className:"w-24 h-24 rounded-3xl shadow-xl mb-4 object-contain",initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200}}),c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:e("appName")}),c.jsx("p",{className:"text-muted-foreground mt-1",children:e("tagline")})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1 bg-card rounded-t-3xl px-6 pt-8 pb-safe-bottom shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:e("createAccount")}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e("email")}),c.jsxs("div",{className:"relative",children:[c.jsx(Em,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:"email",value:r,onChange:v=>s(v.target.value),placeholder:"farmer@example.com",className:"pl-12 h-14 text-lg rounded-xl",disabled:f})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e("password")}),c.jsxs("div",{className:"relative",children:[c.jsx(Ry,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:u?"text":"password",value:i,onChange:v=>o(v.target.value),placeholder:"",className:"pl-12 pr-12 h-14 text-lg rounded-xl",disabled:f}),c.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:f,children:u?c.jsx(kA,{className:"w-5 h-5"}):c.jsx(NA,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:e("confirmPassword")}),c.jsxs("div",{className:"relative",children:[c.jsx(Ry,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:u?"text":"password",value:a,onChange:v=>l(v.target.value),placeholder:"",className:"pl-12 h-14 text-lg rounded-xl",disabled:f})]})]}),c.jsx(re,{type:"submit",variant:"farmer",className:"w-full",disabled:f,children:f?c.jsxs(c.Fragment,{children:[c.jsx(xe,{className:"w-5 h-5 animate-spin"}),e("loading")]}):c.jsxs(c.Fragment,{children:[e("signup"),c.jsx($0,{className:"w-5 h-5"})]})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",c.jsx(jt,{to:"/login",className:"text-primary font-semibold hover:underline",children:e("login")})]})})]})]})}const NG=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"om",name:"Afaan Oromo",nativeName:"Afaan Oromoo",flag:""},{code:"am",name:"Amharic",nativeName:"",flag:""}];function PG(){const{language:t,setLanguage:e,t:n}=xt();return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground text-center mb-6",children:n("selectLanguage")}),c.jsx("div",{className:"space-y-3",children:NG.map((r,s)=>c.jsxs(Y.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.1},onClick:()=>e(r.code),className:rn("w-full flex items-center gap-4 p-4 rounded-2xl border-2 transition-all",t===r.code?"border-primary bg-primary/10":"border-border bg-card hover:border-primary/50"),children:[c.jsx("span",{className:"text-3xl",children:r.flag}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"font-bold text-foreground text-lg",children:r.nativeName}),c.jsx("p",{className:"text-sm text-muted-foreground",children:r.name})]}),t===r.code&&c.jsx(Y.div,{initial:{scale:0},animate:{scale:1},className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:c.jsx(ji,{className:"w-5 h-5 text-primary-foreground"})})]},r.code))})]})}const Rw=[{region:"Oromia",regionAmharic:"",zones:[{name:"Bale Zone",nameAmharic:" ",cities:["Robe Town","Goba Town","Sinana","Agarfa","Goba","Dinsho","Gasera","Goro","Ginir","Gololcha","Berbere","Dawe Kachen","Dawe Serar","Delo Menna","Guradamole","Legehida","Rayitu","Seweyna"]}]}],RG=()=>{const t=[];return Rw.forEach(e=>{e.zones.forEach(n=>{n.cities.forEach(r=>{t.includes(r)||t.push(r)})})}),t.sort()},uS=t=>{const e=Rw.find(r=>r.region===t);if(!e)return[];const n=[];return e.zones.forEach(r=>{r.cities.forEach(s=>{n.includes(s)||n.push(s)})}),n.sort()},jG=()=>Rw.map(t=>({name:t.region,nameAmharic:t.regionAmharic})),oj=RG(),Zf=[{id:"cat-1",name:{en:"Fungal Diseases",om:"Dhukkuboota Bosona",am:" "},description:{en:"Diseases caused by fungal pathogens that affect plant tissues",om:"Dhukkuboota bosona sababa taasisan kanneen qaamolee biqiltuu miidhan",am:"        "},color:"#8B5CF6",icon:"Microscope",createdAt:"2024-01-15T10:00:00Z"},{id:"cat-2",name:{en:"Bacterial Diseases",om:"Dhukkuboota Baakteeriyaa",am:" "},description:{en:"Diseases caused by bacterial infections in plants",om:"Dhukkuboota baakteeriyaan biqiltoota keessatti uumaman",am:"     "},color:"#EF4444",icon:"Bug",createdAt:"2024-01-15T10:00:00Z"},{id:"cat-3",name:{en:"Viral Diseases",om:"Dhukkuboota Vaayirasii",am:" "},description:{en:"Plant diseases caused by viral infections",om:"Dhukkuboota biqiltootaa vaayirasiin uumaman",am:"    "},color:"#F59E0B",icon:"Zap",createdAt:"2024-01-15T10:00:00Z"},{id:"cat-4",name:{en:"Nutritional Disorders",om:"Rakkoolee Soorataa",am:" "},description:{en:"Plant health issues caused by nutrient deficiencies or excesses",om:"Dhimmoota fayyaa biqiltootaa hanqina ykn garmalee soorataan uumaman",am:"          "},color:"#10B981",icon:"Leaf",createdAt:"2024-01-15T10:00:00Z"},{id:"cat-5",name:{en:"Environmental Stress",om:"Dhiphina Naannoo",am:" "},description:{en:"Plant disorders caused by environmental factors like drought, heat, or cold",om:"Rakkoolee biqiltootaa wantoota naannoo akka gogiinsa, ho'aa, ykn qorraatiin uumaman",am:"          "},color:"#6B7280",icon:"Cloud",createdAt:"2024-01-15T10:00:00Z"}],wr=[{id:"disease-1",name:{en:"Late Blight",om:"Dhukkuba Boqqolloo",am:" "},cropType:"Potato",categoryId:"cat-1",featured:!0,images:["https://images.unsplash.com/photo-1518977676601-b53f82ber3d5?w=400"],symptoms:{en:["Dark brown or black lesions on leaves","White fuzzy growth on underside of leaves","Stems may become infected and break","Tubers develop brown rot"],om:["Madaa gurraacha baala irratti","Guddinni adii jala baala irratti","Hiddi faalama ta'uu danda'a","Qubeen tortoruu gurraacha ta'a"],am:["     ","    ","  ","   "]},treatments:[{chemicalId:"chem-1",chemicalName:"Ridomil Gold MZ",dosage:"2.5 kg/ha",safetyInstructions:{en:"Wear protective gloves and mask. Do not apply near water sources.",om:"Guwantii fi maaskii uffadhu. Bishaanitti dhiyaatti hin fayyadamin.",am:"        "}}]},{id:"disease-2",name:{en:"Tomato Yellow Leaf Curl",om:"Baala Timaatimii Keelloo",am:"   "},cropType:"Tomato",categoryId:"cat-3",featured:!0,images:[],symptoms:{en:["Yellowing of leaf margins","Upward curling of leaves","Stunted plant growth","Reduced fruit production"],om:["Keellayuu daaraa baalaa","Baalli ol maruu","Guddina biqiltuu gadi bu'e","Oomisha frii gadi bu'e"],am:["  ","   ","  ","  "]},treatments:[{chemicalId:"chem-2",chemicalName:"Imidacloprid",dosage:"200 ml/ha",safetyInstructions:{en:"Apply in early morning or evening. Keep away from bees.",om:"Ganama yookin galgala fayyadami. Kanniisa irraa fagaadhu.",am:"     "}}]},{id:"disease-3",name:{en:"Coffee Berry Disease",om:"Dhukkuba Bunaa",am:"  "},cropType:"Coffee",categoryId:"cat-1",featured:!0,images:[],symptoms:{en:["Dark sunken lesions on berries","Premature berry drop","Brown-black spots on flowers","Twig dieback"],om:["Madaa gurraacha frii irratti","Frii dursee kufu","Tuqaa gurraacha daraaraa irratti","Dameen du'u"],am:["    ","  ","-   "," "]},treatments:[{chemicalId:"chem-3",chemicalName:"Copper Hydroxide",dosage:"3 kg/ha",safetyInstructions:{en:"Apply at first sign of disease. Repeat every 2 weeks during wet season.",om:"Mallattoo jalqabaa irratti fayyadami. Torban 2tti irra deebi'i.",am:"   2  "}}]},{id:"disease-4",name:{en:"Maize Streak Virus",om:"Vaayirasii Boqqolloo",am:"  "},cropType:"Maize",categoryId:"cat-3",images:[],symptoms:{en:["Yellow streaks along leaf veins","Stunted growth","Small, malformed cobs","Reduced grain fill"],om:["Sarara keelloo hiddaa baalaa irratti","Guddina gadi bu'e","Boqqolloo xiqqaa, hin toliin","Midhaanii hir'ate"],am:["     "," ","  ","  "]},treatments:[{chemicalId:"chem-4",chemicalName:"Thiamethoxam",dosage:"150 ml/ha",safetyInstructions:{en:"Control leafhopper vectors. Apply as seed treatment or foliar spray.",om:"Qamilee to'adhu. Sanyii yookin baala irratti biifi.",am:"        "}}]},{id:"disease-5",name:{en:"Wheat Rust",om:"Kosii Qamadii",am:" "},cropType:"Wheat",categoryId:"cat-1",images:[],symptoms:{en:["Orange-brown pustules on leaves and stems","Yellowing and drying of leaves","Reduced grain quality","Shriveled kernels"],om:["Dhoqqee burtukaana-magaala baala fi hidda irratti","Keellayuu fi goguu baalaa","Qulqullina midhaan gadi bu'e","Sanyiin wawwaate"],am:["-     ","    ","  "," "]},treatments:[{chemicalId:"chem-5",chemicalName:"Propiconazole",dosage:"500 ml/ha",safetyInstructions:{en:"Apply at first sign of rust. Avoid spraying in windy conditions.",om:"Mallattoo jalqabaa irratti biifi. Qilleensa cimaa keessa hin biisin.",am:"      "}}]}],El=[{id:"chem-1",name:"Ridomil Gold MZ",type:"Fungicide",activeIngredient:"Metalaxyl-M + Mancozeb",dosage:"2.5 kg/ha",safetyInstructions:{en:"Wear protective equipment. Do not apply near water.",om:"Meeshaa eegumsa uffadhu. Bishaanitti hin dhiyaatin.",am:"     "}},{id:"chem-2",name:"Imidacloprid",type:"Insecticide",activeIngredient:"Imidacloprid 200 SL",dosage:"200 ml/ha",safetyInstructions:{en:"Harmful to bees. Apply early morning or evening.",om:"Kanniisaaf miidhaa. Ganama yookin galgala fayyadami.",am:"      "}},{id:"chem-3",name:"Copper Hydroxide",type:"Fungicide",activeIngredient:"Copper Hydroxide 77% WP",dosage:"3 kg/ha",safetyInstructions:{en:"Avoid contact with skin. Use respirator mask.",om:"Gogaa waliin wal hin tuqin. Maaskii fayyadami.",am:"      "}},{id:"chem-4",name:"Thiamethoxam",type:"Insecticide",activeIngredient:"Thiamethoxam 25% WG",dosage:"150 ml/ha",safetyInstructions:{en:"Systemic insecticide. Follow label instructions.",om:"Keemikaala siistamii. Qajeelfama hordofi.",am:" -   "}},{id:"chem-5",name:"Propiconazole",type:"Fungicide",activeIngredient:"Propiconazole 25% EC",dosage:"500 ml/ha",safetyInstructions:{en:"Do not mix with other pesticides. Store in cool place.",om:"Keemikaalota biroo waliin hin makiin. Bakka qorraa kaa'i.",am:" -     "}}],Ho=[{id:"market-1",name:"Robe Agricultural Center",location:"Robe Town",region:"Oromia",chemicals:[{chemicalId:"chem-1",chemicalName:"Ridomil Gold MZ",price:850,available:!0,lastUpdated:"2024-01-15"},{chemicalId:"chem-2",chemicalName:"Imidacloprid",price:420,available:!0,lastUpdated:"2024-01-15"},{chemicalId:"chem-3",chemicalName:"Copper Hydroxide",price:380,available:!1,lastUpdated:"2024-01-10"}]},{id:"market-2",name:"Goba Farmers Market",location:"Goba Town",region:"Oromia",chemicals:[{chemicalId:"chem-1",chemicalName:"Ridomil Gold MZ",price:880,available:!0,lastUpdated:"2024-01-14"},{chemicalId:"chem-4",chemicalName:"Thiamethoxam",price:560,available:!0,lastUpdated:"2024-01-14"},{chemicalId:"chem-5",chemicalName:"Propiconazole",price:720,available:!0,lastUpdated:"2024-01-12"}]},{id:"market-3",name:"Sinana AgriSupply",location:"Sinana",region:"Oromia",chemicals:[{chemicalId:"chem-1",chemicalName:"Ridomil Gold MZ",price:820,available:!0,lastUpdated:"2024-01-15"},{chemicalId:"chem-2",chemicalName:"Imidacloprid",price:400,available:!0,lastUpdated:"2024-01-15"},{chemicalId:"chem-3",chemicalName:"Copper Hydroxide",price:360,available:!0,lastUpdated:"2024-01-15"},{chemicalId:"chem-4",chemicalName:"Thiamethoxam",price:540,available:!0,lastUpdated:"2024-01-14"},{chemicalId:"chem-5",chemicalName:"Propiconazole",price:690,available:!0,lastUpdated:"2024-01-13"}]},{id:"market-4",name:"Ginir Crop Center",location:"Ginir",region:"Oromia",chemicals:[{chemicalId:"chem-1",chemicalName:"Ridomil Gold MZ",price:860,available:!0,lastUpdated:"2024-01-14"},{chemicalId:"chem-3",chemicalName:"Copper Hydroxide",price:375,available:!0,lastUpdated:"2024-01-13"}]},{id:"market-5",name:"Agarfa Agricultural Supply",location:"Agarfa",region:"Oromia",chemicals:[{chemicalId:"chem-2",chemicalName:"Imidacloprid",price:410,available:!0,lastUpdated:"2024-01-15"},{chemicalId:"chem-4",chemicalName:"Thiamethoxam",price:550,available:!0,lastUpdated:"2024-01-14"},{chemicalId:"chem-5",chemicalName:"Propiconazole",price:700,available:!1,lastUpdated:"2024-01-12"}]}],em=[{id:"pending-1",imageUrl:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400",location:"Goba Town",detectedDisease:"Unknown Leaf Spot",confidence:45,userId:"user-123",createdAt:"2024-01-15T10:30:00Z",status:"pending"},{id:"pending-2",imageUrl:"https://images.unsplash.com/photo-1574943320219-553eb213f72d?w=400",location:"Sinana",detectedDisease:"Possible Wilt Disease",confidence:38,userId:"user-456",createdAt:"2024-01-14T14:20:00Z",status:"pending"},{id:"pending-3",imageUrl:"https://images.unsplash.com/photo-1500595046743-cd271d694d30?w=400",location:"Ginir",detectedDisease:"Rust Disease",confidence:62,userId:"user-789",createdAt:"2024-01-16T09:15:00Z",status:"pending"}],tm=[{id:"comment-1",userId:"user-123",userName:"John Farmer",userEmail:"john@example.com",subject:"Tomato Disease Question",message:"My tomato plants have yellow spots. What chemical should I use?",category:"question",relatedId:"disease-2",status:"unread",submittedAt:"2024-01-15T09:00:00Z",createdAt:"2024-01-15T09:00:00Z",commentText:"My tomato plants have yellow spots. What chemical should I use?",location:"Robe Town",relatedDiseaseId:"disease-2"},{id:"comment-2",userId:"user-789",userName:"Mary Farmer",userEmail:"mary@example.com",subject:"Chemical Availability",message:"Where can I find Ridomil Gold in Goba?",category:"general",status:"read",submittedAt:"2024-01-14T16:45:00Z",createdAt:"2024-01-14T16:45:00Z",readAt:"2024-01-15T08:00:00Z",commentText:"Where can I find Ridomil Gold in Goba?",location:"Goba Town"},{id:"comment-3",userId:"user-456",userName:"Ahmed Farmer",userEmail:"ahmed@example.com",subject:"Crop Disease Help",message:"I need help identifying a disease affecting my barley crop in Sinana.",category:"question",status:"unread",submittedAt:"2024-01-16T11:30:00Z",createdAt:"2024-01-16T11:30:00Z",commentText:"I need help identifying a disease affecting my barley crop in Sinana.",location:"Sinana"}];function DG({value:t,onChange:e}){const{t:n}=xt(),[r,s]=w.useState(""),[i,o]=w.useState(!1),a=oj.filter(l=>l.toLowerCase().includes(r.toLowerCase()));return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground text-center",children:n("selectLocation")}),c.jsx("p",{className:"text-muted-foreground text-center text-sm",children:n("locationRequired")}),c.jsxs("div",{className:"relative",children:[c.jsx(Mt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:"text",placeholder:"Search location...",value:r,onChange:l=>{s(l.target.value),o(!0)},onFocus:()=>o(!0),className:"pl-12 h-14 text-lg rounded-xl"})]}),t&&!i&&c.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 p-4 rounded-2xl bg-primary/10 border-2 border-primary",children:[c.jsx(Mt,{className:"w-6 h-6 text-primary"}),c.jsx("span",{className:"font-bold text-lg text-foreground",children:t}),c.jsx(ji,{className:"w-6 h-6 text-primary ml-auto"})]}),c.jsx(As,{children:i&&c.jsx(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-card rounded-2xl border border-border overflow-hidden max-h-[300px] overflow-y-auto",children:a.length===0?c.jsx("p",{className:"p-4 text-center text-muted-foreground",children:"No locations found"}):a.map((l,u)=>c.jsxs(Y.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:u*.02},onClick:()=>{e(l),o(!1),s("")},className:rn("w-full flex items-center gap-3 p-4 text-left transition-colors border-b border-border last:border-b-0",t===l?"bg-primary/10 text-primary":"hover:bg-muted"),children:[c.jsx(Mt,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{className:"font-medium text-lg",children:l}),t===l&&c.jsx(ji,{className:"w-5 h-5 ml-auto text-primary"})]},l))})})]})}function MG(){const{updateUserData:t,userData:e}=Rn(),{t:n}=xt(),r=Pn(),[s,i]=w.useState("language"),[o,a]=w.useState((e==null?void 0:e.location)||""),[l,u]=w.useState(!1),h=async()=>{if(s==="language")i("location");else if(s==="location"){if(!o){q.error("Please select your location");return}u(!0);try{await t({location:o}),localStorage.setItem("agroguard_location",o),q.success("Setup complete!"),r("/dashboard")}catch(p){console.error("Error saving location:",p),q.error("Failed to save. Please try again.")}finally{u(!1)}}},f=()=>{s==="location"&&i("language")},m=s==="language"||s==="location"&&o;return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 px-6 pt-6",children:[c.jsx("img",{src:Wl,alt:"AgroGuard AI",className:"w-12 h-12 rounded-xl object-contain"}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-bold text-lg text-foreground",children:n("appName")}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Setup your preferences"})]})]}),c.jsxs("div",{className:"px-6 pt-6",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${s==="language"||s==="location"?"bg-primary":"bg-muted"}`}),c.jsx("div",{className:`h-2 flex-1 rounded-full transition-colors ${s==="location"?"bg-primary":"bg-muted"}`})]}),c.jsxs("div",{className:"flex justify-between mt-2 text-sm text-muted-foreground",children:[c.jsx("span",{className:s==="language"?"text-primary font-medium":"",children:n("selectLanguage")}),c.jsx("span",{className:s==="location"?"text-primary font-medium":"",children:n("selectLocation")})]})]}),c.jsxs(Y.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex-1 px-6 py-8",children:[s==="language"&&c.jsx(PG,{}),s==="location"&&c.jsx(DG,{value:o,onChange:a})]},s),c.jsxs("div",{className:"px-6 pb-8 space-y-3",children:[c.jsx(re,{variant:"farmer",className:"w-full",onClick:h,disabled:!m||l,children:l?c.jsxs(c.Fragment,{children:[c.jsx(xe,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):s==="location"?c.jsxs(c.Fragment,{children:[c.jsx(ji,{className:"w-5 h-5"}),"Get Started"]}):c.jsxs(c.Fragment,{children:[n("continue"),c.jsx($0,{className:"w-5 h-5"})]})}),s!=="language"&&c.jsxs(re,{variant:"ghost",className:"w-full",onClick:f,disabled:l,children:[c.jsx(Il,{className:"w-5 h-5"}),"Back"]})]})]})}const OG=[{key:"home",icon:EO,path:"/dashboard"},{key:"diseases",icon:_u,path:"/diseases"},{key:"scan",icon:qc,path:"/scan",isScan:!0},{key:"markets",icon:Mt,path:"/markets"},{key:"profile",icon:H0,path:"/profile"}];function ks(){const{t}=xt(),e=Yo();return c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50 safe-bottom",children:c.jsx("div",{className:"flex justify-around items-center h-20 px-2 max-w-lg mx-auto",children:OG.map(n=>{const r=e.pathname===n.path,s=n.icon;return n.isScan?c.jsx(jt,{to:n.path,className:"relative -mt-6",children:c.jsx(Y.div,{whileTap:{scale:.9},className:"w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center shadow-xl",style:{boxShadow:"0 4px 20px rgba(34, 197, 94, 0.4)"},children:c.jsx(s,{className:"w-7 h-7"})})},n.key):c.jsxs(jt,{to:n.path,className:rn("flex flex-col items-center justify-center py-2 px-3 rounded-xl transition-colors min-w-[60px]",r?"text-primary bg-primary/10":"text-muted-foreground hover:text-primary"),children:[c.jsx(s,{className:rn("w-6 h-6 mb-1",r&&"text-primary")}),c.jsx("span",{className:"text-xs font-medium",children:t(n.key)}),r&&c.jsx(Y.div,{layoutId:"activeTab",className:"absolute bottom-1 w-1 h-1 rounded-full bg-primary",transition:{type:"spring",stiffness:500,damping:30}})]},n.key)})})})}function aj({disease:t,index:e=0}){var i,o,a,l,u,h,f;const{language:n}=xt(),r=((i=t.name)==null?void 0:i[n])||((o=t.name)==null?void 0:o.en)||"Unknown Disease",s=((l=(a=t.symptoms)==null?void 0:a[n])==null?void 0:l[0])||((h=(u=t.symptoms)==null?void 0:u.en)==null?void 0:h[0])||"No symptoms available";return c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:c.jsxs(jt,{to:`/diseases/${t.id}`,className:"card-farmer-interactive flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-xl bg-primary-muted flex items-center justify-center flex-shrink-0 overflow-hidden",children:(f=t.images)!=null&&f[0]?c.jsx("img",{src:t.images[0],alt:r,className:"w-full h-full object-cover"}):c.jsx(Hn,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-bold text-foreground text-lg truncate",children:r}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:s}),c.jsx("span",{className:"inline-block mt-2 px-2 py-0.5 rounded-full bg-accent text-accent-foreground text-xs font-medium",children:t.cropType})]}),c.jsx(Di,{className:"w-6 h-6 text-muted-foreground flex-shrink-0"})]})})}const LG="http://localhost:3001";class VG{constructor(e=LG){oa(this,"baseUrl");this.baseUrl=e}async request(e,n={}){try{const r=`${this.baseUrl}${e}`,s=await fetch(r,{headers:{"Content-Type":"application/json",...n.headers},...n}),i=await s.json();if(!s.ok)throw new Error(i.error||`HTTP ${s.status}`);return i}catch(r){return console.error(`Backend API Error (${e}):`,r),{success:!1,error:r instanceof Error?r.message:"Network error"}}}async getAll(e){const n=await this.request(`/api/${e}`);return n.success?n.data||[]:[]}async getById(e,n){const r=await this.request(`/api/${e}/${n}`);return r.success&&r.data||null}async create(e,n){const r=await this.request(`/api/${e}`,{method:"POST",body:JSON.stringify(n)});return r.success&&r.data?r.data.id:null}async update(e,n,r){return(await this.request(`/api/${e}/${n}`,{method:"PUT",body:JSON.stringify(r)})).success}async delete(e,n){return(await this.request(`/api/${e}/${n}`,{method:"DELETE"})).success}async searchDiseasesByCrop(e){const n=await this.request(`/api/diseases/search/${encodeURIComponent(e)}`);return n.success?n.data||[]:[]}async getFeaturedDiseases(){const e=await this.request("/api/diseases/featured");return e.success?e.data||[]:[]}async getChemicalsByType(e){const n=await this.request(`/api/chemicals/type/${encodeURIComponent(e)}`);return n.success?n.data||[]:[]}async getMarketsByLocation(e){const n=await this.request(`/api/markets/location/${encodeURIComponent(e)}`);return n.success?n.data||[]:[]}async getMarketChemicals(e){const n=await this.request(`/api/markets/${e}/chemicals`);return n.success?n.data||[]:[]}async updateMarketChemical(e,n,r){return(await this.request(`/api/markets/${e}/chemicals/${n}`,{method:"PUT",body:JSON.stringify(r)})).success}async submitPendingDisease(e){const n=await this.request("/api/pending-diseases",{method:"POST",body:JSON.stringify(e)});return n.success?n.data:null}async approvePendingDisease(e,n){return(await this.request(`/api/pending-diseases/${e}/approve`,{method:"PUT",body:JSON.stringify({diseaseData:n})})).success}async rejectPendingDisease(e,n){return(await this.request(`/api/pending-diseases/${e}/reject`,{method:"PUT",body:JSON.stringify({reason:n})})).success}async getPendingDiseasesByStatus(e){const n=await this.request(`/api/pending-diseases/status/${e}`);return n.success?n.data||[]:[]}async submitComment(e){const n=await this.request("/api/comments",{method:"POST",body:JSON.stringify(e)});return n.success?n.data:null}async markCommentAsRead(e){return(await this.request(`/api/comments/${e}/read`,{method:"PUT"})).success}async replyToComment(e,n,r){return(await this.request(`/api/comments/${e}/reply`,{method:"PUT",body:JSON.stringify({reply:n,repliedBy:r})})).success}async getCommentsByStatus(e){const n=await this.request(`/api/comments/status/${e}`);return n.success?n.data||[]:[]}async getCommentsByCategory(e){const n=await this.request(`/api/comments/category/${e}`);return n.success?n.data||[]:[]}async getCommentsByUser(e){const n=await this.request(`/api/comments/user/${e}`);return n.success?n.data||[]:[]}async healthCheck(){return await this.request("/health")}}const Gt=new VG;function Ve(t){const e=t;return!!e&&(e.code==="permission-denied"||typeof e.message=="string"&&e.message.toLowerCase().includes("insufficient permissions"))}const me={diseases:"diseases",diseaseCategories:"disease-categories",chemicals:"chemicals",markets:"markets",pendingDiseases:"pendingDiseases",comments:"comments"};async function In(t){try{const e=m2(Ym($n,t));return(await v2(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error(`Error fetching ${t} from Firestore:`,e),Ve(e)?(console.log(`Falling back to backend for ${t}`),await Gt.getAll(t)):[]}}async function Ai(t,e){try{const n=hi($n,t,e),r=await y2(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){return console.error(`Error fetching ${t}/${e} from Firestore:`,n),Ve(n)?(console.log(`Falling back to backend for ${t}/${e}`),await Gt.getById(t,e)):null}}async function Hl(t,e){try{return(await x2(Ym($n,t),{...e,createdAt:Pe.now(),updatedAt:Pe.now()})).id}catch(n){return console.error(`Error creating ${t} in Firestore:`,n),Ve(n)?(console.log(`Falling back to backend for creating ${t}`),await Gt.create(t,e)):null}}async function Qr(t,e,n){try{const r=hi($n,t,e);return await Iz(r,{...n,updatedAt:Pe.now()}),!0}catch(r){return console.error(`Error updating ${t}/${e} in Firestore:`,r),Ve(r)?(console.log(`Falling back to backend for updating ${t}/${e}`),await Gt.update(t,e,n)):!1}}async function ql(t,e){try{const n=hi($n,t,e);return await Az(n),!0}catch(n){return console.error(`Error deleting ${t}/${e} from Firestore:`,n),Ve(n)?(console.log(`Falling back to backend for deleting ${t}/${e}`),await Gt.delete(t,e)):!1}}const Mc={getAll:()=>In(me.diseaseCategories),getById:t=>Ai(me.diseaseCategories,t),create:t=>Hl(me.diseaseCategories,t),update:(t,e)=>Qr(me.diseaseCategories,t,e),delete:t=>ql(me.diseaseCategories,t)},Vr={getAll:()=>In(me.diseases),getById:t=>Ai(me.diseases,t),create:t=>Hl(me.diseases,t),update:(t,e)=>Qr(me.diseases,t,e),delete:t=>ql(me.diseases,t),searchByCrop:async t=>{try{return(await In(me.diseases)).filter(n=>n.cropType.toLowerCase().includes(t.toLowerCase()))}catch{return console.log("Falling back to backend for disease search"),await Gt.searchDiseasesByCrop(t)}},getFeatured:async()=>{try{return(await In(me.diseases)).filter(e=>e.featured===!0)}catch{return console.log("Falling back to backend for featured diseases"),await Gt.getFeaturedDiseases()}}},Pa={getAll:()=>In(me.chemicals),getById:t=>Ai(me.chemicals,t),create:t=>Hl(me.chemicals,t),update:(t,e)=>Qr(me.chemicals,t,e),delete:t=>ql(me.chemicals,t),getByType:async t=>{try{return(await In(me.chemicals)).filter(n=>n.type.toLowerCase()===t.toLowerCase())}catch{return console.log("Falling back to backend for chemical type filter"),await Gt.getChemicalsByType(t)}}},Ra={getAll:()=>In(me.markets),getById:t=>Ai(me.markets,t),create:t=>Hl(me.markets,t),update:(t,e)=>Qr(me.markets,t,e),delete:t=>ql(me.markets,t),getByLocation:async t=>{try{return(await In(me.markets)).filter(n=>n.location.toLowerCase().includes(t.toLowerCase())||n.region.toLowerCase().includes(t.toLowerCase()))}catch{return console.log("Falling back to backend for market location filter"),await Gt.getMarketsByLocation(t)}},getChemicals:async t=>{try{const e=await Ai(me.markets,t);return(e==null?void 0:e.chemicals)||[]}catch{return console.log("Falling back to backend for market chemicals"),await Gt.getMarketChemicals(t)}},updateChemical:async(t,e,n)=>{try{const r=await Ai(me.markets,t);if(!r)return!1;const s=r.chemicals||[],i=s.findIndex(o=>o.chemicalId===e);return i===-1?!1:(n.price!==void 0&&(s[i].price=n.price),n.available!==void 0&&(s[i].available=n.available),s[i].lastUpdated=new Date().toISOString().split("T")[0],await Qr(me.markets,t,{chemicals:s}))}catch{return console.log("Falling back to backend for market chemical update"),await Gt.updateMarketChemical(t,e,n)}}},Wh={getAll:()=>In(me.pendingDiseases),getById:t=>Ai(me.pendingDiseases,t),create:t=>Hl(me.pendingDiseases,t),update:(t,e)=>Qr(me.pendingDiseases,t,e),delete:t=>ql(me.pendingDiseases,t),approve:async(t,e)=>{try{const n=await Vr.create(e);return n?(await Qr(me.pendingDiseases,t,{status:"approved",approvedAt:new Date().toISOString(),approvedDiseaseId:n}),n):null}catch{return console.log("Falling back to backend for pending disease approval"),await Gt.approvePendingDisease(t,e)?"approved":null}},reject:async(t,e)=>{try{return await Qr(me.pendingDiseases,t,{status:"rejected",rejectedAt:new Date().toISOString(),rejectionReason:e||"No reason provided"})}catch{return console.log("Falling back to backend for pending disease rejection"),await Gt.rejectPendingDisease(t,e)}},getByStatus:async t=>{try{return(await In(me.pendingDiseases)).filter(n=>n.status===t)}catch{return console.log("Falling back to backend for pending diseases by status"),await Gt.getPendingDiseasesByStatus(t)}}},ja={getAll:()=>In(me.comments),getById:t=>Ai(me.comments,t),create:t=>Hl(me.comments,t),markAsRead:t=>Qr(me.comments,t,{status:"read",readAt:new Date().toISOString()}),markAsReplied:(t,e,n)=>Qr(me.comments,t,{status:"replied",reply:e,repliedBy:n||"Admin",repliedAt:new Date().toISOString()}),delete:t=>ql(me.comments,t),getByStatus:async t=>{try{return(await In(me.comments)).filter(n=>n.status===t)}catch{return console.log("Falling back to backend for comments by status"),await Gt.getCommentsByStatus(t)}},getByUser:async t=>{try{return(await In(me.comments)).filter(n=>n.userId===t)}catch{return console.log("Falling back to backend for comments by user"),await Gt.getCommentsByUser(t)}}};function FG(){const{userData:t}=Rn(),{t:e}=xt(),[n,r]=w.useState([]),[s,i]=w.useState(!0),[o,a]=w.useState("light"),l=(t==null?void 0:t.location)||localStorage.getItem("agroguard_location")||"Select Location";w.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const f=await Vr.getFeatured();r(f.length>0?f.slice(0,3):wr.slice(0,3))}catch(f){console.error("Error loading featured diseases:",f),r(wr.slice(0,3))}i(!1)},h=()=>{const f=o==="dark"?"light":"dark";a(f),document.documentElement.classList.toggle("dark",f==="dark")};return c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"bg-primary text-primary-foreground px-6 pt-6 pb-8 rounded-b-3xl",children:[c.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:Wl,alt:"AgroGuard AI",className:"w-12 h-12 rounded-xl object-contain bg-primary-foreground/10"}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-bold text-xl",children:e("appName")}),c.jsxs("div",{className:"flex items-center gap-1 text-sm opacity-90",children:[c.jsx(Mt,{className:"w-4 h-4"}),c.jsx("span",{children:l})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:h,className:"w-10 h-10 rounded-full bg-primary-foreground/20 flex items-center justify-center hover:bg-primary-foreground/30 transition-colors",children:o==="dark"?c.jsx(PA,{className:"w-5 h-5"}):c.jsx(DA,{className:"w-5 h-5"})}),c.jsxs("button",{className:"w-10 h-10 rounded-full bg-primary-foreground/20 flex items-center justify-center relative hover:bg-primary-foreground/30 transition-colors",children:[c.jsx(mO,{className:"w-5 h-5"}),c.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 rounded-full bg-destructive"})]})]})]}),c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:c.jsxs(jt,{to:"/scan",className:"flex items-center gap-4 bg-primary-foreground/20 rounded-2xl p-4 hover:bg-primary-foreground/30 transition-colors",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary-foreground flex items-center justify-center",children:c.jsx(qc,{className:"w-7 h-7 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-lg",children:e("scanCrop")}),c.jsx("p",{className:"text-sm opacity-90",children:"Take a photo to identify diseases"})]}),c.jsx(Di,{className:"w-6 h-6"})]})})]}),c.jsxs("div",{className:"px-6 py-6 space-y-6",children:[c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(jt,{to:"/diseases",className:"card-farmer-interactive flex flex-col items-center py-6",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center mb-3",children:c.jsx(_u,{className:"w-7 h-7 text-primary"})}),c.jsx("span",{className:"font-semibold text-foreground",children:e("diseases")})]}),c.jsxs(jt,{to:"/markets",className:"card-farmer-interactive flex flex-col items-center py-6",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-secondary/20 flex items-center justify-center mb-3",children:c.jsx(Mt,{className:"w-7 h-7 text-secondary"})}),c.jsx("span",{className:"font-semibold text-foreground",children:e("markets")})]})]})}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"section-header mb-0",children:e("commonDiseases")}),c.jsxs(jt,{to:"/diseases",className:"text-primary font-medium text-sm flex items-center gap-1 hover:underline",children:["View All",c.jsx(Di,{className:"w-4 h-4"})]})]}),c.jsx("div",{className:"space-y-3",children:s?c.jsx("div",{className:"flex items-center justify-center py-8",children:c.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"})}):n.map((f,m)=>c.jsx(aj,{disease:f,index:m},f.id))})]}),c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card-farmer bg-accent/50 border-accent",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center flex-shrink-0",children:c.jsx(Hn,{className:"w-6 h-6 text-accent-foreground"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Early Detection"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan your crops regularly to catch diseases early. Early treatment can prevent up to 70% crop loss."})]})]})})]}),c.jsx(ks,{})]})}function UG(){const{t,language:e}=xt(),[n,r]=w.useState(""),[s,i]=w.useState(null),[o,a]=w.useState([]),[l,u]=w.useState(!0),[h,f]=w.useState(!1),m=async(y=!1)=>{y?f(!0):u(!0);try{const b=await Vr.getAll();a(b.length>0?b:wr),console.log(`Loaded ${b.length} diseases from Firestore`)}catch(b){console.error("Error loading diseases:",b),a(wr),console.log("Fallback to mock diseases")}u(!1),f(!1)};w.useEffect(()=>{m();const y=setInterval(()=>m(),3e4);return()=>clearInterval(y)},[]);const p=[...new Set(o.map(y=>y.cropType))],v=o.filter(y=>{const _=(y.name[e]||y.name.en).toLowerCase().includes(n.toLowerCase()),T=!s||y.cropType===s;return _&&T});return c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"px-6 pt-6 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Y.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold text-foreground",children:t("diseases")}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>m(!0),disabled:h,className:"flex items-center gap-2",children:[c.jsx(Al,{className:`w-4 h-4 ${h?"animate-spin":""}`}),"Refresh"]})]}),c.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[c.jsx(_u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:"text",placeholder:t("searchDisease"),value:n,onChange:y=>r(y.target.value),className:"pl-12 h-14 text-lg rounded-xl"})]}),c.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2 mt-4 overflow-x-auto pb-2 scrollbar-hide",children:[c.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${s?"bg-muted text-muted-foreground hover:bg-muted/80":"bg-primary text-primary-foreground"}`,children:"All Crops"}),p.map(y=>c.jsx("button",{onClick:()=>i(y),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${s===y?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:y},y))]})]}),c.jsx("div",{className:"px-6 space-y-3",children:l?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"}),c.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading diseases..."})]}):v.length===0?c.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[c.jsx(_u,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"No diseases found"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different search term or crop type"})]}):v.map((y,b)=>c.jsx(aj,{disease:y,index:b},y.id))}),c.jsx(ks,{})]})}function BG(){const{id:t}=Ok(),e=Pn(),{t:n,language:r}=xt(),[s,i]=w.useState(null),[o,a]=w.useState([]),[l,u]=w.useState(!0),h=localStorage.getItem("agroguard_location")||"";w.useEffect(()=>{f()},[t]);const f=async()=>{if(t){u(!0);try{const y=await Vr.getById(t);if(y)i(y);else{const _=wr.find(T=>T.id===t);i(_||null)}const b=await Ra.getAll();a(b.length>0?b:Ho)}catch(y){console.error("Error loading disease data:",y);const b=wr.find(_=>_.id===t);i(b||null),a(Ho)}u(!1)}};if(l)return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(xe,{className:"w-6 h-6 animate-spin text-primary"}),c.jsx("span",{className:"text-muted-foreground",children:"Loading disease details..."})]})});if(!s)return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Hn,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Disease not found"}),c.jsx(re,{variant:"outline",onClick:()=>e("/diseases"),className:"mt-4",children:"Back to Diseases"})]})});const m=s.name[r]||s.name.en,p=s.symptoms[r]||s.symptoms.en,v=o.filter(y=>h&&y.location!==h?!1:s.treatments.some(b=>y.chemicals.some(_=>_.chemicalId===b.chemicalId&&_.available)));return c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"relative h-48 bg-primary-muted",children:[s.images[0]?c.jsx("img",{src:s.images[0],alt:m,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(Hn,{className:"w-16 h-16 text-primary/50"})}),c.jsx("button",{onClick:()=>e(-1),className:"absolute top-4 left-4 w-10 h-10 rounded-full bg-card/90 backdrop-blur flex items-center justify-center shadow-lg",children:c.jsx(Il,{className:"w-5 h-5 text-foreground"})})]}),c.jsxs("div",{className:"px-6 -mt-6 relative",children:[c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-2xl shadow-lg p-6",children:[c.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium mb-2",children:s.cropType}),c.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:m})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-4",children:[c.jsxs("h2",{className:"section-header flex items-center gap-2",children:[c.jsx(Hn,{className:"w-5 h-5 text-warning"}),n("symptoms")]}),c.jsx("div",{className:"card-farmer",children:c.jsx("ul",{className:"space-y-3",children:p.map((y,b)=>c.jsxs("li",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"w-2 h-2 rounded-full bg-warning mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-foreground",children:y})]},b))})})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-4",children:[c.jsxs("h2",{className:"section-header flex items-center gap-2",children:[c.jsx(RA,{className:"w-5 h-5 text-primary"}),n("treatment")]}),c.jsx("div",{className:"space-y-3",children:s.treatments.map((y,b)=>{const _=y.safetyInstructions[r]||y.safetyInstructions.en;return c.jsxs("div",{className:"card-farmer",children:[c.jsx("h3",{className:"font-bold text-lg text-foreground mb-2",children:y.chemicalName}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-muted-foreground",children:[n("dosage"),":"]}),c.jsx("span",{className:"font-medium text-foreground",children:y.dosage})]}),c.jsxs("div",{className:"flex items-start gap-2 p-3 bg-warning/10 rounded-xl",children:[c.jsx(bu,{className:"w-5 h-5 text-warning flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-foreground text-sm",children:_})]})]})]},b)})})]}),v.length>0&&c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4",children:[c.jsxs("h2",{className:"section-header flex items-center gap-2",children:[c.jsx(Mt,{className:"w-5 h-5 text-secondary"}),n("availableAt")]}),c.jsx("div",{className:"space-y-3",children:v.map(y=>{const b=y.chemicals.filter(_=>s.treatments.some(T=>T.chemicalId===_.chemicalId)&&_.available);return c.jsxs(jt,{to:`/markets/${y.id}`,className:"card-farmer-interactive flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-foreground",children:y.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y.location}),c.jsx("div",{className:"flex gap-2 mt-2",children:b.map(_=>c.jsxs("span",{className:"px-2 py-1 bg-success/10 text-success text-xs rounded-full font-medium",children:[_.chemicalName," - ",_.price," ",n("etb")]},_.chemicalId))})]}),c.jsx(Di,{className:"w-5 h-5 text-muted-foreground"})]},y.id)})})]}),c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6",children:c.jsx(jt,{to:`/ask-question?diseaseId=${s.id}`,children:c.jsx(re,{variant:"farmer-outline",className:"w-full",children:n("askQuestion")})})})]}),c.jsx(ks,{})]})}function $G({market:t,index:e=0}){const{t:n}=xt(),r=t.chemicals.filter(s=>s.available).length;return c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:c.jsxs(jt,{to:`/markets/${t.id}`,className:"card-farmer-interactive flex items-center gap-4",children:[c.jsx("div",{className:"w-14 h-14 rounded-xl bg-secondary/20 flex items-center justify-center flex-shrink-0",children:c.jsx(Mt,{className:"w-7 h-7 text-secondary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-bold text-foreground text-lg truncate",children:t.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-muted-foreground",children:[c.jsx(Mt,{className:"w-4 h-4"}),c.jsx("span",{children:t.location})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(W0,{className:"w-4 h-4 text-primary"}),c.jsxs("span",{className:"text-sm text-primary font-medium",children:[r," ",n("chemicals")]})]})]}),c.jsx(Di,{className:"w-6 h-6 text-muted-foreground flex-shrink-0"})]})})}function zG(){const{t}=xt(),[e,n]=w.useState(""),[r,s]=w.useState(localStorage.getItem("agroguard_location")),[i,o]=w.useState([]),[a,l]=w.useState(!0),[u,h]=w.useState(!1),f=async(p=!1)=>{p?h(!0):l(!0);try{const v=await Ra.getAll();o(v.length>0?v:Ho),console.log(`Loaded ${v.length} markets from Firestore`)}catch(v){console.error("Error loading markets:",v),o(Ho),console.log("Fallback to mock markets")}l(!1),h(!1)};w.useEffect(()=>{f();const p=setInterval(()=>f(),3e4);return()=>clearInterval(p)},[]);const m=i.filter(p=>{const v=p.name.toLowerCase().includes(e.toLowerCase())||p.location.toLowerCase().includes(e.toLowerCase()),y=!r||p.location===r;return v&&y});return c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"px-6 pt-6 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Y.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold text-foreground",children:t("markets")}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:u,className:"flex items-center gap-2",children:[c.jsx(Al,{className:`w-4 h-4 ${u?"animate-spin":""}`}),"Refresh"]})]}),c.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[c.jsx(_u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),c.jsx(Oe,{type:"text",placeholder:"Search markets...",value:e,onChange:p=>n(p.target.value),className:"pl-12 h-14 text-lg rounded-xl"})]}),c.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex gap-2 mt-4 overflow-x-auto pb-2 scrollbar-hide",children:[c.jsxs("button",{onClick:()=>s(null),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors flex items-center gap-1 ${r?"bg-muted text-muted-foreground hover:bg-muted/80":"bg-secondary text-secondary-foreground"}`,children:[c.jsx(Mt,{className:"w-4 h-4"}),"All Locations"]}),oj.slice(0,5).map(p=>c.jsx("button",{onClick:()=>s(p),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r===p?"bg-secondary text-secondary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:p},p))]})]}),c.jsx("div",{className:"px-6 space-y-3",children:a?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"}),c.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading markets..."})]}):m.length===0?c.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[c.jsx(Mt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"No markets found"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try a different location"})]}):m.map((p,v)=>c.jsx($G,{market:p,index:v},p.id))}),c.jsx(ks,{})]})}function WG(){const{id:t}=Ok(),e=Pn(),{t:n}=xt(),r=Ho.find(s=>s.id===t);return r?c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"bg-secondary text-secondary-foreground px-6 pt-6 pb-8 rounded-b-3xl",children:[c.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-full bg-secondary-foreground/20 flex items-center justify-center",children:c.jsx(Il,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:n("markets")})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:r.name}),c.jsxs("div",{className:"flex items-center gap-2 opacity-90",children:[c.jsx(Mt,{className:"w-5 h-5"}),c.jsxs("span",{children:[r.location,", ",r.region]})]})]})]}),c.jsxs("div",{className:"px-6 py-6",children:[c.jsxs(Y.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"section-header flex items-center gap-2",children:[c.jsx(W0,{className:"w-5 h-5 text-primary"}),n("chemicals")," (",r.chemicals.length,")"]}),c.jsx("div",{className:"space-y-3",children:r.chemicals.map((s,i)=>c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+i*.1},className:"card-farmer",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsx("h3",{className:"font-bold text-lg text-foreground",children:s.chemicalName}),s.available?c.jsxs("span",{className:"badge-success flex items-center gap-1",children:[c.jsx(ji,{className:"w-4 h-4"}),"In Stock"]}):c.jsxs("span",{className:"badge-danger flex items-center gap-1",children:[c.jsx(vn,{className:"w-4 h-4"}),"Out of Stock"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-2xl font-bold text-primary",children:[s.price," ",c.jsx("span",{className:"text-base",children:n("etb")})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(xO,{className:"w-4 h-4"}),"Updated: ",new Date(s.lastUpdated).toLocaleDateString()]})]})]},s.chemicalId))})]}),c.jsx(ks,{})]}):c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsx("p",{className:"text-muted-foreground",children:"Market not found"})})}var jw="Progress",Dw=100,[HG,zQ]=ed(jw),[qG,GG]=HG(jw),lj=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=KG,...o}=t;(s||s===0)&&!dS(s)&&console.error(QG(`${s}`,"Progress"));const a=dS(s)?s:Dw;r!==null&&!hS(r,a)&&console.error(YG(`${r}`,"Progress"));const l=hS(r,a)?r:null,u=nm(l)?i(l,a):void 0;return c.jsx(qG,{scope:n,value:l,max:a,children:c.jsx(Yt.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":nm(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":dj(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});lj.displayName=jw;var cj="ProgressIndicator",uj=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=GG(cj,n);return c.jsx(Yt.div,{"data-state":dj(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});uj.displayName=cj;function KG(t,e){return`${Math.round(t/e*100)}%`}function dj(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function nm(t){return typeof t=="number"}function dS(t){return nm(t)&&!isNaN(t)&&t>0}function hS(t,e){return nm(t)&&!isNaN(t)&&t<=e&&t>=0}function QG(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Dw}\`.`}function YG(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Dw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hj=lj,XG=uj;const fj=w.forwardRef(({className:t,value:e,...n},r)=>c.jsx(hj,{ref:r,className:rn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(XG,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));fj.displayName=hj.displayName;const rm={cloudName:"dc09vfass",uploadPreset:"agroguard_upload",folder:"agroguard/scans"},JG=`https://api.cloudinary.com/v1_1/${rm.cloudName}/image/upload`;async function ZG(t,e){return new Promise((n,r)=>{const s=new FormData;s.append("file",t),s.append("upload_preset",rm.uploadPreset),s.append("folder",rm.folder);const i=new XMLHttpRequest;e&&i.upload.addEventListener("progress",o=>{if(o.lengthComputable){const a=Math.round(o.loaded/o.total*100);e(a)}}),i.addEventListener("load",()=>{var o;if(i.status>=200&&i.status<300)try{const a=JSON.parse(i.responseText);n(a)}catch{r(new Error("Failed to parse Cloudinary response"))}else try{const a=JSON.parse(i.responseText);r(new Error(((o=a.error)==null?void 0:o.message)||"Upload failed"))}catch{r(new Error(`Upload failed with status ${i.status}`))}}),i.addEventListener("error",()=>{r(new Error("Network error during upload"))}),i.addEventListener("abort",()=>{r(new Error("Upload was cancelled"))}),i.open("POST",JG),i.send(s)})}function eK(){const[t,e]=w.useState(!1),[n,r]=w.useState(0),[s,i]=w.useState(null),o=w.useCallback(()=>{e(!1),r(0),i(null)},[]);return{upload:w.useCallback(async l=>{e(!0),r(0),i(null);try{const u=await ZG(l,h=>{r(h)});return r(100),e(!1),u}catch(u){const h=u instanceof Error?u.message:"Upload failed";throw i(h),e(!1),u}},[]),isUploading:t,progress:n,error:s,reset:o}}const Qa="http://localhost:3001";console.log(" Backend URL from env:","http://localhost:3001");console.log(" Final Backend URL:",Qa);async function tK(){try{console.log(" Testing backend connection to:",Qa);const t=await fetch(`${Qa}/health`,{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)return console.error(" Backend response not OK:",t.status,t.statusText),!1;const e=await t.json();return console.log(" Backend connection successful:",e),!0}catch(t){return console.error(" Backend connection failed:",t),console.error(" Error details:",{name:t.name,message:t.message,stack:t.stack}),!1}}async function nK(t){if(typeof t=="string"){const n=await(await fetch(t)).blob();return new Promise((r,s)=>{const i=new FileReader;i.onloadend=()=>{const o=i.result.split(",")[1];r(o)},i.onerror=s,i.readAsDataURL(n)})}else return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{const s=r.result.split(",")[1];e(s)},r.onerror=n,r.readAsDataURL(t)})}async function rK(t){try{if(console.log(" Starting image analysis..."),console.log(" Backend URL:",Qa),typeof t=="string"){console.log(" Processing URL image...");const e=await nK(t),n=await fetch(`${Qa}/api/analyze-crop-base64`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:`data:image/jpeg;base64,${e}`})});if(console.log(" Response status:",n.status),!n.ok){const s=await n.json();throw console.error(" Backend error:",s),new Error(s.error||"Failed to analyze image")}const r=await n.json();return console.log(" Analysis successful:",r.success),r}else{console.log(" Processing file upload...");const e=new FormData;e.append("image",t);const n=await fetch(`${Qa}/api/analyze-crop`,{method:"POST",body:e});if(console.log(" Response status:",n.status),!n.ok){const s=await n.json();throw console.error(" Backend error:",s),new Error(s.error||"Failed to analyze image")}const r=await n.json();return console.log(" Analysis successful:",r.success),r}}catch(e){return console.error(" Error analyzing crop image:",e),e instanceof TypeError&&e.message.includes("fetch")?(console.error(" Network connection failed"),{success:!1,error:"Unable to connect to analysis service. Please check if the backend server is running."}):{success:!1,error:e instanceof Error?e.message:"Failed to analyze image"}}}const mj="scanHistory";async function fS(t,e,n,r){var s;try{const i=await x2(Ym($n,mj),{userId:t,imageUrl:e,analysis:n,location:r||null,cropType:((s=n.affectedCrops)==null?void 0:s[0])||null,status:n.isHealthy?"healthy":n.detected?"diseased":"inconclusive",createdAt:Pe.now()});return console.log("Scan saved with ID:",i.id),i.id}catch(i){return console.error("Error saving scan result:",i),null}}async function pj(t,e=50){try{const n=m2(Ym($n,mj),Ez("userId","==",t),Tz("createdAt","desc"),Sz(e));return(await v2(n)).docs.map(s=>{var o;const i=s.data();return{id:s.id,userId:i.userId,imageUrl:i.imageUrl,analysis:i.analysis,location:i.location,cropType:i.cropType,createdAt:((o=i.createdAt)==null?void 0:o.toDate())||new Date,status:i.status}})}catch(n){return console.error("Error fetching scan history:",n),[]}}async function sK(t){try{const e=await pj(t),n={totalScans:e.length,healthyCount:e.filter(r=>r.status==="healthy").length,diseasedCount:e.filter(r=>r.status==="diseased").length,inconclusiveCount:e.filter(r=>r.status==="inconclusive").length,diseaseTypes:{},cropTypes:{}};return e.forEach(r=>{r.analysis.diseaseName&&r.analysis.detected&&(n.diseaseTypes[r.analysis.diseaseName]=(n.diseaseTypes[r.analysis.diseaseName]||0)+1),r.cropType&&(n.cropTypes[r.cropType]=(n.cropTypes[r.cropType]||0)+1)}),n}catch(e){return console.error("Error calculating disease stats:",e),null}}function iK(){const{t,language:e}=xt(),{user:n}=Rn(),r=Pn(),s=w.useRef(null),{upload:i,isUploading:o,progress:a,error:l}=eK(),[u,h]=w.useState(null),[f,m]=w.useState(null),[p,v]=w.useState(null),[y,b]=w.useState(!1),[_,T]=w.useState(!1),[x,N]=w.useState(null),[C,j]=w.useState("pending"),I=rm.cloudName!=="YOUR_CLOUD_NAME",S=w.useCallback(async O=>{const L=URL.createObjectURL(O);m(L),h(O),N(null),v(null),j("pending");{j("uploading");try{const H=await i(O);v(H.secure_url),j("success"),q.success("Image uploaded to cloud")}catch(H){j("error"),console.error("Upload error:",H),q.error("Upload failed. You can still analyze locally.")}}},[I,i]),k=w.useCallback(O=>{var H;const L=(H=O.target.files)==null?void 0:H[0];if(L){if(L.size>10*1024*1024){q.error("Image too large. Please use an image under 10MB.");return}if(!L.type.startsWith("image/")){q.error("Please select an image file.");return}S(L)}O.target.value=""},[S]),R=w.useCallback(()=>{s.current&&(s.current.setAttribute("capture","environment"),s.current.click())},[]),D=w.useCallback(()=>{s.current&&(s.current.removeAttribute("capture"),s.current.click())},[]),M=w.useCallback(async()=>{if(u){b(!0);try{if(console.log(" Testing backend connection..."),!await tK()){q.error("Cannot connect to analysis service. Please check if the backend server is running."),b(!1);return}console.log(" Backend connection successful, starting analysis...");const L=await rK(u);if(L.success&&L.result){const H={analysis:L.result,cloudinaryUrl:p||void 0,saved:!1};if(N(H),L.result.isHealthy?q.success("Great news! Your plant appears healthy."):L.result.detected?q.warning(`Disease detected: ${L.result.diseaseName}`):q.info("Analysis complete. Please check the results."),n!=null&&n.uid&&p){T(!0);try{await fS(n.uid,p,L.result),N(oe=>oe?{...oe,saved:!0}:null),q.success("Scan saved to history")}catch(oe){console.error("Failed to save scan:",oe)}T(!1)}}else q.error(L.error||"Failed to analyze image")}catch(O){console.error("Analysis error:",O),q.error("Failed to analyze image. Please try again.")}finally{b(!1)}}},[u,p,n]),A=w.useCallback(async()=>{if(!(n!=null&&n.uid)||!x||!p){q.error("Cannot save: missing data or not logged in");return}T(!0);try{await fS(n.uid,p,x.analysis),N(O=>O?{...O,saved:!0}:null),q.success("Scan saved to history")}catch(O){console.error("Save error:",O),q.error("Failed to save scan")}T(!1)},[n,x,p]),B=w.useCallback(()=>{f&&URL.revokeObjectURL(f),m(null),h(null),v(null),N(null),j("pending")},[f]),J=w.useCallback(async()=>{if(u&&I){j("uploading");try{const O=await i(u);v(O.secure_url),j("success"),q.success("Image uploaded to cloud")}catch{j("error"),q.error("Upload failed. You can still analyze locally.")}}},[u,I,i]),ne=O=>e==="am"&&O.diseaseNameAmharic?O.diseaseNameAmharic:e==="om"&&O.diseaseNameOromifa?O.diseaseNameOromifa:O.diseaseName,F=O=>{switch(O){case"high":return"text-destructive bg-destructive/10 border-destructive/30";case"medium":return"text-warning bg-warning/10 border-warning/30";case"low":return"text-success bg-success/10 border-success/30";default:return"text-muted-foreground bg-muted"}};return c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"px-6 pt-6 pb-4",children:[c.jsx(Y.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-bold text-foreground",children:t("scanCrop")}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Take or upload a photo of the infected crop"})]}),c.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:k,className:"hidden"}),c.jsx("div",{className:"px-6",children:c.jsx(As,{mode:"wait",children:f?x?c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[x.analysis.isHealthy?c.jsx("div",{className:"card-farmer bg-success/10 border-success/30",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-success/20 flex items-center justify-center flex-shrink-0",children:c.jsx(jy,{className:"w-7 h-7 text-success"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-lg text-foreground",children:"Healthy Plant"}),c.jsx("p",{className:"text-xl font-bold text-success mt-1",children:ne(x.analysis)}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[t("confidence"),": ",x.analysis.confidence,"%"]})]})]})}):x.analysis.detected?c.jsx("div",{className:"card-farmer bg-destructive/10 border-destructive/30",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-destructive/20 flex items-center justify-center flex-shrink-0",children:c.jsx(yf,{className:"w-7 h-7 text-destructive"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-lg text-foreground",children:t("diseaseDetected")}),c.jsx("p",{className:"text-xl font-bold text-destructive mt-1",children:ne(x.analysis)}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("confidence"),": ",x.analysis.confidence,"%"]}),c.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full border ${F(x.analysis.severity)}`,children:[x.analysis.severity.toUpperCase()," SEVERITY"]})]})]})]})}):c.jsx("div",{className:"card-farmer bg-warning/10 border-warning/30",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-warning/20 flex items-center justify-center flex-shrink-0",children:c.jsx(Hn,{className:"w-7 h-7 text-warning"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-lg text-foreground",children:"Analysis Inconclusive"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x.analysis.description})]})]})}),x.analysis.description&&x.analysis.detected&&c.jsxs("div",{className:"card-farmer",children:[c.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:x.analysis.description})]}),x.analysis.symptoms&&x.analysis.symptoms.length>0&&c.jsxs("div",{className:"card-farmer",children:[c.jsxs("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[c.jsx(Hn,{className:"w-4 h-4 text-warning"}),"Symptoms"]}),c.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:x.analysis.symptoms.map((O,L)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-warning mt-1",children:""}),O]},L))})]}),x.analysis.treatment&&x.analysis.treatment.length>0&&c.jsxs("div",{className:"card-farmer bg-primary/5 border-primary/20",children:[c.jsxs("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[c.jsx(L_,{className:"w-4 h-4 text-primary"}),"Recommended Treatment"]}),c.jsx("ul",{className:"text-sm text-muted-foreground space-y-2",children:x.analysis.treatment.map((O,L)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center flex-shrink-0 mt-0.5",children:L+1}),O]},L))})]}),x.analysis.prevention&&x.analysis.prevention.length>0&&c.jsxs("div",{className:"card-farmer bg-success/5 border-success/20",children:[c.jsxs("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[c.jsx(jy,{className:"w-4 h-4 text-success"}),"Prevention Tips"]}),c.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:x.analysis.prevention.map((O,L)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-success mt-1",children:""}),O]},L))})]}),x.analysis.affectedCrops&&x.analysis.affectedCrops.length>0&&c.jsxs("div",{className:"card-farmer",children:[c.jsxs("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[c.jsx(Gc,{className:"w-4 h-4 text-primary"}),"Commonly Affected Crops"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:x.analysis.affectedCrops.map((O,L)=>c.jsx("span",{className:"px-3 py-1 rounded-full bg-muted text-sm text-muted-foreground",children:O},L))})]}),x.cloudinaryUrl&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-success",children:[c.jsx(Zp,{className:"w-4 h-4"}),c.jsx("span",{children:"Image saved to cloud for future reference"})]}),n&&!x.saved&&p&&c.jsx(re,{variant:"outline",className:"w-full",onClick:A,disabled:_,children:_?c.jsxs(c.Fragment,{children:[c.jsx(xe,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(nd,{className:"w-5 h-5"}),"Save to History"]})}),x.saved&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-success",children:[c.jsx(ji,{className:"w-4 h-4"}),c.jsx("span",{children:"Saved to your scan history"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(re,{variant:"farmer",className:"w-full",onClick:B,children:[c.jsx(qc,{className:"w-5 h-5"}),"Scan Again"]}),c.jsxs(re,{variant:"farmer-outline",className:"w-full",onClick:()=>r("/scan-history"),children:[c.jsx(Py,{className:"w-5 h-5"}),"View History"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 shadow-md",children:c.jsx("img",{src:f,alt:"Scanned",className:"w-full h-full object-cover"})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your scanned image"})]})]},"results"):c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[c.jsxs("div",{className:"relative aspect-square rounded-3xl overflow-hidden shadow-lg",children:[c.jsx("img",{src:f,alt:"Crop scan",className:"w-full h-full object-cover"}),c.jsx("button",{onClick:B,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-card/90 backdrop-blur flex items-center justify-center shadow-lg hover:bg-card transition-colors",disabled:y,children:c.jsx(vn,{className:"w-5 h-5 text-foreground"})}),c.jsxs("div",{className:"absolute top-4 left-4",children:[C==="uploading"&&c.jsxs("div",{className:"px-3 py-1.5 rounded-full bg-card/90 backdrop-blur flex items-center gap-2 shadow-lg",children:[c.jsx(xe,{className:"w-4 h-4 text-primary animate-spin"}),c.jsxs("span",{className:"text-xs font-medium",children:[a,"%"]})]}),C==="success"&&c.jsxs("div",{className:"px-3 py-1.5 rounded-full bg-success/90 backdrop-blur flex items-center gap-2 shadow-lg",children:[c.jsx(Zp,{className:"w-4 h-4 text-success-foreground"}),c.jsx("span",{className:"text-xs font-medium text-success-foreground",children:"Saved"})]}),C==="error"&&c.jsxs("button",{onClick:J,className:"px-3 py-1.5 rounded-full bg-warning/90 backdrop-blur flex items-center gap-2 shadow-lg hover:bg-warning transition-colors",disabled:o,children:[c.jsx(Al,{className:"w-4 h-4 text-warning-foreground"}),c.jsx("span",{className:"text-xs font-medium text-warning-foreground",children:"Retry"})]})]}),y&&c.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-background/80 backdrop-blur flex flex-col items-center justify-center",children:[c.jsx(Y.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:c.jsx(xe,{className:"w-16 h-16 text-primary"})}),c.jsx("p",{className:"mt-4 font-semibold text-foreground",children:t("analyzing")}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is examining your image..."})]})]}),o&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Uploading to cloud..."}),c.jsxs("span",{className:"font-medium text-primary",children:[a,"%"]})]}),c.jsx(fj,{value:a,className:"h-2"})]}),!y&&c.jsx(re,{variant:"farmer",className:"w-full",onClick:M,disabled:o,children:o?c.jsxs(c.Fragment,{children:[c.jsx(xe,{className:"w-5 h-5 animate-spin"}),"Uploading..."]}):c.jsxs(c.Fragment,{children:[c.jsx(L_,{className:"w-5 h-5"}),"Analyze with AI"]})})]},"preview"):c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[c.jsxs("div",{className:"aspect-square rounded-3xl bg-muted flex flex-col items-center justify-center border-2 border-dashed border-border",children:[c.jsx(qc,{className:"w-16 h-16 text-muted-foreground mb-4"}),c.jsx("p",{className:"text-muted-foreground text-center px-8",children:"Capture a clear photo of the infected leaves or plant parts"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(re,{variant:"farmer",className:"h-16",onClick:R,children:[c.jsx(qc,{className:"w-6 h-6"}),t("takePhoto")]}),c.jsxs(re,{variant:"farmer-outline",className:"h-16",onClick:D,children:[c.jsx(kO,{className:"w-6 h-6"}),t("uploadImage")]})]}),c.jsx("div",{className:"card-farmer bg-success/10 border-success/20",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Zp,{className:"w-5 h-5 text-success flex-shrink-0"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cloud storage connected. Images will be saved for analysis."})]})}),c.jsxs("div",{className:"card-farmer bg-primary/5 border-primary/20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx(yf,{className:"w-5 h-5 text-primary flex-shrink-0"}),c.jsx("h3",{className:"font-bold text-foreground",children:"Powered by AI Technology"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Advanced AI vision technology analyzes your crops and identifies diseases with high accuracy. Completely free to use with no limits."})]}),c.jsxs("div",{className:"card-farmer bg-muted/50 border-border",children:[c.jsx("h3",{className:"font-bold text-foreground mb-2",children:"Tips for best results:"}),c.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[c.jsx("li",{children:" Take photo in good lighting"}),c.jsx("li",{children:" Focus on the infected area"}),c.jsx("li",{children:" Include healthy parts for comparison"}),c.jsx("li",{children:" Hold the camera steady"})]})]})]},"options")})}),c.jsx(ks,{})]})}function _r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const gj=6048e5,oK=864e5;let aK={};function op(){return aK}function Wu(t,e){var a,l,u,h;const n=op(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=_r(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function sm(t){return Wu(t,{weekStartsOn:1})}function yj(t){const e=_r(t),n=e.getFullYear(),r=qo(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=sm(r),i=qo(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=sm(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function mS(t){const e=_r(t);return e.setHours(0,0,0,0),e}function pS(t){const e=_r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function lK(t,e){const n=mS(t),r=mS(e),s=+n-pS(n),i=+r-pS(r);return Math.round((s-i)/oK)}function cK(t){const e=yj(t),n=qo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),sm(n)}function uK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dK(t){if(!uK(t)&&typeof t!="number")return!1;const e=_r(t);return!isNaN(Number(e))}function hK(t){const e=_r(t),n=qo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const fK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mK=(t,e,n)=>{let r;const s=fK[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Dg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const pK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vK={date:Dg({formats:pK,defaultWidth:"full"}),time:Dg({formats:gK,defaultWidth:"full"}),dateTime:Dg({formats:yK,defaultWidth:"full"})},xK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wK=(t,e,n,r)=>xK[t];function wc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const _K={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AK={ordinalNumber:IK,era:wc({values:_K,defaultWidth:"wide"}),quarter:wc({values:bK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wc({values:EK,defaultWidth:"wide"}),day:wc({values:TK,defaultWidth:"wide"}),dayPeriod:wc({values:SK,defaultWidth:"wide",formattingValues:CK,defaultFormattingWidth:"wide"})};function _c(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?NK(a,f=>f.test(o)):kK(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}function kK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function NK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function PK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const RK=/^(\d+)(th|st|nd|rd)?/i,jK=/\d+/i,DK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MK={any:[/^b/i,/^(a|c)/i]},OK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LK={any:[/1/i,/2/i,/3/i,/4/i]},VK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},BK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$K={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WK={ordinalNumber:PK({matchPattern:RK,parsePattern:jK,valueCallback:t=>parseInt(t,10)}),era:_c({matchPatterns:DK,defaultMatchWidth:"wide",parsePatterns:MK,defaultParseWidth:"any"}),quarter:_c({matchPatterns:OK,defaultMatchWidth:"wide",parsePatterns:LK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_c({matchPatterns:VK,defaultMatchWidth:"wide",parsePatterns:FK,defaultParseWidth:"any"}),day:_c({matchPatterns:UK,defaultMatchWidth:"wide",parsePatterns:BK,defaultParseWidth:"any"}),dayPeriod:_c({matchPatterns:$K,defaultMatchWidth:"any",parsePatterns:zK,defaultParseWidth:"any"})},HK={code:"en-US",formatDistance:mK,formatLong:vK,formatRelative:wK,localize:AK,match:WK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qK(t){const e=_r(t);return lK(e,hK(e))+1}function GK(t){const e=_r(t),n=+sm(e)-+cK(e);return Math.round(n/gj)+1}function vj(t,e){var h,f,m,p;const n=_r(t),r=n.getFullYear(),s=op(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=qo(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=Wu(o,e),l=qo(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=Wu(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function KK(t,e){var a,l,u,h;const n=op(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=vj(t,e),i=qo(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Wu(i,e)}function QK(t,e){const n=_r(t),r=+Wu(n,e)-+KK(n,e);return Math.round(r/gj)+1}function Ne(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Hs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ne(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ne(n+1,2)},d(t,e){return Ne(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ne(t.getHours()%12||12,e.length)},H(t,e){return Ne(t.getHours(),e.length)},m(t,e){return Ne(t.getMinutes(),e.length)},s(t,e){return Ne(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ne(s,e.length)}},la={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Hs.y(t,e)},Y:function(t,e,n,r){const s=vj(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Ne(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ne(i,e.length)},R:function(t,e){const n=yj(t);return Ne(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ne(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ne(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ne(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Hs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ne(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=QK(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Ne(s,e.length)},I:function(t,e,n){const r=GK(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ne(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Hs.d(t,e)},D:function(t,e,n){const r=qK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ne(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ne(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ne(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Ne(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=la.noon:r===0?s=la.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=la.evening:r>=12?s=la.afternoon:r>=4?s=la.morning:s=la.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Hs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ne(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ne(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Hs.s(t,e)},S:function(t,e){return Hs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return vS(r);case"XXXX":case"XX":return po(r);case"XXXXX":case"XXX":default:return po(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return vS(r);case"xxxx":case"xx":return po(r);case"xxxxx":case"xxx":default:return po(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+yS(r,":");case"OOOO":default:return"GMT"+po(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+yS(r,":");case"zzzz":default:return"GMT"+po(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ne(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ne(r,e.length)}};function yS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Ne(i,2)}function vS(t,e){return t%60===0?(t>0?"-":"+")+Ne(Math.abs(t)/60,2):po(t,e)}function po(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Ne(Math.trunc(r/60),2),i=Ne(r%60,2);return n+s+e+i}const xS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},YK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return xS(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",xS(r,e)).replace("{{time}}",xj(s,e))},XK={p:xj,P:YK},JK=/^D+$/,ZK=/^Y+$/,eQ=["D","DD","YY","YYYY"];function tQ(t){return JK.test(t)}function nQ(t){return ZK.test(t)}function rQ(t,e,n){const r=sQ(t,e,n);if(console.warn(r),eQ.includes(t))throw new RangeError(r)}function sQ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aQ=/^'([^]*?)'?$/,lQ=/''/g,cQ=/[a-zA-Z]/;function wS(t,e,n){var h,f,m,p;const r=op(),s=r.locale??HK,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=_r(t);if(!dK(a))throw new RangeError("Invalid time value");let l=e.match(oQ).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=XK[y];return b(v,s.formatLong)}return v}).join("").match(iQ).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:uQ(v)};if(gS[y])return{isToken:!0,value:v};if(y.match(cQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(nQ(y)||tQ(y))&&rQ(y,e,String(t));const b=gS[y[0]];return b(a,y,s.localize,u)}).join("")}function uQ(t){const e=t.match(aQ);return e?e[1].replace(lQ,"'"):t}function dQ(){var p,v;const t=Pn(),{user:e}=Rn();xt();const[n,r]=w.useState([]),[s,i]=w.useState(null),[o,a]=w.useState(!0),[l,u]=w.useState(null);w.useEffect(()=>{e!=null&&e.uid&&h()},[e]);const h=async()=>{if(e!=null&&e.uid){a(!0);try{const[y,b]=await Promise.all([pj(e.uid),sK(e.uid)]);r(y),i(b)}catch(y){console.error("Error loading history:",y)}a(!1)}},f=y=>{switch(y){case"healthy":return c.jsx(jy,{className:"w-5 h-5 text-success"});case"diseased":return c.jsx(yf,{className:"w-5 h-5 text-destructive"});default:return c.jsx(Hn,{className:"w-5 h-5 text-warning"})}},m=y=>{switch(y){case"healthy":return"bg-success/10 border-success/30 text-success";case"diseased":return"bg-destructive/10 border-destructive/30 text-destructive";default:return"bg-warning/10 border-warning/30 text-warning"}};return o?c.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center pb-24",children:[c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(xe,{className:"w-10 h-10 animate-spin text-primary"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading scan history..."})]}),c.jsx(ks,{})]}):c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"bg-primary text-primary-foreground px-6 pt-6 pb-8",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-full bg-primary-foreground/20 flex items-center justify-center hover:bg-primary-foreground/30 transition-colors",children:c.jsx(Il,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-xl font-bold",children:"Scan History"}),c.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Track your crop health over time"})]}),c.jsx(Py,{className:"w-8 h-8 text-primary-foreground/60"})]}),s&&s.totalScans>0&&c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("div",{className:"bg-primary-foreground/10 rounded-xl p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-bold",children:s.totalScans}),c.jsx("p",{className:"text-xs text-primary-foreground/80",children:"Total Scans"})]}),c.jsxs("div",{className:"bg-success/20 rounded-xl p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-success-foreground",children:s.healthyCount}),c.jsx("p",{className:"text-xs text-primary-foreground/80",children:"Healthy"})]}),c.jsxs("div",{className:"bg-destructive/20 rounded-xl p-3 text-center",children:[c.jsx("p",{className:"text-2xl font-bold text-destructive-foreground",children:s.diseasedCount}),c.jsx("p",{className:"text-xs text-primary-foreground/80",children:"Diseases"})]})]})]}),c.jsxs("div",{className:"px-6 py-4",children:[n.length===0?c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[c.jsx(Py,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No scans yet"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Start scanning your crops to build your history"}),c.jsxs("button",{onClick:()=>t("/scan"),className:"btn-farmer inline-flex items-center gap-2 px-6 py-3",children:[c.jsx(Gc,{className:"w-5 h-5"}),"Scan Your First Crop"]})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:"Recent Scans"}),n.map((y,b)=>c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},onClick:()=>u(y),className:"card-farmer cursor-pointer hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden bg-muted flex-shrink-0",children:y.imageUrl?c.jsx("img",{src:y.imageUrl,alt:"Scan",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center",children:c.jsx(Gc,{className:"w-6 h-6 text-muted-foreground"})})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f(y.status),c.jsx("h4",{className:"font-semibold text-foreground truncate",children:y.analysis.diseaseName||"Unknown"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(M_,{className:"w-3 h-3"}),wS(y.createdAt,"MMM d, yyyy")]}),y.location&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Mt,{className:"w-3 h-3"}),y.location]})]}),c.jsx("div",{className:"flex items-center gap-2 mt-1",children:c.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full border ${m(y.status)}`,children:[y.analysis.confidence,"% confidence"]})})]}),c.jsx(Di,{className:"w-5 h-5 text-muted-foreground flex-shrink-0"})]})},y.id))]}),s&&Object.keys(s.diseaseTypes).length>0&&c.jsxs("div",{className:"mt-8",children:[c.jsxs("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider mb-3 flex items-center gap-2",children:[c.jsx(AO,{className:"w-4 h-4"}),"Most Common Issues"]}),c.jsx("div",{className:"card-farmer",children:Object.entries(s.diseaseTypes).sort(([,y],[,b])=>b-y).slice(0,5).map(([y,b])=>c.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[c.jsx("span",{className:"text-foreground",children:y}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[b," scans"]})]},y))})]})]}),c.jsx(As,{children:l&&c.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:()=>u(null),children:c.jsxs(Y.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-card w-full max-w-lg max-h-[85vh] rounded-t-3xl overflow-y-auto",onClick:y=>y.stopPropagation(),children:[c.jsxs("div",{className:"relative h-48",children:[l.imageUrl?c.jsx("img",{src:l.imageUrl,alt:"Scan",className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:c.jsx(Gc,{className:"w-12 h-12 text-muted-foreground"})}),c.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-card/90 backdrop-blur flex items-center justify-center",children:c.jsx(vn,{className:"w-5 h-5"})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[f(l.status),c.jsx("h2",{className:"text-xl font-bold text-white",children:l.analysis.diseaseName})]})})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(M_,{className:"w-4 h-4"}),wS(l.createdAt,"MMMM d, yyyy")]}),l.location&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Mt,{className:"w-4 h-4"}),l.location]})]}),c.jsx("div",{className:`px-4 py-3 rounded-xl border ${m(l.status)}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-medium",children:"Confidence Level"}),c.jsxs("span",{className:"text-lg font-bold",children:[l.analysis.confidence,"%"]})]})}),l.analysis.description&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Description"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:l.analysis.description})]}),((p=l.analysis.symptoms)==null?void 0:p.length)>0&&c.jsxs("div",{children:[c.jsxs("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[c.jsx(Hn,{className:"w-4 h-4 text-warning"}),"Symptoms"]}),c.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:l.analysis.symptoms.map((y,b)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-warning",children:""}),y]},b))})]}),((v=l.analysis.treatment)==null?void 0:v.length)>0&&c.jsxs("div",{className:"bg-primary/5 rounded-xl p-4 border border-primary/20",children:[c.jsxs("h4",{className:"font-semibold text-foreground mb-2 flex items-center gap-2",children:[c.jsx(yf,{className:"w-4 h-4 text-primary"}),"Treatment"]}),c.jsx("ul",{className:"text-sm text-muted-foreground space-y-2",children:l.analysis.treatment.map((y,b)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/20 text-primary text-xs flex items-center justify-center flex-shrink-0",children:b+1}),y]},b))})]})]})]})})}),c.jsx(ks,{})]})}function hQ(){const{userData:t,signOut:e,isAdmin:n}=Rn(),{t:r,language:s}=xt(),{theme:i,setTheme:o}=HA(),a=Pn(),[l,u]=w.useState(!1),h=(t==null?void 0:t.location)||localStorage.getItem("agroguard_location")||"Not set",f={en:"English",om:"Afaan Oromoo",am:""},m=async()=>{u(!0);try{await e(),a("/login")}catch(v){console.error("Logout error:",v)}finally{u(!1)}},p=[{icon:bO,label:r("selectLanguage"),value:f[s],path:"/setup"},{icon:Mt,label:r("selectLocation"),value:h,path:"/setup"},{icon:yO,label:r("askQuestion"),path:"/ask-question"},{icon:i==="dark"?PA:DA,label:"Theme",value:i==="dark"?"Dark Mode":"Light Mode",isThemeToggle:!0}];return c.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[c.jsxs("div",{className:"bg-primary text-primary-foreground px-6 pt-6 pb-8 rounded-b-3xl",children:[c.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-3 mb-6",children:[c.jsx("img",{src:Wl,alt:"AgroGuard AI",className:"w-10 h-10 rounded-xl object-contain bg-primary-foreground/10"}),c.jsx("h1",{className:"text-xl font-bold",children:r("profile")})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary-foreground/20 flex items-center justify-center",children:c.jsx(H0,{className:"w-8 h-8"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-lg",children:(t==null?void 0:t.email)||"Demo User"}),c.jsx("div",{className:"flex items-center gap-2 mt-1",children:n?c.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-accent/20 rounded-full text-sm",children:[c.jsx(bu,{className:"w-4 h-4"}),"Admin"]}):c.jsx("span",{className:"px-2 py-0.5 bg-primary-foreground/20 rounded-full text-sm",children:"Farmer"})})]})]})]}),n&&c.jsx("div",{className:"px-6 pt-6",children:c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:c.jsx(jt,{to:"/admin",children:c.jsxs(re,{variant:"farmer",className:"w-full",children:[c.jsx(bu,{className:"w-5 h-5"}),r("adminDashboard")]})})})}),c.jsxs("div",{className:"px-6 py-6 space-y-3",children:[p.map((v,y)=>c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+y*.1},children:v.isThemeToggle?c.jsxs("button",{onClick:()=>o(i==="dark"?"light":"dark"),className:"card-farmer-interactive flex items-center gap-4 w-full text-left",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:c.jsx(v.icon,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-foreground",children:v.label}),v.value&&c.jsx("p",{className:"text-sm text-muted-foreground",children:v.value})]}),c.jsx(Di,{className:"w-5 h-5 text-muted-foreground"})]}):c.jsxs(jt,{to:v.path,className:"card-farmer-interactive flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:c.jsx(v.icon,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-foreground",children:v.label}),v.value&&c.jsx("p",{className:"text-sm text-muted-foreground",children:v.value})]}),c.jsx(Di,{className:"w-5 h-5 text-muted-foreground"})]})},v.label)),c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"pt-4",children:c.jsxs(re,{variant:"destructive",className:"w-full h-14",onClick:m,disabled:l,children:[l?c.jsx(xe,{className:"w-5 h-5 animate-spin"}):c.jsx(TO,{className:"w-5 h-5"}),l?"Logging out...":r("logout")]})})]}),c.jsxs("div",{className:"px-6 text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"AgroGuard AI v1.0.0"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:" 2024 AgroGuard. Helping Ethiopian Farmers."})]}),c.jsx(ks,{})]})}const gs=w.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:rn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));gs.displayName="Textarea";function fQ(){const t=Pn(),[e]=l3(),{userData:n}=Rn(),{t:r}=xt(),s=e.get("diseaseId"),i=s?wr.find(f=>f.id===s):null,[o,a]=w.useState({name:(n==null?void 0:n.displayName)||"",email:(n==null?void 0:n.email)||"",question:""}),[l,u]=w.useState(!1),h=async()=>{if(!o.question.trim()){q.error("Please enter your question");return}if(!o.name.trim()){q.error("Please enter your name");return}if(!o.email.trim()){q.error("Please enter your email");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)){q.error("Please enter a valid email address");return}u(!0);try{const m={userId:(n==null?void 0:n.uid)||"demo-user",userName:o.name,userEmail:o.email,subject:i?`Question about ${i.name.en}`:"General Question",message:o.question,category:"question",relatedId:s||null,status:"unread"};if(await ja.create(m))q.success(r("questionSent")),console.log("Question successfully saved to Firestore:",m),t(-1);else throw new Error("Failed to save comment")}catch(m){console.error("Error submitting question:",m),q.error("Failed to submit question. Please try again.")}u(!1)};return c.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[c.jsx("div",{className:"px-6 pt-6 pb-4 border-b border-border",children:c.jsxs(Y.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center",children:c.jsx(Il,{className:"w-5 h-5 text-foreground"})}),c.jsx("h1",{className:"text-xl font-bold text-foreground",children:r("askQuestion")})]})}),c.jsxs("div",{className:"flex-1 px-6 py-6",children:[i&&c.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card-farmer bg-primary/5 border-primary/20 mb-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Related to:"}),c.jsx("p",{className:"font-bold text-foreground",children:i.name.en})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Contact Information"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[c.jsx(H0,{className:"w-4 h-4"}),"Your Name *"]}),c.jsx(Oe,{value:o.name,onChange:f=>a(m=>({...m,name:f.target.value})),placeholder:"Enter your full name",className:"rounded-xl"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[c.jsx(Em,{className:"w-4 h-4"}),"Your Email *"]}),c.jsx(Oe,{type:"email",value:o.email,onChange:f=>a(m=>({...m,email:f.target.value})),placeholder:"Enter your email address",className:"rounded-xl"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"We'll use this email to send you a response from our experts"})]})]}),c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Your Question *"}),c.jsx(gs,{value:o.question,onChange:f=>a(m=>({...m,question:f.target.value})),placeholder:"Describe your problem or ask a question about crop diseases and treatments...",className:"min-h-[200px] text-lg rounded-xl resize-none"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Your question will be sent to our agricultural experts for review."})]}),c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card-farmer mt-6",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center flex-shrink-0",children:c.jsx(z0,{className:"w-6 h-6 text-accent-foreground"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-foreground",children:"Expert Review"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Our agricultural experts will review your question and may add new diseases or treatments based on your findings."})]})]})})]}),c.jsx("div",{className:"px-6 pb-8",children:c.jsx(re,{variant:"farmer",className:"w-full",onClick:h,disabled:l||!o.question.trim()||!o.name.trim()||!o.email.trim(),children:l?r("loading"):c.jsxs(c.Fragment,{children:[c.jsx(jA,{className:"w-5 h-5"}),r("submitQuestion")]})})})]})}const _S={name:{en:"",om:"",am:""},cropType:"",categoryId:"",featured:!1,images:[],symptoms:{en:[],om:[],am:[]},treatments:[]};function mQ(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState([]),[o,a]=w.useState(!0),[l,u]=w.useState(!1),[h,f]=w.useState(!1),[m,p]=w.useState(null),[v,y]=w.useState(_S),[b,_]=w.useState(!1),[T,x]=w.useState(null),[N,C]=w.useState({en:"",om:"",am:""});w.useEffect(()=>{j()},[]);const j=async()=>{a(!0),u(!1);try{const[A,B,J]=await Promise.all([Vr.getAll(),Pa.getAll(),Mc.getAll()]);e(A.length>0?A:wr),r(B.length>0?B:El),i(J.length>0?J:Zf)}catch(A){console.error("Error loading data:",A),Ve(A)?(u(!0),e([]),r([]),i([]),q.error("Firebase permissions blocked. Allow admin read/write to diseases & chemicals in Firestore rules.")):(e(wr),r(El),i(Zf))}a(!1)},I=A=>{p(A.id),y({name:A.name,cropType:A.cropType,categoryId:A.categoryId||"",featured:A.featured||!1,images:A.images,symptoms:A.symptoms,treatments:A.treatments}),f(!0)},S=async A=>{if(confirm("Are you sure you want to delete this disease?")){x(A);try{await Vr.delete(A)?(e(J=>J.filter(ne=>ne.id!==A)),q.success("Disease deleted successfully")):q.error("Failed to delete disease")}catch(B){console.error("Delete error:",B),q.error(Ve(B)?"Firebase permissions blocked. Allow admin delete on diseases.":"Failed to delete disease")}x(null)}},k=async A=>{if(A.preventDefault(),!v.name.en.trim()||!v.cropType.trim()){q.error("Please fill in required fields");return}_(!0);try{if(m)await Vr.update(m,v)?(e(J=>J.map(ne=>ne.id===m?{...ne,...v}:ne)),q.success("Disease updated successfully")):q.error("Failed to update disease");else{const B=await Vr.create(v);B?(e(J=>[...J,{id:B,...v}]),q.success("Disease created successfully")):q.error("Failed to create disease")}R()}catch(B){q.error(Ve(B)?"Firebase permissions blocked. Allow admin write to diseases.":"Failed to save disease")}_(!1)},R=()=>{y(_S),p(null),f(!1),C({en:"",om:"",am:""})},D=A=>{const B=N[A].trim();B&&(y(J=>({...J,symptoms:{...J.symptoms,[A]:[...J.symptoms[A],B]}})),C(J=>({...J,[A]:""})))},M=(A,B)=>{y(J=>({...J,symptoms:{...J.symptoms,[A]:J.symptoms[A].filter((ne,F)=>F!==B)}}))};return o?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})}):l?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Diseases/Chemicals read/write for this account."})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"section-header",children:["Manage Diseases (",t.length,")"]}),c.jsxs(re,{variant:"farmer",size:"sm",onClick:()=>f(!0),children:[c.jsx(dl,{className:"w-4 h-4"})," Add Disease"]})]}),c.jsx("div",{className:"space-y-3",children:t.map((A,B)=>{var J,ne,F,O,L,H;return c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},className:"card-farmer",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"font-bold text-foreground",children:((J=A.name)==null?void 0:J.en)||"Unnamed Disease"}),A.featured&&c.jsx("span",{className:"px-2 py-1 text-xs bg-primary/10 text-primary rounded-full font-medium",children:"Featured"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Crop: ",A.cropType||"Unknown"]}),A.categoryId&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Category: ",((F=(ne=s.find(oe=>oe.id===A.categoryId))==null?void 0:ne.name)==null?void 0:F.en)||"Unknown Category"]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[((L=(O=A.symptoms)==null?void 0:O.en)==null?void 0:L.length)||0," symptoms  ",((H=A.treatments)==null?void 0:H.length)||0," treatments"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>I(A),disabled:T===A.id,children:c.jsx(Tm,{className:"w-4 h-4"})}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>S(A.id),disabled:T===A.id,children:T===A.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(rd,{className:"w-4 h-4 text-destructive"})})]})]})},A.id)})}),c.jsx(As,{children:h&&c.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:R,children:c.jsxs(Y.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-card w-full max-w-lg max-h-[90vh] rounded-t-3xl p-6 overflow-y-auto",onClick:A=>A.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground",children:m?"Edit Disease":"Add Disease"}),c.jsx(re,{variant:"ghost",size:"icon",onClick:R,children:c.jsx(vn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:k,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Name (English) *"}),c.jsx(Oe,{value:v.name.en,onChange:A=>y(B=>({...B,name:{...B.name,en:A.target.value}})),placeholder:"Disease name in English",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Name (Oromo)"}),c.jsx(Oe,{value:v.name.om,onChange:A=>y(B=>({...B,name:{...B.name,om:A.target.value}})),placeholder:"Afaan Oromoo"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Name (Amharic)"}),c.jsx(Oe,{value:v.name.am,onChange:A=>y(B=>({...B,name:{...B.name,am:A.target.value}})),placeholder:""})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Crop Type *"}),c.jsx(Oe,{value:v.cropType,onChange:A=>y(B=>({...B,cropType:A.target.value})),placeholder:"e.g., Potato, Tomato, Coffee",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Disease Category"}),c.jsxs("select",{value:v.categoryId,onChange:A=>y(B=>({...B,categoryId:A.target.value})),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-foreground",children:[c.jsx("option",{value:"",children:"Select a category (optional)"}),s.map(A=>{var B;return c.jsx("option",{value:A.id,children:((B=A.name)==null?void 0:B.en)||"Unnamed Category"},A.id)})]})]}),c.jsx("div",{className:"space-y-2",children:c.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:v.featured,onChange:A=>y(B=>({...B,featured:A.target.checked})),className:"w-4 h-4 rounded border border-input bg-background checked:bg-primary checked:border-primary"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium",children:"Featured Disease"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:'Show in "Common Diseases" section on home page'})]})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Symptoms (English)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Oe,{value:N.en,onChange:A=>C(B=>({...B,en:A.target.value})),placeholder:"Add symptom",onKeyDown:A=>A.key==="Enter"&&(A.preventDefault(),D("en"))}),c.jsx(re,{type:"button",variant:"outline",onClick:()=>D("en"),children:c.jsx(dl,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.symptoms.en.map((A,B)=>c.jsxs("span",{className:"badge-success flex items-center gap-1",children:[A,c.jsx("button",{type:"button",onClick:()=>M("en",B),children:c.jsx(vn,{className:"w-3 h-3"})})]},B))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Image URL"}),c.jsx(Oe,{value:v.images[0]||"",onChange:A=>y(B=>({...B,images:A.target.value?[A.target.value]:[]})),placeholder:"https://example.com/image.jpg"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(re,{type:"button",variant:"outline",className:"flex-1",onClick:R,children:"Cancel"}),c.jsxs(re,{type:"submit",variant:"farmer",className:"flex-1",disabled:b,children:[b?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(nd,{className:"w-4 h-4"}),m?"Update":"Create"]})]})]})]})})})]})}const bS={name:{en:"",om:"",am:""},description:{en:"",om:"",am:""},color:"#6B7280",icon:"Folder"},pQ=["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#6B7280","#059669","#DC2626","#7C3AED"],gQ=["Folder","Bug","Leaf","Microscope","Zap","Cloud","Shield","AlertTriangle","Activity","Target"];function yQ(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(bS),[m,p]=w.useState(!1),[v,y]=w.useState(null);w.useEffect(()=>{b()},[]);const b=async()=>{r(!0),i(!1);try{const C=await Mc.getAll();e(C.length>0?C:Zf)}catch(C){console.error("Error loading disease categories:",C),Ve(C)?(i(!0),e([]),q.error("Firebase permissions blocked. Allow admin read/write to disease categories in Firestore rules.")):e(Zf)}r(!1)},_=C=>{u(C.id),f({name:C.name,description:C.description,color:C.color,icon:C.icon}),a(!0)},T=async C=>{if(confirm("Are you sure you want to delete this disease category?")){y(C);try{await Mc.delete(C)?(e(I=>I.filter(S=>S.id!==C)),q.success("Disease category deleted successfully")):q.error("Failed to delete disease category")}catch(j){console.error("Delete error:",j),q.error(Ve(j)?"Firebase permissions blocked. Allow admin delete on disease categories.":"Failed to delete disease category")}y(null)}},x=async C=>{if(C.preventDefault(),!h.name.en.trim()||!h.description.en.trim()){q.error("Please fill in required fields (English name and description)");return}p(!0);try{if(l)await Mc.update(l,h)?(e(I=>I.map(S=>S.id===l?{...S,...h}:S)),q.success("Disease category updated successfully")):q.error("Failed to update disease category");else{const j=await Mc.create(h);j?(e(I=>[...I,{id:j,...h}]),q.success("Disease category created successfully")):q.error("Failed to create disease category")}N()}catch(j){q.error(Ve(j)?"Firebase permissions blocked. Allow admin write to disease categories.":"Failed to save disease category")}p(!1)},N=()=>{f(bS),u(null),a(!1)};return n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})}):s?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Disease Categories read/write for this account."})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"section-header",children:["Disease Categories (",t.length,")"]}),c.jsxs(re,{variant:"farmer",size:"sm",onClick:()=>a(!0),children:[c.jsx(dl,{className:"w-4 h-4"})," Add Category"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.map((C,j)=>{var I,S;return c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:"card-farmer",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white",style:{backgroundColor:C.color},children:c.jsx(IO,{className:"w-6 h-6"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-foreground",children:((I=C.name)==null?void 0:I.en)||"Unnamed Category"}),c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:((S=C.description)==null?void 0:S.en)||"No description"}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-white shadow-sm",style:{backgroundColor:C.color}}),c.jsx("span",{className:"text-xs text-muted-foreground",children:C.icon})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>_(C),disabled:v===C.id,children:c.jsx(Tm,{className:"w-4 h-4"})}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>T(C.id),disabled:v===C.id,children:v===C.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(rd,{className:"w-4 h-4 text-destructive"})})]})]})},C.id)})}),c.jsx(As,{children:o&&c.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:N,children:c.jsxs(Y.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-card w-full max-w-lg max-h-[90vh] rounded-t-3xl p-6 overflow-y-auto",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground",children:l?"Edit Category":"Add Category"}),c.jsx(re,{variant:"ghost",size:"icon",onClick:N,children:c.jsx(vn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Name (English) *"}),c.jsx(Oe,{value:h.name.en,onChange:C=>f(j=>({...j,name:{...j.name,en:C.target.value}})),placeholder:"Category name in English",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Name (Oromo)"}),c.jsx(Oe,{value:h.name.om,onChange:C=>f(j=>({...j,name:{...j.name,om:C.target.value}})),placeholder:"Afaan Oromoo"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Name (Amharic)"}),c.jsx(Oe,{value:h.name.am,onChange:C=>f(j=>({...j,name:{...j.name,am:C.target.value}})),placeholder:""})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Description (English) *"}),c.jsx(gs,{value:h.description.en,onChange:C=>f(j=>({...j,description:{...j.description,en:C.target.value}})),placeholder:"Category description in English",rows:2,required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Description (Oromo)"}),c.jsx(gs,{value:h.description.om,onChange:C=>f(j=>({...j,description:{...j.description,om:C.target.value}})),placeholder:"Afaan Oromoo",rows:2})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Description (Amharic)"}),c.jsx(gs,{value:h.description.am,onChange:C=>f(j=>({...j,description:{...j.description,am:C.target.value}})),placeholder:"",rows:2})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(SO,{className:"w-4 h-4"}),"Category Color"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:pQ.map(C=>c.jsx("button",{type:"button",onClick:()=>f(j=>({...j,color:C})),className:`w-8 h-8 rounded-full border-2 ${h.color===C?"border-foreground":"border-muted"}`,style:{backgroundColor:C}},C))}),c.jsx(Oe,{value:h.color,onChange:C=>f(j=>({...j,color:C.target.value})),placeholder:"#6B7280",className:"mt-2"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Icon"}),c.jsx("select",{value:h.icon,onChange:C=>f(j=>({...j,icon:C.target.value})),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-foreground",children:gQ.map(C=>c.jsx("option",{value:C,children:C},C))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(re,{type:"button",variant:"outline",className:"flex-1",onClick:N,children:"Cancel"}),c.jsxs(re,{type:"submit",variant:"farmer",className:"flex-1",disabled:m,children:[m?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(nd,{className:"w-4 h-4"}),l?"Update":"Create"]})]})]})]})})})]})}function vQ(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,a]=w.useState(null);w.useEffect(()=>{l()},[]);const l=async()=>{r(!0),i(!1);try{const m=await Vr.getAll();e(m.length>0?m:wr)}catch(m){console.error("Error loading diseases:",m),Ve(m)?(i(!0),e([]),q.error("Firebase permissions blocked. Allow admin read/write to diseases in Firestore rules.")):e(wr)}r(!1)},u=async(m,p)=>{a(m);try{await Vr.update(m,{featured:!p})?(e(y=>y.map(b=>b.id===m?{...b,featured:!p}:b)),q.success(p?"Disease removed from Common Diseases section":"Disease added to Common Diseases section")):q.error("Failed to update disease")}catch(v){console.error("Update error:",v),q.error(Ve(v)?"Firebase permissions blocked. Allow admin write to diseases.":"Failed to update disease")}a(null)},h=t.filter(m=>m.featured),f=t.filter(m=>!m.featured);return n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})}):s?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Diseases read/write for this account."})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"section-header",children:"Common Diseases Management"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:'Manage which diseases appear in the "Common Diseases" section on the home page'})]}),c.jsxs(re,{variant:"outline",size:"sm",onClick:l,children:[c.jsx(Al,{className:"w-4 h-4"}),"Refresh"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Cc,{className:"w-5 h-5 text-primary"}),c.jsxs("h3",{className:"text-lg font-semibold",children:["Featured Diseases (",h.length,")"]})]}),h.length===0?c.jsxs("div",{className:"card-farmer text-center py-8",children:[c.jsx(Cc,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),c.jsx("p",{className:"text-muted-foreground",children:"No diseases are currently featured"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the star icon on any disease below to feature it"})]}):c.jsx("div",{className:"space-y-3",children:h.map((m,p)=>{var v,y,b,_;return c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.05},className:"card-farmer bg-primary/5 border-primary/20",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h4",{className:"font-bold text-foreground",children:((v=m.name)==null?void 0:v.en)||"Unnamed Disease"}),c.jsx("span",{className:"px-2 py-1 text-xs bg-primary/10 text-primary rounded-full font-medium",children:"Featured"})]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Crop: ",m.cropType||"Unknown"]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[((b=(y=m.symptoms)==null?void 0:y.en)==null?void 0:b.length)||0," symptoms  ",((_=m.treatments)==null?void 0:_.length)||0," treatments"]})]}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>u(m.id,m.featured||!1),disabled:o===m.id,className:"text-primary hover:text-primary/80",children:o===m.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(Cc,{className:"w-4 h-4 fill-current"})})]})},m.id)})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(O_,{className:"w-5 h-5 text-muted-foreground"}),c.jsxs("h3",{className:"text-lg font-semibold",children:["Available Diseases (",f.length,")"]})]}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:f.map((m,p)=>{var v,y,b,_;return c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.05},className:"card-farmer",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-bold text-foreground",children:((v=m.name)==null?void 0:v.en)||"Unnamed Disease"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Crop: ",m.cropType||"Unknown"]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[((b=(y=m.symptoms)==null?void 0:y.en)==null?void 0:b.length)||0," symptoms  ",((_=m.treatments)==null?void 0:_.length)||0," treatments"]})]}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>u(m.id,m.featured||!1),disabled:o===m.id,className:"text-muted-foreground hover:text-primary",children:o===m.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(O_,{className:"w-4 h-4"})})]})},m.id)})})]}),c.jsx("div",{className:"card-farmer bg-accent/50 border-accent",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-accent flex items-center justify-center flex-shrink-0",children:c.jsx(Cc,{className:"w-6 h-6 text-accent-foreground"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-foreground mb-1",children:"Featured Diseases"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:'Featured diseases appear in the "Common Diseases" section on the home page. Users will see these diseases first when they open the app.'})]})]})})]})}const ES={name:"",type:"",activeIngredient:"",dosage:"",safetyInstructions:{en:"",om:"",am:""}},xQ=["Fungicide","Insecticide","Herbicide","Bactericide","Nematicide"];function wQ(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,a]=w.useState(!1),[l,u]=w.useState(null),[h,f]=w.useState(ES),[m,p]=w.useState(!1),[v,y]=w.useState(null);w.useEffect(()=>{b()},[]);const b=async()=>{r(!0),i(!1);try{const C=await Pa.getAll();e(C.length>0?C:El)}catch(C){console.error("Error loading chemicals:",C),Ve(C)?(i(!0),e([]),q.error("Firebase permissions blocked. Allow admin read/write to chemicals in Firestore rules.")):e(El)}r(!1)},_=C=>{u(C.id),f({name:C.name,type:C.type,activeIngredient:C.activeIngredient,dosage:C.dosage,safetyInstructions:C.safetyInstructions}),a(!0)},T=async C=>{if(confirm("Are you sure you want to delete this chemical?")){y(C);try{await Pa.delete(C)?(e(I=>I.filter(S=>S.id!==C)),q.success("Chemical deleted successfully")):q.error("Failed to delete chemical")}catch(j){console.error("Delete error:",j),q.error(Ve(j)?"Firebase permissions blocked. Allow admin delete on chemicals.":"Failed to delete chemical")}y(null)}},x=async C=>{if(C.preventDefault(),!h.name.trim()||!h.type.trim()){q.error("Please fill in required fields");return}p(!0);try{if(l)await Pa.update(l,h)?(e(I=>I.map(S=>S.id===l?{...S,...h}:S)),q.success("Chemical updated successfully")):q.error("Failed to update chemical");else{const j=await Pa.create(h);j?(e(I=>[...I,{id:j,...h}]),q.success("Chemical created successfully")):q.error("Failed to create chemical")}N()}catch(j){q.error(Ve(j)?"Firebase permissions blocked. Allow admin write to chemicals.":"Failed to save chemical")}p(!1)},N=()=>{f(ES),u(null),a(!1)};return n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})}):s?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Chemicals read/write for this account."})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"section-header",children:["Manage Chemicals (",t.length,")"]}),c.jsxs(re,{variant:"farmer",size:"sm",onClick:()=>a(!0),children:[c.jsx(dl,{className:"w-4 h-4"})," Add Chemical"]})]}),c.jsx("div",{className:"space-y-3",children:t.map((C,j)=>c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:"card-farmer",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-foreground",children:C.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type: ",C.type]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Active: ",C.activeIngredient]}),c.jsxs("p",{className:"text-sm text-primary font-medium",children:["Dosage: ",C.dosage]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>_(C),disabled:v===C.id,children:c.jsx(Tm,{className:"w-4 h-4"})}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>T(C.id),disabled:v===C.id,children:v===C.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(rd,{className:"w-4 h-4 text-destructive"})})]})]})},C.id))}),c.jsx(As,{children:o&&c.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:N,children:c.jsxs(Y.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-card w-full max-w-lg max-h-[90vh] rounded-t-3xl p-6 overflow-y-auto",onClick:C=>C.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground",children:l?"Edit Chemical":"Add Chemical"}),c.jsx(re,{variant:"ghost",size:"icon",onClick:N,children:c.jsx(vn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Chemical Name *"}),c.jsx(Oe,{value:h.name,onChange:C=>f(j=>({...j,name:C.target.value})),placeholder:"e.g., Ridomil Gold MZ",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Type *"}),c.jsxs("select",{value:h.type,onChange:C=>f(j=>({...j,type:C.target.value})),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-foreground",required:!0,children:[c.jsx("option",{value:"",children:"Select type"}),xQ.map(C=>c.jsx("option",{value:C,children:C},C))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Active Ingredient"}),c.jsx(Oe,{value:h.activeIngredient,onChange:C=>f(j=>({...j,activeIngredient:C.target.value})),placeholder:"e.g., Metalaxyl-M + Mancozeb"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Dosage"}),c.jsx(Oe,{value:h.dosage,onChange:C=>f(j=>({...j,dosage:C.target.value})),placeholder:"e.g., 2.5 kg/ha"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Safety Instructions (English)"}),c.jsx(gs,{value:h.safetyInstructions.en,onChange:C=>f(j=>({...j,safetyInstructions:{...j.safetyInstructions,en:C.target.value}})),placeholder:"Safety instructions in English",rows:2})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Safety (Oromo)"}),c.jsx(gs,{value:h.safetyInstructions.om,onChange:C=>f(j=>({...j,safetyInstructions:{...j.safetyInstructions,om:C.target.value}})),placeholder:"Afaan Oromoo",rows:2})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Safety (Amharic)"}),c.jsx(gs,{value:h.safetyInstructions.am,onChange:C=>f(j=>({...j,safetyInstructions:{...j.safetyInstructions,am:C.target.value}})),placeholder:"",rows:2})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(re,{type:"button",variant:"outline",className:"flex-1",onClick:N,children:"Cancel"}),c.jsxs(re,{type:"submit",variant:"farmer",className:"flex-1",disabled:m,children:[m?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(nd,{className:"w-4 h-4"}),l?"Update":"Create"]})]})]})]})})})]})}const TS={name:"",location:"",region:"",chemicals:[]};function _Q(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(!0),[o,a]=w.useState(!1),[l,u]=w.useState(!1),[h,f]=w.useState(null),[m,p]=w.useState(TS),[v,y]=w.useState(!1),[b,_]=w.useState(null),[T,x]=w.useState(!1),[N,C]=w.useState(""),j=jG(),I=N?uS(N):[];w.useEffect(()=>{S()},[]);const S=async()=>{i(!0),a(!1);try{const[F,O]=await Promise.all([Ra.getAll(),Pa.getAll()]);e(F.length>0?F:Ho),r(O.length>0?O:El)}catch(F){console.error("Error loading data:",F),Ve(F)?(a(!0),e([]),r([]),q.error("Firebase permissions blocked. Allow admin read/write to markets & chemicals in Firestore rules.")):(e(Ho),r(El))}i(!1)},k=F=>{f(F.id);const O=j.find(L=>uS(L.name).includes(F.location));O&&C(O.name),p({name:F.name,location:F.location,region:F.region,chemicals:F.chemicals}),u(!0)},R=async F=>{if(confirm("Are you sure you want to delete this market?")){_(F);try{await Ra.delete(F)?(e(L=>L.filter(H=>H.id!==F)),q.success("Market deleted successfully")):q.error("Failed to delete market")}catch(O){console.error("Delete error:",O),q.error(Ve(O)?"Firebase permissions blocked. Allow admin delete on markets.":"Failed to delete market")}_(null)}},D=async F=>{if(F.preventDefault(),!m.name.trim()||!m.location.trim()){q.error("Please fill in required fields");return}y(!0);try{if(h)await Ra.update(h,m)?(e(L=>L.map(H=>H.id===h?{...H,...m}:H)),q.success("Market updated successfully")):q.error("Failed to update market");else{const O=await Ra.create(m);O?(e(L=>[...L,{id:O,...m}]),q.success("Market created successfully")):q.error("Failed to create market")}M()}catch(O){q.error(Ve(O)?"Firebase permissions blocked. Allow admin write to markets.":"Failed to save market")}y(!1)},M=()=>{p(TS),f(null),u(!1),x(!1)},A=F=>{if(m.chemicals.some(H=>H.chemicalId===F.id)){q.error("Chemical already added");return}const L={chemicalId:F.id,chemicalName:F.name,price:0,available:!0,lastUpdated:new Date().toISOString().split("T")[0]};p(H=>({...H,chemicals:[...H.chemicals,L]})),x(!1)},B=(F,O)=>{p(L=>({...L,chemicals:L.chemicals.map(H=>H.chemicalId===F?{...H,price:O,lastUpdated:new Date().toISOString().split("T")[0]}:H)}))},J=F=>{p(O=>({...O,chemicals:O.chemicals.map(L=>L.chemicalId===F?{...L,available:!L.available}:L)}))},ne=F=>{p(O=>({...O,chemicals:O.chemicals.filter(L=>L.chemicalId!==F)}))};return s?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})}):o?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Markets read/write for this account."})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"section-header",children:["Manage Markets (",t.length,")"]}),c.jsxs(re,{variant:"farmer",size:"sm",onClick:()=>u(!0),children:[c.jsx(dl,{className:"w-4 h-4"})," Add Market"]})]}),c.jsx("div",{className:"space-y-3",children:t.map((F,O)=>c.jsx(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:O*.05},className:"card-farmer",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-bold text-foreground",children:F.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[F.location,", ",F.region]}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx(W0,{className:"w-4 h-4 text-primary"}),c.jsxs("span",{className:"text-sm text-primary font-medium",children:[F.chemicals.length," chemicals ",F.chemicals.filter(L=>L.available).length," in stock"]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>k(F),disabled:b===F.id,children:c.jsx(Tm,{className:"w-4 h-4"})}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>R(F.id),disabled:b===F.id,children:b===F.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(rd,{className:"w-4 h-4 text-destructive"})})]})]})},F.id))}),c.jsx(As,{children:l&&c.jsx(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end justify-center",onClick:M,children:c.jsxs(Y.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-card w-full max-w-lg max-h-[90vh] rounded-t-3xl p-6 overflow-y-auto",onClick:F=>F.stopPropagation(),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground",children:h?"Edit Market":"Add Market"}),c.jsx(re,{variant:"ghost",size:"icon",onClick:M,children:c.jsx(vn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Market Name *"}),c.jsx(Oe,{value:m.name,onChange:F=>p(O=>({...O,name:F.target.value})),placeholder:"e.g., Haramaya Agricultural Center",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Mt,{className:"w-4 h-4"}),"Region"]}),c.jsxs("select",{value:N,onChange:F=>{C(F.target.value),p(O=>({...O,region:F.target.value,location:""}))},className:"w-full h-10 px-3 rounded-md border border-input bg-background text-foreground",children:[c.jsx("option",{value:"",children:"Select region"}),j.map(F=>c.jsxs("option",{value:F.name,children:[F.name," (",F.nameAmharic,")"]},F.name))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Location *"}),c.jsxs("select",{value:m.location,onChange:F=>p(O=>({...O,location:F.target.value})),className:"w-full h-10 px-3 rounded-md border border-input bg-background text-foreground",required:!0,disabled:!N,children:[c.jsx("option",{value:"",children:N?"Select location":"Select region first"}),I.map(F=>c.jsx("option",{value:F,children:F},F))]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{className:"text-sm font-medium",children:"Chemicals & Prices"}),c.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>x(!0),children:[c.jsx(dl,{className:"w-3 h-3"})," Add"]})]}),c.jsx("div",{className:"space-y-2",children:m.chemicals.map(F=>c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded-lg",children:[c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"text-sm font-medium",children:F.chemicalName})}),c.jsx(Oe,{type:"number",value:F.price,onChange:O=>B(F.chemicalId,Number(O.target.value)),className:"w-24 h-8",placeholder:"ETB"}),c.jsx(re,{type:"button",variant:F.available?"success":"outline",size:"sm",onClick:()=>J(F.chemicalId),children:F.available?"In Stock":"Out"}),c.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ne(F.chemicalId),children:c.jsx(vn,{className:"w-4 h-4"})})]},F.chemicalId))})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx(re,{type:"button",variant:"outline",className:"flex-1",onClick:M,children:"Cancel"}),c.jsxs(re,{type:"submit",variant:"farmer",className:"flex-1",disabled:v,children:[v?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(nd,{className:"w-4 h-4"}),h?"Update":"Create"]})]})]}),c.jsx(As,{children:T&&c.jsxs(Y.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-card rounded-t-3xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h4",{className:"text-lg font-bold",children:"Select Chemical"}),c.jsx(re,{variant:"ghost",size:"icon",onClick:()=>x(!1),children:c.jsx(vn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:n.map(F=>c.jsxs("button",{type:"button",onClick:()=>A(F),className:"w-full p-3 text-left rounded-lg bg-muted hover:bg-muted/80 transition-colors",children:[c.jsx("p",{className:"font-medium",children:F.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:F.type})]},F.id))})]})})]})})})]})}function bQ(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(null),[o,a]=w.useState(!1);w.useEffect(()=>{l()},[]);const l=async()=>{r(!0),a(!1);try{const m=(await Wh.getAll()).filter(p=>p.status==="pending");e(m.length>0?m:em.filter(p=>p.status==="pending"))}catch(f){console.error("Error loading pending diseases:",f),Ve(f)?(a(!0),e([]),q.error("Firebase permissions blocked. Allow admin read/write to pendingDiseases in Firestore rules.")):e(em.filter(m=>m.status==="pending"))}r(!1)},u=async f=>{i(f.id);try{const m={name:{en:f.detectedDisease||"Unknown Disease",om:f.detectedDisease||"Unknown Disease",am:f.detectedDisease||"Unknown Disease"},cropType:"Unknown",images:f.imageUrl?[f.imageUrl]:[],symptoms:{en:[],om:[],am:[]},treatments:[]};await Wh.approve(f.id,m)?(e(v=>v.filter(y=>y.id!==f.id)),q.success("Approved: disease added to database")):q.error("Failed to approve submission")}catch(m){q.error(Ve(m)?"Firebase permissions blocked. Allow admin write to diseases & pendingDiseases.":"Failed to approve disease")}i(null)},h=async f=>{i(f);try{await Wh.reject(f)?(e(p=>p.filter(v=>v.id!==f)),q.info("Submission rejected")):q.error("Failed to reject submission")}catch(m){q.error(Ve(m)?"Firebase permissions blocked. Allow admin update on pendingDiseases.":"Failed to reject submission")}i(null)};return n?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})}):o?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Pending Reviews read/write for this account."})}):t.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"No pending reviews"})}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"section-header",children:["Pending Reviews (",t.length,")"]}),t.map((f,m)=>c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"card-farmer",children:[c.jsxs("div",{className:"flex gap-4",children:[c.jsx("img",{src:f.imageUrl,alt:"Scan",className:"w-20 h-20 rounded-xl object-cover",onError:p=>{p.currentTarget.src="/placeholder.svg"}}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-foreground",children:f.detectedDisease||"Unknown Disease"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Confidence: ",f.confidence,"%"]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:f.location}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(f.createdAt).toLocaleDateString()})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[c.jsxs(re,{variant:"success",size:"sm",className:"flex-1",onClick:()=>u(f),disabled:s===f.id,children:[s===f.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(ji,{className:"w-4 h-4"}),"Approve"]}),c.jsxs(re,{variant:"destructive",size:"sm",className:"flex-1",onClick:()=>h(f.id),disabled:s===f.id,children:[s===f.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(vn,{className:"w-4 h-4"}),"Reject"]})]})]},f.id))]})}function EQ(){const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(!1),[o,a]=w.useState(null),[l,u]=w.useState(null),[h,f]=w.useState("");w.useEffect(()=>{m();const x=setInterval(m,1e4);return()=>clearInterval(x)},[]);const m=async()=>{r(!0),i(!1);try{const x=await ja.getAll();e(x.length>0?x:tm)}catch(x){console.error("Error loading comments:",x),Ve(x)?(i(!0),e([]),q.error("Firebase permissions blocked. Allow admin read/write to comments in Firestore rules.")):e(tm)}r(!1)},p=async x=>{a(x);try{await ja.markAsRead(x)?(e(C=>C.map(j=>j.id===x?{...j,status:"read"}:j)),q.success("Marked as read")):q.error("Failed to update status")}catch(N){q.error(Ve(N)?"Firebase permissions blocked. Allow admin update on comments.":"Failed to update status")}a(null)},v=async(x,N)=>{const C=N||h.trim();if(!C){q.error("Please enter a reply message");return}a(x);try{await ja.markAsReplied(x,C,"Admin")?(e(I=>I.map(S=>S.id===x?{...S,status:"replied",reply:C,repliedBy:"Admin",repliedAt:new Date().toISOString()}:S)),q.success("Reply sent successfully"),u(null),f("")):q.error("Failed to send reply")}catch(j){q.error(Ve(j)?"Firebase permissions blocked. Allow admin update on comments.":"Failed to send reply")}a(null)},y=x=>{v(x,"Thank you for your question. We have reviewed it and will get back to you soon.")},b=async x=>{if(confirm("Are you sure you want to delete this comment?")){a(x);try{await ja.delete(x)?(e(C=>C.filter(j=>j.id!==x)),q.success("Comment deleted")):q.error("Failed to delete comment")}catch(N){q.error(Ve(N)?"Firebase permissions blocked. Allow admin delete on comments.":"Failed to delete comment")}a(null)}},_=x=>{switch(x){case"unread":return c.jsx("span",{className:"badge-warning",children:"Unread"});case"read":return c.jsx("span",{className:"badge-info",children:"Read"});case"replied":return c.jsx("span",{className:"badge-success",children:"Replied"})}};if(n)return c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(xe,{className:"w-8 h-8 animate-spin text-primary"})});if(s)return c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Firestore permissions are blocking Comments read/write for this account."})});if(t.length===0)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx(z0,{className:"w-12 h-12 mx-auto text-muted-foreground mb-2"}),c.jsx("p",{className:"text-muted-foreground",children:"No user comments"})]});const T=t.filter(x=>x.status==="unread").length;return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"section-header",children:["User Comments (",t.length,")",T>0&&c.jsxs("span",{className:"ml-2 px-2 py-0.5 text-xs bg-destructive text-destructive-foreground rounded-full",children:[T," new"]})]}),t.map((x,N)=>c.jsxs(Y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:`card-farmer ${x.status==="unread"?"border-l-4 border-l-primary":""}`,children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"mb-2",children:[x.subject&&c.jsx("h4",{className:"font-semibold text-foreground",children:x.subject}),c.jsx("p",{className:"text-foreground",children:x.message||x.commentText})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[x.userName&&c.jsxs("span",{children:[" ",x.userName]}),x.userEmail&&c.jsxs("span",{children:[" ",x.userEmail]}),(x.location||x.category)&&c.jsx("span",{children:""}),x.location&&c.jsxs("span",{children:[" ",x.location]}),x.category&&c.jsxs("span",{children:[" ",x.category]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[" ",new Date(x.submittedAt||x.createdAt||"").toLocaleDateString()]})]}),x.reply&&x.status==="replied"&&c.jsxs("div",{className:"mt-4 p-3 bg-accent/20 rounded-lg border-l-4 border-l-accent",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(eg,{className:"w-4 h-4 text-accent-foreground"}),c.jsxs("span",{className:"text-sm font-medium text-accent-foreground",children:["Admin Reply ",x.repliedAt&&` ${new Date(x.repliedAt).toLocaleDateString()}`]})]}),c.jsx("p",{className:"text-sm text-foreground",children:x.reply})]})]}),_(x.status)]}),c.jsx(As,{children:l===x.id&&c.jsxs(Y.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[c.jsx(eg,{className:"w-4 h-4"}),"Replying to ",x.userName]}),c.jsx(gs,{value:h,onChange:C=>f(C.target.value),placeholder:"Type your reply here...",className:"min-h-[100px] resize-none"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(re,{variant:"farmer",size:"sm",onClick:()=>v(x.id),disabled:o===x.id||!h.trim(),children:[o===x.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(jA,{className:"w-4 h-4"}),"Send Reply"]}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{u(null),f("")},children:[c.jsx(vn,{className:"w-4 h-4"}),"Cancel"]})]})]})}),c.jsxs("div",{className:"flex gap-2 mt-4",children:[x.status==="unread"&&c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>p(x.id),disabled:o===x.id,children:[o===x.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(ji,{className:"w-4 h-4"}),"Mark Read"]}),x.status!=="replied"&&l!==x.id&&c.jsxs(c.Fragment,{children:[c.jsxs(re,{variant:"farmer",size:"sm",onClick:()=>{u(x.id),f("")},children:[c.jsx(eg,{className:"w-4 h-4"}),"Reply"]}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(x.id),disabled:o===x.id,children:[o===x.id?c.jsx(xe,{className:"w-4 h-4 animate-spin"}):c.jsx(Em,{className:"w-4 h-4"}),"Quick Reply"]})]}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>b(x.id),disabled:o===x.id,className:"ml-auto",children:c.jsx(rd,{className:"w-4 h-4 text-destructive"})})]})]},x.id))]})}function TQ(){const t=Pn(),{t:e}=xt(),{isAdmin:n,loading:r,user:s}=Rn(),[i,o]=w.useState("pending"),[a,l]=w.useState(0),[u,h]=w.useState(0);w.useEffect(()=>{async function m(){try{const[p,v]=await Promise.all([Wh.getAll(),ja.getAll()]),y=p.filter(_=>_.status==="pending"),b=v.filter(_=>_.status==="unread");l(y.length>0?y.length:em.filter(_=>_.status==="pending").length),h(b.length>0?b.length:tm.filter(_=>_.status==="unread").length)}catch{l(em.filter(v=>v.status==="pending").length),h(tm.filter(v=>v.status==="unread").length)}}m()},[]),w.useEffect(()=>{!r&&!n&&s&&t("/dashboard")},[n,r,t,s]);const f=[{key:"pending",label:e("pendingReviews"),icon:Hn,count:a},{key:"comments",label:e("userComments"),icon:z0,count:u},{key:"diseases",label:e("manageDiseases"),icon:RA},{key:"categories",label:"Disease Categories",icon:bu},{key:"common",label:"Common Diseases",icon:Cc},{key:"chemicals",label:"Chemicals",icon:_O},{key:"markets",label:e("manageMarkets"),icon:Mt}];return r?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(xe,{className:"w-10 h-10 animate-spin text-primary"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):n?c.jsxs("div",{className:"min-h-screen bg-background pb-8",children:[c.jsx("div",{className:"bg-primary text-primary-foreground px-6 pt-6 pb-4",children:c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>t(-1),className:"w-10 h-10 rounded-full bg-primary-foreground/20 flex items-center justify-center hover:bg-primary-foreground/30 transition-colors",children:c.jsx(Il,{className:"w-5 h-5"})}),c.jsx("img",{src:Wl,alt:"AgroGuard AI",className:"w-10 h-10 rounded-xl object-contain bg-primary-foreground/10"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:e("adminDashboard")}),c.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Manage your AgroGuard data"})]})]})}),c.jsx("div",{className:"flex gap-2 px-4 py-4 overflow-x-auto scrollbar-hide",children:f.map(m=>c.jsxs("button",{onClick:()=>o(m.key),className:`flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium whitespace-nowrap transition-all ${i===m.key?"bg-primary text-primary-foreground shadow-md":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[c.jsx(m.icon,{className:"w-4 h-4"}),m.label,m.count!==void 0&&m.count>0&&c.jsx("span",{className:"w-5 h-5 rounded-full bg-destructive text-destructive-foreground text-xs flex items-center justify-center font-bold",children:m.count})]},m.key))}),c.jsxs(Y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-6",children:[i==="pending"&&c.jsx(bQ,{}),i==="comments"&&c.jsx(EQ,{}),i==="diseases"&&c.jsx(mQ,{}),i==="categories"&&c.jsx(yQ,{}),i==="common"&&c.jsx(vQ,{}),i==="chemicals"&&c.jsx(wQ,{}),i==="markets"&&c.jsx(_Q,{})]},i)]}):c.jsxs("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:[c.jsx(bu,{className:"w-16 h-16 text-muted-foreground mb-4"}),c.jsx("h1",{className:"text-xl font-bold text-foreground mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"You don't have permission to access the admin dashboard."}),c.jsx("button",{onClick:()=>t("/dashboard"),className:"text-primary font-medium hover:underline",children:"Go to Dashboard"})]})}const SQ=()=>{const t=Yo();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},CQ="modulepreload",IQ=function(t){return"/"+t},SS={},CS=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=IQ(l),l in SS)return;SS[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":CQ,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function AQ(){const[t,e]=w.useState([{name:"Environment Variables",status:"pending"},{name:"Firebase Connection",status:"pending"},{name:"Backend API",status:"pending"},{name:"React Router",status:"pending"},{name:"Theme Provider",status:"pending"},{name:"Auth Context",status:"pending"}]),n=(a,l,u,h)=>{e(f=>f.map(m=>m.name===a?{...m,status:l,message:u,error:h}:m))},r=async()=>{n("Environment Variables","running");try{const a={NODE_ENV:void 0,MODE:"production",VITE_DEBUG:void 0,VITE_API_BASE_URL:void 0};n("Environment Variables","success",`Mode: ${a.MODE}, Debug: ${a.VITE_DEBUG}`)}catch(a){n("Environment Variables","error","Failed to read environment variables",a.message)}n("Firebase Connection","running");try{const{auth:a}=await CS(async()=>{const{auth:l}=await Promise.resolve().then(()=>jz);return{auth:l}},void 0);a?n("Firebase Connection","success","Firebase auth initialized"):n("Firebase Connection","error","Firebase auth not initialized")}catch(a){n("Firebase Connection","error","Firebase import failed",a.message)}n("Backend API","running");try{const a=new AbortController,l=setTimeout(()=>a.abort(),5e3),u=await fetch("http://localhost:3001/health",{method:"GET",signal:a.signal});if(clearTimeout(l),u.ok){const h=await u.json();n("Backend API","success",`Backend running: ${h.status}`)}else n("Backend API","error",`Backend responded with ${u.status}`)}catch(a){n("Backend API","error","Backend connection failed",a.message)}n("React Router","running");try{const a=window.location.pathname;n("React Router","success",`Current path: ${a}`)}catch(a){n("React Router","error","Router error",a.message)}n("Theme Provider","running");try{const a=document.documentElement.classList.contains("dark")?"dark":"light";n("Theme Provider","success",`Theme: ${a}`)}catch(a){n("Theme Provider","error","Theme provider error",a.message)}n("Auth Context","running");try{const{useAuth:a}=await CS(async()=>{const{useAuth:l}=await Promise.resolve().then(()=>Mz);return{useAuth:l}},void 0);n("Auth Context","success","Auth context imported successfully")}catch(a){n("Auth Context","error","Auth context import failed",a.message)}};w.useEffect(()=>{r()},[]);const s=a=>{switch(a){case"pending":return c.jsx("div",{className:"w-5 h-5 bg-gray-300 rounded-full"});case"running":return c.jsx(xe,{className:"w-5 h-5 animate-spin text-blue-500"});case"success":return c.jsx(gO,{className:"w-5 h-5 text-green-500"});case"error":return c.jsx(vO,{className:"w-5 h-5 text-red-500"})}},i=t.every(a=>a.status==="success"||a.status==="error"),o=t.some(a=>a.status==="error");return c.jsx("div",{className:"min-h-screen bg-background p-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(Hn,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Error Diagnosis"}),c.jsx("p",{className:"text-muted-foreground",children:"Running diagnostic tests to identify the issue..."})]}),c.jsx("div",{className:"space-y-4",children:t.map(a=>c.jsx("div",{className:"p-4 border rounded-lg bg-card",children:c.jsxs("div",{className:"flex items-center gap-3",children:[s(a.status),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:a.name}),a.message&&c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.message}),a.error&&c.jsx("p",{className:"text-sm text-red-500 mt-1 font-mono",children:a.error})]})]})},a.name))}),i&&c.jsxs("div",{className:"mt-8 text-center",children:[o?c.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-red-800 dark:text-red-200 mb-2",children:"Issues Found"}),c.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm mb-4",children:"Some diagnostic tests failed. Please check the errors above and try the following:"}),c.jsxs("ul",{className:"text-left text-sm text-red-700 dark:text-red-300 space-y-1",children:[c.jsx("li",{children:" Ensure the backend server is running on port 3001"}),c.jsx("li",{children:" Check your internet connection for Firebase"}),c.jsx("li",{children:" Clear browser cache and localStorage"}),c.jsx("li",{children:" Restart the development server"})]})]}):c.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-green-800 dark:text-green-200 mb-2",children:"All Tests Passed"}),c.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm",children:"All diagnostic tests completed successfully. The error might be intermittent."})]}),c.jsxs("div",{className:"mt-6 space-x-4",children:[c.jsxs("button",{onClick:r,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 inline-flex items-center gap-2",children:[c.jsx(Al,{className:"w-4 h-4"}),"Run Again"]}),c.jsx("button",{onClick:()=>window.location.href="/test",className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90",children:"Go to Test Page"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90",children:"Reload App"})]})]}),c.jsxs("div",{className:"mt-8 p-4 bg-muted rounded-lg",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"Debug Information"}),c.jsxs("div",{className:"text-sm space-y-1 font-mono",children:[c.jsxs("div",{children:["URL: ",window.location.href]}),c.jsxs("div",{children:["User Agent: ",navigator.userAgent.substring(0,100),"..."]}),c.jsxs("div",{children:["Timestamp: ",new Date().toISOString()]}),c.jsxs("div",{children:["Environment: ","production"]})]})]})]})})}const kQ=new i5({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}}}),NQ=()=>c.jsx(Uz,{children:c.jsx(Vz,{children:c.jsx(a5,{client:kQ,children:c.jsx(b2,{children:c.jsx(Lz,{children:c.jsxs(PF,{children:[c.jsx(dL,{}),c.jsx(qL,{position:"top-center",richColors:!0}),c.jsx(Bz,{}),c.jsx($z,{}),c.jsx(zz,{}),c.jsx(s3,{children:c.jsxs(Y5,{children:[c.jsx(Et,{path:"/",element:c.jsx(IG,{})}),c.jsx(Et,{path:"/test",element:c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md p-6",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:" Test Page"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"If you can see this, the basic routing is working."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"p-3 bg-muted rounded text-sm",children:[c.jsx("strong",{children:"Environment:"})," ","production"]}),c.jsxs("div",{className:"p-3 bg-muted rounded text-sm",children:[c.jsx("strong",{children:"Debug Mode:"})," ","OFF"]}),c.jsxs("div",{className:"p-3 bg-muted rounded text-sm",children:[c.jsx("strong",{children:"API URL:"})," ","http://localhost:3001"]})]}),c.jsxs("div",{className:"mt-6 space-x-4",children:[c.jsx(jt,{to:"/login",className:"text-primary hover:underline",children:"Go to Login"}),c.jsx(jt,{to:"/dashboard",className:"text-primary hover:underline",children:"Go to Dashboard"}),c.jsx(jt,{to:"/",className:"text-primary hover:underline",children:"Go to Home"})]})]})})}),c.jsx(Et,{path:"/login",element:c.jsx(AG,{})}),c.jsx(Et,{path:"/signup",element:c.jsx(kG,{})}),c.jsx(Et,{path:"/setup",element:c.jsx(MG,{})}),c.jsx(Et,{path:"/dashboard",element:c.jsx(FG,{})}),c.jsx(Et,{path:"/diseases",element:c.jsx(UG,{})}),c.jsx(Et,{path:"/diseases/:id",element:c.jsx(BG,{})}),c.jsx(Et,{path:"/markets",element:c.jsx(zG,{})}),c.jsx(Et,{path:"/markets/:id",element:c.jsx(WG,{})}),c.jsx(Et,{path:"/scan",element:c.jsx(iK,{})}),c.jsx(Et,{path:"/scan-history",element:c.jsx(dQ,{})}),c.jsx(Et,{path:"/profile",element:c.jsx(hQ,{})}),c.jsx(Et,{path:"/ask-question",element:c.jsx(fQ,{})}),c.jsx(Et,{path:"/admin",element:c.jsx(TQ,{})}),c.jsx(Et,{path:"/error-diagnosis",element:c.jsx(AQ,{})}),c.jsx(Et,{path:"*",element:c.jsx(SQ,{})})]})})]})})})})})});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller})})}).catch(t=>{})});window.addEventListener("beforeinstallprompt",t=>{t.preventDefault()});window.addEventListener("appinstalled",()=>{});const IS=JI(document.getElementById("root")),PQ=()=>{try{IS.render(c.jsx(NQ,{})),hn.success("App rendered successfully")}catch(t){Dz.log(`Render error: ${t.message}`),IS.render(c.jsxs("div",{style:{padding:"20px",fontFamily:"monospace",backgroundColor:"#fee",color:"#c00",border:"2px solid #c00",borderRadius:"8px",margin:"20px"},children:[c.jsx("h2",{children:" Development Error"}),c.jsxs("p",{children:[c.jsx("strong",{children:"Error:"})," ",t.message]}),c.jsx("p",{children:c.jsx("strong",{children:"Check console for details"})}),c.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",backgroundColor:"#c00",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload App"})]}))}};PQ();
